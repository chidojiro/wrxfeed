{"version":3,"file":"src_vendor_VendorPage_tsx.bundle.js","mappings":"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","sources":["webpack://gravity-web/./src/auth/RestrictedAccess.tsx","webpack://gravity-web/./src/transactions/useTransactions.ts","webpack://gravity-web/./src/vendor/VendorHeader.tsx","webpack://gravity-web/./src/vendor/VendorPage.tsx","webpack://gravity-web/./src/vendor/useVendor.ts","webpack://gravity-web/./src/vendor/useVendorSpendings.ts"],"sourcesContent":["import { LockDBIcon } from '@/assets';\n\nexport const RestrictedAccessPage = () => {\n  return (\n    <div className=\"min-h-screen\">\n      <div className=\"max-w-[360px] mx-auto space-y-16 text-center flex flex-col justify-center items-center mt-32 md:pr-20\">\n        <div className=\"bg-white w-[200px] h-[200px] rounded-full flex justify-center items-center\">\n          <LockDBIcon />\n        </div>\n        <div className=\"space-y-4\">\n          <p className=\"text-3xl font-semibold tracking-tight text-primary\">\n            This item is restricted\n          </p>\n          <p className=\"text-sm leading-4 text-Gray-6 font-normal\">\n            You donâ€™t have access to this data. Please contact an admin for more info.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { EMPTY_ARRAY } from '@/common/constants';\nimport { useFetcher } from '@/common/hooks';\nimport { FeedApis } from '@/feed/apis';\nimport { GetLineItemsPayload } from '@/feed/types';\nimport React from 'react';\n\nexport const useTransactions = (params: GetLineItemsPayload) => {\n  const { data, isInitializing, isValidating, mutate } = useFetcher(\n    ['transactions', params],\n    () => FeedApis.getLineItems(params),\n    { laggy: true },\n  );\n\n  const { lineItems = EMPTY_ARRAY, totalCount = 0 } = data ?? {};\n\n  return React.useMemo(\n    () => ({\n      transactions: lineItems,\n      totalCount,\n      isInitializingTransactions: isInitializing,\n      isValidatingTransactions: isValidating,\n      mutateTransactions: mutate,\n    }),\n    [isInitializing, isValidating, lineItems, mutate, totalCount],\n  );\n};\n","import clsx from 'clsx';\nimport React from 'react';\nimport { VendorIcon } from '@/assets';\nimport { ClassName } from '@/common/types';\nimport { getColorByText } from '@/main/utils';\nimport { useVendor } from './useVendor';\n\nexport type VendorHeaderProps = ClassName & {\n  vendorId: number;\n};\n\nexport const VendorHeader = ({ className, vendorId }: VendorHeaderProps) => {\n  const VendorHeaderColor = getColorByText('', vendorId, true);\n  const { data: department } = useVendor(vendorId);\n\n  return (\n    <div\n      className={clsx(\n        'flex flex-row items-center px-6 mt-6 justify-between py-6 max-h-[84px] rounded-card',\n        className,\n      )}\n      style={{ background: VendorHeaderColor }}\n    >\n      <div className=\"flex flex-row overflow-hidden items-center space-x-4\">\n        <div className=\"flex justify-center flex-shrink-0 items-center w-9 h-9 rounded-full border border-white\">\n          <VendorIcon\n            className=\"w-5 h-5 fill-current path-no-filled text-white opacity-100\"\n            aria-hidden=\"true\"\n          />\n        </div>\n        <p className=\"text-white font-semibold truncate\">{department?.name}</p>\n      </div>\n    </div>\n  );\n};\n","import { CategoryIcon, TeamIcon } from '@/assets';\nimport { RestrictedAccessPage } from '@/auth/RestrictedAccess';\nimport { OverlayLoader, Select } from '@/common/components';\nimport { DEFAULT_ITEMS_PER_INFINITE_LOAD } from '@/common/constants';\nimport { useMountEffect, useUrlState } from '@/common/hooks';\nimport { StringUtils } from '@/common/utils';\nimport { ApiErrorCode } from '@/error';\nimport { DateRangeFilter } from '@/feed/types';\nimport { MainLayout } from '@/layout/MainLayout';\nimport { getDisplayUsdAmount } from '@/main/utils';\nimport { identifyMixPanelUserProfile } from '@/mixpanel/useMixPanel';\nimport { useProfile } from '@/profile/useProfile';\nimport { GroupedSpendingChart } from '@/spending/GroupedSpendingChart';\nimport { GroupedSpendingChartLegends } from '@/spending/GroupedSpendingChartLegends';\nimport { SpendingBarChart } from '@/spending/SpendingBarChart';\nimport { convertDateRangeToFromTo } from '@/spending/utils';\nimport { DEFAULT_SORT } from '@/team/constants';\nimport { TransactionList } from '@/transactions/TransactionList';\nimport { useTransactions } from '@/transactions/useTransactions';\nimport { sumBy } from 'lodash-es';\nimport mixpanel from 'mixpanel-browser';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { GetVendorSpendingsParams } from './types';\nimport { useVendor } from './useVendor';\nimport { useVendorSpendings } from './useVendorSpendings';\nimport { VendorHeader } from './VendorHeader';\n\nexport const VendorPage = () => {\n  const [hoveredItemId, setHoveredItemId] = React.useState<number>();\n  const [sortTransactionsBy, setSortTransactionsBy] = useUrlState<string>(\n    'sortTransactionsBy',\n    DEFAULT_SORT,\n  );\n  const [dateRange, setDateRange] = React.useState<DateRangeFilter>('year-to-date');\n  const [groupBy, setGroupBy] = React.useState<GetVendorSpendingsParams['groupBy']>(undefined);\n\n  const { vendorId: vendorIdParam } = useParams() as Record<string, string>;\n  const vendorId = +vendorIdParam;\n  const [page, setPage] = React.useState<number>(1);\n  const {\n    data: vendor,\n    isValidating: isValidatingVendor,\n    error,\n  } = useVendor(vendorId, {\n    onError: (error) => {\n      if (error.code === ApiErrorCode.Forbidden) {\n        return false;\n      }\n    },\n  });\n\n  const { vendorSpendings, curYearSpends, prevYearSpends, isValidatingVendorSpendings } =\n    useVendorSpendings(vendorId, {\n      groupBy,\n      ...convertDateRangeToFromTo({ dateRange: 'year-to-date' }),\n    });\n\n  const { transactions, isValidatingTransactions, totalCount } = useTransactions({\n    props: [{ id: vendorId, type: 'VENDOR', name: '', exclude: false }],\n    limit: DEFAULT_ITEMS_PER_INFINITE_LOAD,\n    offset: (page - 1) * DEFAULT_ITEMS_PER_INFINITE_LOAD,\n    ...convertDateRangeToFromTo({ dateRange }),\n    ...StringUtils.toApiSortParam(sortTransactionsBy ?? ''),\n  });\n\n  const totalSpend = sumBy(curYearSpends, 'total');\n  const totalSpendLastYear = sumBy(prevYearSpends, 'total');\n\n  const { profile } = useProfile();\n\n  useMountEffect(() => {\n    mixpanel.track('Vendor Page View', {\n      user_id: profile?.id,\n      email: profile?.email,\n      company_id: profile?.company?.id,\n    });\n    identifyMixPanelUserProfile(profile);\n  });\n\n  if (!vendorSpendings) return null;\n\n  const isForbidden = error?.code === ApiErrorCode.Forbidden;\n\n  if (isForbidden) {\n    return (\n      <MainLayout>\n        <RestrictedAccessPage />\n      </MainLayout>\n    );\n  }\n\n  return (\n    <MainLayout>\n      <VendorHeader vendorId={vendorId} />\n      <OverlayLoader loading={isValidatingVendor || isValidatingVendorSpendings} className=\"mt-6\">\n        <div className=\"rounded-card shadow-card px-6 py-4 bg-white\">\n          <div className=\"flex justify-between\">\n            <h3 className=\"text-primary font-bold\">{vendor?.name}</h3>\n            <div className=\"flex space-x-2 items-center\">\n              <p className=\"text-xs text-primary\">Group By</p>\n              <Select\n                className=\"border border-solid border-Gray-11 rounded\"\n                value={groupBy}\n                onChange={(value: any) => setGroupBy(value)}\n                options={[\n                  { label: 'None', value: '' },\n                  {\n                    label: (\n                      <div className=\"flex items-center gap-2\">\n                        <TeamIcon />\n                        Team\n                      </div>\n                    ),\n                    value: 'DEPARTMENT',\n                  },\n                  {\n                    label: (\n                      <div className=\"flex items-center gap-2\">\n                        <CategoryIcon />\n                        Category\n                      </div>\n                    ),\n                    value: 'CATEGORY',\n                  },\n                ]}\n              />\n            </div>\n          </div>\n          <div className=\"flex gap-4 mt-2\">\n            <div>\n              <div className=\"flex gap-1 items-center text-xs text-Gray-6\">\n                <div className=\"w-1.5 h-1.5 rounded bg-Accent-2\"></div>\n                <span>Spend</span>\n              </div>\n              <p className=\"text-primary font-bold font-sm\">{getDisplayUsdAmount(totalSpend)}</p>\n            </div>\n            <div>\n              <div className=\"flex gap-1 items-center text-xs text-Gray-6\">\n                <div className=\"w-1.5 h-1.5 rounded bg-Gray-6\"></div>\n                <span>Last Year</span>\n              </div>\n              <p className=\"text-primary font-bold font-sm\">\n                {getDisplayUsdAmount(totalSpendLastYear)}\n              </p>\n            </div>\n          </div>\n          <div className=\"flex gap-8 h-full items-stretch\">\n            <div className=\"h-[400px] mt-8 flex-1 border border-Gray-12 rounded-lg px-4 pt-10 pb-6\">\n              {!groupBy ? (\n                <SpendingBarChart thisYearData={curYearSpends} lastYearData={prevYearSpends} />\n              ) : (\n                <GroupedSpendingChart data={vendorSpendings} highlightedItemId={hoveredItemId} />\n              )}\n            </div>\n            {!!groupBy && (\n              <GroupedSpendingChartLegends\n                spendings={curYearSpends}\n                groupBy={groupBy}\n                highlightedItemId={hoveredItemId}\n                onItemMouseEnter={setHoveredItemId}\n                onItemMouseLeave={() => setHoveredItemId(undefined)}\n                dateRange={dateRange}\n              />\n            )}\n          </div>\n        </div>\n      </OverlayLoader>\n      <TransactionList\n        className=\"mt-6\"\n        onPageChange={setPage}\n        totalCount={totalCount}\n        transactions={transactions}\n        loading={isValidatingTransactions}\n        hiddenColumns={['vendorName']}\n        dateRange={dateRange}\n        onDateRangeChange={setDateRange}\n        sort={sortTransactionsBy}\n        onSortChange={setSortTransactionsBy}\n        disableTransactionButton\n        defaultExpand\n      />\n    </MainLayout>\n  );\n};\n","import { useFetcher, UseFetcherConfiguration } from '@/common/hooks';\nimport { VendorApis } from './apis';\n\nexport const useVendor = (id: number, options?: UseFetcherConfiguration) => {\n  return useFetcher(['vendor', id], () => VendorApis.get(id), options);\n};\n","import { useFetcher } from '@/common/hooks';\nimport { getThisYear } from '@/common/utils/date';\nimport React from 'react';\nimport { VendorApis } from './apis';\nimport { GetVendorSpendingsParams } from './types';\n\nexport const useVendorSpendings = (id: number, params?: GetVendorSpendingsParams) => {\n  const { data, isInitializing, isValidating, mutate } = useFetcher(\n    ['useVendorSpendings', id, params],\n    () => VendorApis.getSpendings(id, params),\n    { laggy: true },\n  );\n\n  const curYearSpends = React.useMemo(() => {\n    return data?.filter(({ year }) => year === getThisYear()) ?? [];\n  }, [data]);\n\n  const prevYearSpends = React.useMemo(() => {\n    return data?.filter(({ year }) => year === getThisYear() - 1) ?? [];\n  }, [data]);\n\n  return React.useMemo(\n    () => ({\n      vendorSpendings: data,\n      curYearSpends,\n      prevYearSpends,\n      isInitializingVendorSpendings: isInitializing,\n      isValidatingVendorSpendings: isValidating,\n      mutateVendorSpendings: mutate,\n    }),\n    [curYearSpends, data, isInitializing, isValidating, mutate, prevYearSpends],\n  );\n};\n"],"names":["LockDBIcon","RestrictedAccessPage","EMPTY_ARRAY","useFetcher","FeedApis","React","useTransactions","params","getLineItems","laggy","data","isInitializing","isValidating","mutate","lineItems","totalCount","useMemo","transactions","isInitializingTransactions","isValidatingTransactions","mutateTransactions","clsx","VendorIcon","getColorByText","useVendor","VendorHeader","className","vendorId","VendorHeaderColor","department","background","name","CategoryIcon","TeamIcon","OverlayLoader","Select","DEFAULT_ITEMS_PER_INFINITE_LOAD","useMountEffect","useUrlState","StringUtils","ApiErrorCode","MainLayout","getDisplayUsdAmount","identifyMixPanelUserProfile","useProfile","GroupedSpendingChart","GroupedSpendingChartLegends","SpendingBarChart","convertDateRangeToFromTo","DEFAULT_SORT","TransactionList","sumBy","mixpanel","useParams","useVendorSpendings","VendorPage","useState","hoveredItemId","setHoveredItemId","sortTransactionsBy","setSortTransactionsBy","dateRange","setDateRange","undefined","groupBy","setGroupBy","vendorIdParam","page","setPage","onError","error","code","Forbidden","vendor","isValidatingVendor","vendorSpendings","curYearSpends","prevYearSpends","isValidatingVendorSpendings","props","id","type","exclude","limit","offset","toApiSortParam","totalSpend","totalSpendLastYear","profile","track","user_id","email","company_id","company","isForbidden","value","label","VendorApis","options","get","getThisYear","getSpendings","filter","year","isInitializingVendorSpendings","mutateVendorSpendings"],"sourceRoot":""}