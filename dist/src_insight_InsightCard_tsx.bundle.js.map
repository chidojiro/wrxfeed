{"version":3,"file":"src_insight_InsightCard_tsx.bundle.js","mappings":"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","sources":["webpack://gravity-web/./src/insight/InsightCard.tsx","webpack://gravity-web/./src/insight/InsightCardActionMenu.tsx","webpack://gravity-web/./src/insight/apis.ts","webpack://gravity-web/./src/insight/useInsightSpendings.ts","webpack://gravity-web/./src/insight/useInsightTransactions.ts","webpack://gravity-web/./node_modules/@heroicons/react/outline/esm/TrashIcon.js"],"sourcesContent":["import { AlertRed, EssentialsSendEnableIcon } from '@/assets';\nimport { Button, Form, Input, OverlayLoader } from '@/common/components';\nimport { DEFAULT_ITEMS_PER_INFINITE_LOAD, EMPTY_ARRAY } from '@/common/constants';\nimport { StringUtils } from '@/common/utils';\nimport { CommentBox } from '@/feed/CommentBox';\nimport { CommentsSection } from '@/feed/FeedCard/CommentsSection';\nimport { FeedCardHeader } from '@/feed/FeedCard/FeedCardHeader';\nimport { DateRangeFilter, Property } from '@/feed/types';\nimport { getDisplayUsdAmount } from '@/main/utils';\nimport { useMentions } from '@/misc/useMentions';\nimport { GroupedSpendingChart } from '@/spending/GroupedSpendingChart';\nimport { GroupedSpendingChartLegends } from '@/spending/GroupedSpendingChartLegends';\nimport { SpendingBarChart } from '@/spending/SpendingBarChart';\nimport { convertDateRangeToFromTo, getSortedTotalSpendings } from '@/spending/utils';\nimport { DEFAULT_SORT } from '@/team/constants';\nimport { TransactionList } from '@/transactions/TransactionList';\nimport { Entities } from '@/types';\nimport clsx from 'clsx';\nimport dayjs from 'dayjs';\nimport { sumBy } from 'lodash-es';\nimport React, { useState } from 'react';\nimport { InsightCardActionMenu } from './InsightCardActionMenu';\nimport { InsightFeedItem } from './types';\nimport { useInsightSpendings } from './useInsightSpendings';\nimport { useInsightTransactions } from './useInsightTransactions';\n\nexport type InsightCardProps = {\n  groupBy?: Entities;\n  errors?: Record<string, any>;\n  dateRange?: DateRangeFilter;\n  props?: Property[];\n  onPost?: (data: any) => void;\n  feed?: InsightFeedItem;\n  onDeleteSuccess?: () => void;\n  posting?: boolean;\n  initializing?: boolean;\n  postable?: boolean;\n};\n\nexport const InsightCard = ({\n  groupBy: groupByProp,\n  dateRange: dateRangeProp,\n  props: propsProp,\n  onPost,\n  onDeleteSuccess,\n  feed,\n  posting,\n  errors,\n  initializing,\n  postable = true,\n}: InsightCardProps) => {\n  const [hoveredItemId, setHoveredItemId] = React.useState<number>();\n\n  const {\n    insight: {\n      dateRange: _dateRange = dateRangeProp,\n      groupBy = groupByProp,\n      props = propsProp,\n      name = '',\n      from: _from = undefined,\n      to: _to = undefined,\n    } = {},\n  } = feed ?? {};\n\n  const dateRange =\n    _dateRange === 'custom' && _from && _to ? [new Date(_from), new Date(_to)] : _dateRange;\n\n  const {\n    insightSpendings = EMPTY_ARRAY,\n    curYearSpends,\n    prevYearSpends,\n    isInitializingInsightSpendings,\n  } = useInsightSpendings(\n    {\n      props: props!,\n      periods: [],\n      groupByItem: groupBy!,\n      ...convertDateRangeToFromTo({ dateRange: dateRange!, from: _from, to: _to }),\n    },\n    { enabled: !initializing },\n  );\n\n  const sortedTotalSpendings = getSortedTotalSpendings(insightSpendings, dateRange!);\n\n  const totalSpend = sumBy(sortedTotalSpendings, 'total');\n  const totalSpendLastYear = sumBy(prevYearSpends, 'total');\n\n  const [sortTransactionsBy, setSortTransactionsBy] = useState<string>(DEFAULT_SORT);\n  const [page, setPage] = useState<number>(1);\n\n  const { mentions } = useMentions();\n\n  const hasNameError = !!errors?.name;\n\n  const renderErrorName = () => {\n    return (\n      <div className=\"flex flex-row items-center px-2 space-x-1 my-1\">\n        <AlertRed width={15} height={15} className=\"w-4 h-4\" viewBox=\"0 0 15 15\" />\n        <p className=\"text-xs text-Gray-6\">Insight name is required</p>\n      </div>\n    );\n  };\n\n  const from =\n    _from ?? (Array.isArray(dateRange) ? dayjs(dateRange[0]).format('YYYY-MM-DD') : undefined);\n\n  const to =\n    _to ?? (Array.isArray(dateRange) ? dayjs(dateRange[1]).format('YYYY-MM-DD') : undefined);\n\n  const { transactions, isValidatingTransactions, totalCount } = useInsightTransactions({\n    props: props ?? [],\n    dateRange: typeof dateRange === 'string' ? dateRange : 'custom',\n    from,\n    to,\n    groupBy: groupBy!,\n    limit: DEFAULT_ITEMS_PER_INFINITE_LOAD,\n    offset: (page - 1) * DEFAULT_ITEMS_PER_INFINITE_LOAD,\n    ...StringUtils.toApiSortParam(sortTransactionsBy),\n  });\n\n  const hideLastYear = !!from && !!to && dayjs(from).year() !== dayjs(to).year();\n\n  React.useEffect(() => {\n    setPage(1);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify({ props: props ?? [], dateRange: dateRange!, groupBy: groupBy! })]);\n\n  return (\n    <OverlayLoader loading={isInitializingInsightSpendings}>\n      <div className={clsx('rounded-card border-card shadow-card', 'bg-white')}>\n        {feed ? (\n          <FeedCardHeader type=\"INSIGHT\" />\n        ) : (\n          <div\n            className=\"h-3 rounded-t-card\"\n            style={{ background: 'linear-gradient(138.74deg, #395BD4 -12.96%, #82B2B3 100%)' }}\n          ></div>\n        )}\n        <div className={clsx('py-6 px-8')}>\n          <div className=\"grid grid-cols-10\">\n            {feed ? (\n              <>\n                <Input\n                  readOnly\n                  value={name}\n                  variant=\"underline\"\n                  className=\"font-bold text-lg col-span-7\"\n                />\n                <div className=\"col-span-3 flex items-center justify-end\">\n                  <InsightCardActionMenu feed={feed} onDeleteSuccess={onDeleteSuccess} />\n                </div>\n              </>\n            ) : (\n              <Form.Input\n                name=\"name\"\n                rules={{\n                  required: true,\n                }}\n                readOnly={!!feed}\n                variant=\"underline\"\n                className=\"font-bold text-lg col-span-7\"\n                placeholder=\"Name this insight...\"\n              />\n            )}\n          </div>\n          {hasNameError && renderErrorName()}\n          <div className={clsx('relative top-5', 'grid grid-cols-10 gap-4')}>\n            <div className=\"col-span-7\">\n              <div className=\"flex gap-4 h-10\">\n                <div>\n                  <div className=\"flex gap-1 items-center text-xs text-Gray-6\">\n                    <div className=\"w-1.5 h-1.5 rounded bg-Accent-2\"></div>\n                    <span>Spend</span>\n                  </div>\n                  <p className=\"text-primary font-bold font-sm\">\n                    {getDisplayUsdAmount(totalSpend)}\n                  </p>\n                </div>\n                {!hideLastYear && (\n                  <div>\n                    <div className=\"flex gap-1 items-center text-xs text-Gray-6\">\n                      <div className=\"w-1.5 h-1.5 rounded bg-Gray-6\"></div>\n                      <span>Last Year</span>\n                    </div>\n                    <p className=\"text-primary font-bold font-sm\">\n                      {getDisplayUsdAmount(totalSpendLastYear)}\n                    </p>\n                  </div>\n                )}\n              </div>\n              <div className=\"h-[400px] mt-3 flex-1 border border-Gray-12 rounded-lg px-4 pt-10 pb-6\">\n                {!groupBy ? (\n                  <SpendingBarChart thisYearData={curYearSpends} lastYearData={prevYearSpends} />\n                ) : (\n                  <GroupedSpendingChart\n                    data={insightSpendings}\n                    highlightedItemId={hoveredItemId}\n                    dateRange={dateRange}\n                  />\n                )}\n              </div>\n            </div>\n            {!!groupBy && (\n              <GroupedSpendingChartLegends\n                spendings={insightSpendings}\n                groupBy={groupBy}\n                highlightedItemId={hoveredItemId}\n                onItemMouseEnter={setHoveredItemId}\n                onItemMouseLeave={() => setHoveredItemId(undefined)}\n                dateRange={dateRange!}\n                className=\"col-span-3 w-auto\"\n              />\n            )}\n          </div>\n        </div>\n        <TransactionList\n          className=\"my-6 mx-8\"\n          defaultExpand={false}\n          onPageChange={setPage}\n          totalCount={totalCount}\n          transactions={transactions}\n          loading={isValidatingTransactions}\n          sort={sortTransactionsBy}\n          onSortChange={setSortTransactionsBy}\n          showLoadMoreButton={transactions.length % 10 === 0}\n        />\n        {feed ? (\n          <CommentsSection feed={feed} />\n        ) : (\n          <div className={clsx('py-4 px-18', { 'opacity-70 pointer-events-none': !postable })}>\n            <CommentBox\n              allowEmpty\n              alwaysShowTools\n              mentionData={mentions}\n              onSubmit={onPost}\n              className=\"!rounded-lg\"\n              placeholder=\"@mention people or teams to your share insights\"\n              renderSubmitButton={({ disabled, onClick }) => (\n                <Button\n                  loading={posting}\n                  variant=\"solid\"\n                  colorScheme=\"accent\"\n                  size=\"sm\"\n                  disabled={disabled}\n                  onClick={onClick}\n                  iconRight={<EssentialsSendEnableIcon />}\n                  className=\"px-6\"\n                >\n                  Post\n                </Button>\n              )}\n            />\n          </div>\n        )}\n      </div>\n    </OverlayLoader>\n  );\n};\n","import {\n  CategoryIcon,\n  EditIcon,\n  EyeIcon,\n  PlusCircleSolidIcon,\n  TeamIcon,\n  TickCircleSolidIcon,\n  VendorIcon,\n} from '@/assets';\nimport { Avatar, Divider, Menu, Tag } from '@/common/components';\nimport { useDisclosure, useHandler } from '@/common/hooks';\nimport { distanceToNow } from '@/common/utils';\nimport { useSubscribe } from '@/subscription/useSubscribe';\nimport { useSubscription } from '@/subscription/useSubscription';\nimport { useUnsubscribe } from '@/subscription/useUnsubscribe';\nimport { TrashIcon } from '@heroicons/react/outline';\nimport { Link } from 'react-router-dom';\nimport { InsightApis } from './apis';\nimport { InsightFeedItem } from './types';\n\nexport type InsightCardActionMenuProps = {\n  feed: InsightFeedItem;\n  onDeleteSuccess?: () => void;\n};\n\nexport const InsightCardActionMenu = ({\n  feed: { insight },\n  onDeleteSuccess,\n}: InsightCardActionMenuProps) => {\n  const {\n    id,\n    updatedAt,\n    props,\n    creator: { fullName, avatar },\n  } = insight;\n\n  const vendorProps = props.filter(({ type }) => type === 'VENDOR');\n  const departmentProps = props.filter(({ type }) => type === 'DEPARTMENT');\n  const categoryProps = props.filter(({ type }) => type === 'CATEGORY');\n\n  const viewDetailsDisclosure = useDisclosure();\n\n  const { handle: deleteInsight } = useHandler(() => InsightApis.delete(id), {\n    onSuccess: onDeleteSuccess,\n  });\n\n  const { subscription } = useSubscription();\n  const { subscribe } = useSubscribe();\n  const { unsubscribe } = useUnsubscribe();\n\n  const isFollowing = subscription?.insights?.find((insight) => insight.id === id);\n\n  return (\n    <Menu placement=\"bottom-end\" onClose={viewDetailsDisclosure.close}>\n      {viewDetailsDisclosure.isOpen ? (\n        <div className=\"py-5 px-4 shadow-card w-[300px] bg-white max-h-[300px] overflow-auto\">\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            <Avatar src={avatar} fullName=\"fullName\" size=\"md\" />\n            <div>\n              <h4 className=\"font-bold text-xs\">{fullName}</h4>\n              <p className=\"text-Gray-6 text-xs\">Last edited {distanceToNow(updatedAt)}</p>\n            </div>\n          </div>\n          {!!props.length && (\n            <div className=\"mt-4\">\n              <h5 className=\"font-bold text-xs\">Properties</h5>\n              <div className=\"flex gap-2 mt-2 flex-wrap\">\n                {vendorProps.map(({ id, name }) => (\n                  <Tag icon={<VendorIcon />} key={id} colorScheme=\"orange\">\n                    {name}\n                  </Tag>\n                ))}\n                {categoryProps.map(({ id, name }) => (\n                  <Tag icon={<CategoryIcon />} key={id} colorScheme=\"accent\">\n                    {name}\n                  </Tag>\n                ))}\n                {departmentProps.map(({ id, name }) => (\n                  <Tag icon={<TeamIcon />} key={id} colorScheme=\"cyan\">\n                    {name}\n                  </Tag>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      ) : (\n        <>\n          <Menu.Item\n            onClick={viewDetailsDisclosure.open}\n            closeOnClick={false}\n            className=\"w-[145px]\"\n            leftIcon={<EyeIcon width={16} height={16} />}\n          >\n            View Details\n          </Menu.Item>\n          <Link to={`/insights/${id}`}>\n            <Menu.Item leftIcon={<EditIcon width={16} height={16} />}>Edit Insight</Menu.Item>\n          </Link>\n          {!isFollowing ? (\n            <Menu.Item\n              leftIcon={<PlusCircleSolidIcon />}\n              onClick={() => subscribe('insights', [insight])}\n            >\n              Follow\n            </Menu.Item>\n          ) : (\n            <Menu.Item\n              leftIcon={<TickCircleSolidIcon width={16} height={16} className=\"text-Green-400\" />}\n              onClick={() => unsubscribe('insights', [insight])}\n            >\n              Following\n            </Menu.Item>\n          )}\n          <Divider />\n          <Menu.Item\n            onClick={deleteInsight}\n            leftIcon={<TrashIcon width={16} height={16} className=\"text-danger\" />}\n          >\n            Delete Insight\n          </Menu.Item>\n        </>\n      )}\n    </Menu>\n  );\n};\n","import { RestApis } from '@/rest/apis';\nimport { CreateInsightPayload, Insight, UpdateInsightPayload } from './types';\n\nconst get = (id: number) => RestApis.get<Insight>(`/insight/items/${id}`);\n\nconst create = async (payload: CreateInsightPayload) =>\n  RestApis.post<Insight>('/insight/items', payload);\n\nconst update = async (id: number, payload: UpdateInsightPayload) =>\n  RestApis.put<Insight>(`/insight/items/${id}`, payload);\n\nconst _delete = async (id: number) => RestApis.delete<any>(`/insight/items/${id}`);\n\nexport const InsightApis = { get, create, update, delete: _delete };\n","import { useFetcher } from '@/common/hooks';\nimport { getThisYear } from '@/common/utils/date';\nimport { FeedApis } from '@/feed/apis';\nimport { GetFeedSpendingParams } from '@/feed/types';\nimport React from 'react';\n\nexport const useInsightSpendings = (\n  params: GetFeedSpendingParams,\n  configs?: { enabled: boolean },\n) => {\n  const { enabled = true } = configs || {};\n\n  const { data, isInitializing, isValidating, mutate } = useFetcher(\n    enabled && ['useInsightSpendings', params],\n    () => FeedApis.getSpending(params),\n    { laggy: true },\n  );\n\n  const curYearSpends = React.useMemo(() => {\n    return data?.filter(({ year }) => year === getThisYear()) ?? [];\n  }, [data]);\n\n  const prevYearSpends = React.useMemo(() => {\n    return data?.filter(({ year }) => year === getThisYear() - 1) ?? [];\n  }, [data]);\n\n  return React.useMemo(\n    () => ({\n      insightSpendings: data,\n      curYearSpends,\n      prevYearSpends,\n      isInitializingInsightSpendings: isInitializing,\n      isValidatingInsightSpendings: isValidating,\n      mutateInsightSpendings: mutate,\n    }),\n    [curYearSpends, data, isInitializing, isValidating, mutate, prevYearSpends],\n  );\n};\n","import { EMPTY_ARRAY } from '@/common/constants';\nimport { useFetcher } from '@/common/hooks';\nimport { FeedApis } from '@/feed/apis';\nimport React from 'react';\nimport { GetInsightLineItemsBody } from './types';\n\nexport const useInsightTransactions = (body: GetInsightLineItemsBody) => {\n  const { data, isInitializing, isValidating, mutate } = useFetcher(\n    ['insight-transactions', body],\n    () => FeedApis.getInsightLineItems(body),\n    { laggy: true },\n  );\n\n  const { lineItems = EMPTY_ARRAY, totalCount = 0 } = data ?? {};\n\n  return React.useMemo(\n    () => ({\n      transactions: lineItems,\n      totalCount,\n      isInitializingTransactions: isInitializing,\n      isValidatingTransactions: isValidating,\n      mutateTransactions: mutate,\n    }),\n    [isInitializing, isValidating, lineItems, mutate, totalCount],\n  );\n};\n","import * as React from \"react\";\n\nfunction TrashIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(TrashIcon);\nexport default ForwardRef;"],"names":["AlertRed","EssentialsSendEnableIcon","Button","Form","Input","OverlayLoader","DEFAULT_ITEMS_PER_INFINITE_LOAD","EMPTY_ARRAY","StringUtils","CommentBox","CommentsSection","FeedCardHeader","getDisplayUsdAmount","useMentions","GroupedSpendingChart","GroupedSpendingChartLegends","SpendingBarChart","convertDateRangeToFromTo","getSortedTotalSpendings","DEFAULT_SORT","TransactionList","clsx","dayjs","sumBy","React","useState","InsightCardActionMenu","useInsightSpendings","useInsightTransactions","InsightCard","groupByProp","groupBy","dateRangeProp","dateRange","propsProp","props","onPost","onDeleteSuccess","feed","posting","errors","initializing","postable","hoveredItemId","setHoveredItemId","insight","_dateRange","name","from","_from","undefined","to","_to","Date","periods","groupByItem","enabled","insightSpendings","curYearSpends","prevYearSpends","isInitializingInsightSpendings","sortedTotalSpendings","totalSpend","totalSpendLastYear","sortTransactionsBy","setSortTransactionsBy","page","setPage","mentions","hasNameError","renderErrorName","Array","isArray","format","limit","offset","toApiSortParam","transactions","isValidatingTransactions","totalCount","hideLastYear","year","useEffect","JSON","stringify","background","required","length","disabled","onClick","CategoryIcon","EditIcon","EyeIcon","PlusCircleSolidIcon","TeamIcon","TickCircleSolidIcon","VendorIcon","Avatar","Divider","Menu","Tag","useDisclosure","useHandler","distanceToNow","useSubscribe","useSubscription","useUnsubscribe","TrashIcon","Link","InsightApis","id","updatedAt","creator","fullName","avatar","vendorProps","filter","type","departmentProps","categoryProps","viewDetailsDisclosure","delete","onSuccess","deleteInsight","handle","subscription","subscribe","unsubscribe","isFollowing","insights","find","close","isOpen","map","open","RestApis","get","create","payload","post","update","put","_delete","useFetcher","getThisYear","FeedApis","params","configs","getSpending","laggy","data","isInitializing","isValidating","mutate","useMemo","isValidatingInsightSpendings","mutateInsightSpendings","body","getInsightLineItems","lineItems","isInitializingTransactions","mutateTransactions"],"sourceRoot":""}