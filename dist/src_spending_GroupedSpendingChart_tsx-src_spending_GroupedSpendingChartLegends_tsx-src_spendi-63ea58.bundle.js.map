{"version":3,"file":"src_spending_GroupedSpendingChart_tsx-src_spending_GroupedSpendingChartLegends_tsx-src_spendi-63ea58.bundle.js","mappings":"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","sources":["webpack://gravity-web/./src/spending/GroupedSpendingChart.tsx","webpack://gravity-web/./src/spending/GroupedSpendingChartLegends.tsx","webpack://gravity-web/./src/spending/SpendingBarChart.tsx","webpack://gravity-web/./src/spending/SpendingChartV2/SpendingChartV2.tsx","webpack://gravity-web/./src/spending/SpendingChartV2/TooltipContent.tsx","webpack://gravity-web/./src/spending/SpendingChartV2/index.ts","webpack://gravity-web/./src/spending/SpendingChartV2/types.ts"],"sourcesContent":["import { ClassName } from '@/common/types';\nimport { DateRangeFilter } from '@/feed/types';\nimport { Target } from '@/target/types';\nimport React from 'react';\nimport { ChartInfo, SpendingChartV2 } from './SpendingChartV2';\nimport { Spending } from './types';\nimport { getChartDataByDateRange, getSortedTotalSpendings } from './utils';\n\nexport type GroupedSpendingChartProps = ClassName & {\n  data: Spending[];\n  highlightedItemId?: number;\n  dateRange?: DateRangeFilter;\n  target?: Target;\n};\n\nconst OTHER_COLOR = '#B2B7BB';\n\nexport const GroupedSpendingChart = ({\n  data,\n  highlightedItemId,\n  dateRange,\n  target,\n}: GroupedSpendingChartProps) => {\n  const top10TotalSpendings = (dateRange ? getSortedTotalSpendings(data, dateRange) : []).slice(\n    0,\n    10,\n  );\n\n  const chartData = React.useMemo(() => {\n    if (!dateRange) return [];\n\n    return getChartDataByDateRange(data, dateRange);\n  }, [data, dateRange]);\n\n  return (\n    <SpendingChartV2\n      data={chartData}\n      dateRange={dateRange}\n      highlightedDataKey={\n        highlightedItemId && !top10TotalSpendings.map(({ id }) => id).includes(highlightedItemId)\n          ? -1\n          : highlightedItemId\n      }\n      charts={\n        [\n          {\n            type: 'BAR',\n            color: '#EFF0F2',\n            dataKey: 'previousYearTotal',\n          },\n          {\n            type: 'BAR',\n            color: '',\n            stackedBars: [\n              top10TotalSpendings.map(({ id, color }) => ({\n                dataKey: id.toString(),\n                color,\n              })),\n              { dataKey: '-1', color: OTHER_COLOR },\n            ].flat(),\n          },\n          target && {\n            type: 'AREA',\n            stroke: '#374151',\n            dataKey: 'target',\n            fill: 'transparent',\n          },\n        ].filter(Boolean) as ChartInfo[]\n      }\n    />\n  );\n};\n","import { Button } from '@/common/components';\nimport { useDisclosure } from '@/common/hooks';\nimport { ClassName } from '@/common/types';\nimport { DateRangeFilter } from '@/feed/types';\nimport { getDisplayUsdAmount } from '@/main/utils';\nimport { RestrictedItem as TRestrictedItem } from '@/role/types';\nimport { useRestrictedItems } from '@/role/useRestrictedItems';\nimport { Entities } from '@/types';\nimport { ChevronDownIcon, ChevronUpIcon } from '@heroicons/react/outline';\nimport clsx from 'clsx';\nimport { isEqual } from 'lodash-es';\nimport { useHistory } from 'react-router-dom';\nimport { Spending } from './types';\nimport { getSortedTotalSpendings } from './utils';\n\nexport type GroupedSpendingChartLegendsProps = ClassName & {\n  spendings: Spending[];\n  groupBy: Entities;\n  highlightedItemId?: number;\n  onItemMouseEnter: (itemId: number) => void;\n  onItemMouseLeave: () => void;\n  dateRange: DateRangeFilter;\n};\n\nconst LabelsByGroupBy = {\n  DEPARTMENT: 'Teams',\n  CATEGORY: 'Categories',\n  VENDOR: 'Vendors',\n};\n\nexport const GroupedSpendingChartLegends = ({\n  spendings,\n  groupBy,\n  highlightedItemId,\n  className,\n  onItemMouseEnter,\n  onItemMouseLeave,\n  dateRange,\n}: GroupedSpendingChartLegendsProps) => {\n  const sortedTotalSpendings = getSortedTotalSpendings(spendings, dateRange);\n\n  const showOthersDisclosure = useDisclosure();\n\n  const { restrictedItems } = useRestrictedItems();\n\n  const history = useHistory();\n\n  const isRestricted = (id: number, type: TRestrictedItem['type']) => {\n    return !!restrictedItems.find((item) => isEqual({ id, type }, item));\n  };\n\n  const handleRedirectUrl = (id: number) => {\n    if (groupBy === 'CATEGORY') {\n      history.push(`/categories/${id}`);\n    }\n    if (groupBy === 'VENDOR') {\n      history.push(`/vendors/${id}`);\n    }\n    if (groupBy === 'DEPARTMENT') {\n      history.push(`/departments/${id}`);\n    }\n  };\n\n  const firstTen = sortedTotalSpendings.flat().slice(0, 10);\n  const remaining = sortedTotalSpendings.flat().slice(10);\n\n  return (\n    <div className={clsx('flex flex-col', className)}>\n      <h3 className=\"font-semibold h-5 flex items-end\">{LabelsByGroupBy[groupBy]}</h3>\n      <div className=\"border border-Gray-12 rounded-lg p-2 min-w-[180px] mt-3 text-[10px] flex flex-col flex-1 overflow-auto max-h-[400px]\">\n        {firstTen\n          .filter(({ id }) => !isRestricted(id ?? 0, groupBy))\n          .flat()\n          .map(({ color, id, name, total }) => (\n            <Button\n              key={id}\n              className={clsx('flex items-center justify-between gap-2 py-1', {\n                'opacity-30': highlightedItemId && highlightedItemId !== id,\n              })}\n              onMouseEnter={() => onItemMouseEnter?.(id)}\n              onMouseLeave={onItemMouseLeave}\n              onClick={() => handleRedirectUrl(id)}\n            >\n              <div className=\"flex items-center gap-2\">\n                <div\n                  className=\"w-1.5 h-1.5 rounded-full flex-shrink-0\"\n                  style={{ background: color }}\n                ></div>\n                <span className=\"break-words text-left\">{name}</span>\n              </div>\n              <span className=\"text-Gray-3\">{getDisplayUsdAmount(total)}</span>\n            </Button>\n          ))}\n        {!!remaining.length && (\n          <>\n            <Button\n              onClick={showOthersDisclosure.toggle}\n              className=\"flex gap-1 my-1 -left-0.5 relative\"\n            >\n              {!showOthersDisclosure.isOpen ? (\n                <ChevronDownIcon width={14} />\n              ) : (\n                <ChevronUpIcon width={14} />\n              )}\n              Other\n            </Button>\n            {showOthersDisclosure.isOpen &&\n              remaining\n                .filter(({ id }) => !isRestricted(id ?? 0, groupBy))\n                .flat()\n                .map(({ color, id, name, total }) => (\n                  <Button\n                    key={id}\n                    className={clsx('flex items-center justify-between gap-2 py-1', {\n                      'opacity-30': highlightedItemId && highlightedItemId !== id,\n                    })}\n                    onMouseEnter={() => onItemMouseEnter?.(id)}\n                    onMouseLeave={onItemMouseLeave}\n                    onClick={() => handleRedirectUrl(id)}\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <div\n                        className=\"w-1.5 h-1.5 rounded-full flex-shrink-0\"\n                        style={{ background: color }}\n                      ></div>\n                      <span className=\"break-words text-left\">{name}</span>\n                    </div>\n                    <span className=\"text-Gray-3\">{getDisplayUsdAmount(total)}</span>\n                  </Button>\n                ))}\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { getChartLevels } from '@/main/chart.utils';\nimport clsx from 'clsx';\nimport dayjs from 'dayjs';\nimport { Bar, ComposedChart, ResponsiveContainer, Tooltip, YAxis } from 'recharts';\nimport { Spending } from './types';\nimport { TooltipContent } from './TooltipContent';\nimport { XAxis } from './XAxis';\n\nconst MIN_Y_VALUE = 100;\n\ntype SpendingBarChartProps = {\n  thisYearData: Spending[];\n  lastYearData: Spending[];\n};\n\nexport const SpendingBarChart = ({ thisYearData, lastYearData }: SpendingBarChartProps) => {\n  const maxValue = Math.max(\n    ...thisYearData.map(({ total }) => total),\n    ...lastYearData.map(({ total }) => total),\n    MIN_Y_VALUE,\n  );\n  const maxValueWithSurplus = Math.ceil(maxValue * 1.1);\n  const maxValueForChart = Math.max(maxValueWithSurplus, MIN_Y_VALUE);\n  const chartLevels = getChartLevels(maxValueForChart);\n\n  const data = new Array(12).fill(null).map((_, idx) => ({\n    name: dayjs().set('month', idx).format('MMM'),\n    month: idx + 1,\n    thisYear: thisYearData.find(({ month }) => month === idx + 1)?.total?.toFixed(2) ?? 0,\n    lastYear: lastYearData.find(({ month }) => month === idx + 1)?.total?.toFixed(2) ?? 0,\n  }));\n\n  return (\n    <div className={clsx('flex flex-col w-full h-full')}>\n      <div className=\"flex relative flex-col flex-1\">\n        <div className=\"absolute top-[-3px] flex w-full h-full justify-between flex-col-reverse\">\n          {chartLevels.map((level) => {\n            const textColor = level?.isTarget ? 'text-Accent-2' : 'text-Gray-6';\n            return (\n              <div\n                key={`dataLevels-${level?.id}`}\n                className=\"flex flex-row space-x-4 items-center w-full\"\n              >\n                <p className={clsx('text-xs font-semibold text-right w-8', textColor)}>\n                  {level?.title}\n                </p>\n                <div\n                  className={clsx(\n                    'flex flex-1 w-auto h-px',\n                    level?.isTarget ? 'dashed-line' : 'bg-Gray-11',\n                  )}\n                />\n              </div>\n            );\n          })}\n        </div>\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <ComposedChart\n            width={500}\n            height={300}\n            data={data}\n            margin={{\n              top: 5,\n              right: 10,\n              left: 50,\n              bottom: 10,\n            }}\n            barGap={-36}\n          >\n            <Bar name=\"lastYear\" dataKey=\"lastYear\" fill=\"#EFF0F2\" barSize={24} />\n            <Bar name=\"thisYear\" dataKey=\"thisYear\" fill=\"#6565FB\" barSize={24} />\n            <YAxis domain={[0, maxValueForChart]} width={0} height={0} className=\"opacity-0\" />\n            <Tooltip\n              cursor={{ fill: 'transparent' }}\n              position={{ y: 5 }}\n              content={(props) => <TooltipContent {...props} showTarget={false} overallTarget />}\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n      <XAxis startMonth={1} endMonth={12} bar />\n    </div>\n  );\n};\n","import { DateRangeFilter } from '@/feed/types';\nimport { getChartLevels } from '@/main/chart.utils';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { Bar, Cell, ComposedChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\nimport { getChartTimelineUnit } from '../utils';\nimport { TooltipContent } from './TooltipContent';\nimport { BarChartInfo, ChartInfo } from './types';\n\nconst MIN_Y_VALUE = 100;\n\nfunction CustomizedTick(props: any) {\n  const { x, y, payload, hoveredIndex } = props;\n  const { value, index } = payload;\n\n  const [line1, line2] = value?.toString().split('\\n');\n\n  return (\n    <g transform={`translate(${x},${y})`} className=\"text-xs font-semibold\">\n      <text\n        x={0}\n        y={0}\n        dy={10}\n        fill=\"#7D8490\"\n        className={clsx({\n          'opacity-50': typeof hoveredIndex === 'number' && hoveredIndex !== index,\n        })}\n      >\n        <tspan textAnchor=\"middle\" x=\"0\">\n          {line1}\n        </tspan>\n        <tspan textAnchor=\"middle\" x=\"0\" dy=\"12\">\n          {line2}\n        </tspan>\n      </text>\n    </g>\n  );\n}\n\ntype BaseData = {\n  currentYearTotal: number;\n  previousYearTotal: number;\n};\n\ntype SpendingChartV2Props<TData extends BaseData> = {\n  charts: ChartInfo[];\n  data: TData[];\n  dateRange?: DateRangeFilter;\n  highlightedDataKey?: number;\n};\n\nexport const SpendingChartV2 = <TData extends BaseData>({\n  data,\n  charts,\n  dateRange,\n  highlightedDataKey,\n}: SpendingChartV2Props<TData>) => {\n  const [hoveredIndex, setHoveredIndex] = React.useState<number>();\n\n  const timelineUnit = dateRange ? getChartTimelineUnit(dateRange) : 'month';\n\n  const getCellOpacity = (index: number, dataKey?: number) => {\n    if (hoveredIndex && hoveredIndex !== index) {\n      return 0.5;\n    }\n\n    if (highlightedDataKey && highlightedDataKey !== dataKey) {\n      return 0.2;\n    }\n\n    return 1;\n  };\n\n  const maxValue = Math.max(\n    ...data.map(({ currentYearTotal }) => currentYearTotal),\n    ...data.map(({ previousYearTotal }) => previousYearTotal),\n    MIN_Y_VALUE,\n  );\n  const maxValueWithSurplus = Math.ceil(maxValue * 1.1);\n  const maxValueForChart = Math.max(maxValueWithSurplus, MIN_Y_VALUE);\n  const chartLevels = getChartLevels(maxValueForChart);\n\n  const isSlimBar = data.length > 13;\n\n  const defaultBarSize = React.useMemo(() => {\n    if (isSlimBar) return 8;\n\n    return 24;\n  }, [isSlimBar]);\n\n  const renderBar = (chartInfo: BarChartInfo) => {\n    if (!chartInfo.stackedBars) {\n      return (\n        <Bar\n          dataKey={chartInfo.dataKey ?? ''}\n          name={chartInfo.title}\n          barSize={chartInfo.width ?? defaultBarSize}\n          color={chartInfo.color}\n          fill={chartInfo.color}\n          textAnchor=\"start\"\n        >\n          {data.map((_, index) => (\n            <Cell\n              key={index}\n              color={chartInfo.color}\n              fill={chartInfo.color}\n              opacity={getCellOpacity(index, chartInfo.dataKey ? +chartInfo.dataKey : 0)}\n            />\n          ))}\n        </Bar>\n      );\n    }\n    return (\n      <>\n        {chartInfo.stackedBars.map(({ color, dataKey, title }) => (\n          <Bar\n            key={dataKey}\n            stackId={chartInfo.stackId ?? 'stacked-bar'}\n            dataKey={dataKey}\n            name={title}\n            barSize={chartInfo.width ?? defaultBarSize}\n            color={color}\n            fill={color}\n            textAnchor=\"start\"\n          >\n            {data.map((_, index) => (\n              <Cell\n                key={index}\n                color={color}\n                fill={color}\n                opacity={getCellOpacity(\n                  index,\n                  !isNaN(Number(dataKey)) ? Number(dataKey) : undefined,\n                )}\n              />\n            ))}\n          </Bar>\n        ))}\n      </>\n    );\n  };\n\n  const renderCharts = () => {\n    return charts.map((chart) => {\n      if (chart.type === 'BAR') return renderBar(chart);\n\n      return null;\n    });\n  };\n\n  const getInterval = () => {\n    if (isSlimBar) return 1;\n\n    return 0;\n  };\n\n  const renderXAxis = () => {\n    return (\n      <XAxis\n        dataKey=\"name\"\n        tick={<CustomizedTick hoveredIndex={hoveredIndex} />}\n        tickLine={false}\n        height={22}\n        interval={getInterval()}\n        axisLine={false}\n        style={{\n          fontSize: '12px',\n          fontWeight: 500,\n          color: '#7D8490',\n          whiteSpace: 'pre-line',\n        }}\n      />\n    );\n  };\n\n  const barGap = React.useMemo(() => {\n    if (isSlimBar) return -14;\n\n    return -36;\n  }, [isSlimBar]);\n\n  return (\n    <div className={clsx('flex flex-col w-full h-full')}>\n      <div className=\"flex relative flex-col flex-1 max-h-[400px]\">\n        <div className=\"absolute top-[-3px] flex w-full h-full justify-between flex-col-reverse pb-[22px]\">\n          {chartLevels.map((level) => {\n            const textColor = level?.isTarget ? 'text-Accent-2' : 'text-Gray-6';\n            return (\n              <div\n                key={`dataLevels-${level?.id}`}\n                className=\"flex flex-row space-x-4 items-center w-full\"\n              >\n                <p className={clsx('text-xs font-semibold text-right w-8', textColor)}>\n                  {level?.title}\n                </p>\n                <div\n                  className={clsx(\n                    'flex flex-1 w-auto h-px',\n                    level?.isTarget ? 'dashed-line' : 'bg-Gray-11',\n                  )}\n                />\n              </div>\n            );\n          })}\n        </div>\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <ComposedChart\n            width={500}\n            height={300}\n            data={data}\n            margin={{\n              top: 5,\n              right: 10,\n              left: 50,\n              bottom: 10,\n            }}\n            barGap={barGap}\n            onMouseMove={(data) => setHoveredIndex(data.activeTooltipIndex)}\n            onMouseLeave={() => setHoveredIndex(undefined)}\n          >\n            {renderCharts()}\n            <YAxis domain={[0, maxValueForChart]} width={0} height={0} className=\"opacity-0\" />\n            {renderXAxis()}\n            <Tooltip\n              cursor={{ fill: 'transparent' }}\n              position={{ y: 5 }}\n              content={(props) => <TooltipContent {...props} showTarget={false} overallTarget />}\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n};\n","import { decimalLogic, DecimalType } from '@/main/utils';\nimport React from 'react';\nimport { TooltipProps } from 'recharts';\nimport { NameType, ValueType } from 'recharts/types/component/DefaultTooltipContent';\nimport { TrackingStatus } from '../types';\n\nexport type TooltipContentProps = TooltipProps<ValueType, NameType> & {\n  showTarget?: boolean;\n  trackingStatus?: TrackingStatus;\n  overallTarget?: boolean;\n};\n\nconst MonthLabels: Record<string, string> = {\n  Jan: 'January',\n  Feb: 'February',\n  Mar: 'March',\n  Apr: 'April',\n  May: 'May',\n  Jun: 'June',\n  Jul: 'July',\n  Aug: 'August',\n  Sep: 'September',\n  Oct: 'October',\n  Nov: 'November',\n  Dec: 'December',\n};\n\nexport const TooltipContent = ({ active, payload }: TooltipContentProps) => {\n  if (active && payload) {\n    const dataPoints = payload[0]?.payload;\n    return (\n      <div className=\"flex bg-primary p-2 rounded-sm text-white text-[11px]\">\n        <div className=\"flex flex-col w-[224px]\">\n          <div className=\"flex flex-row items-center\">\n            <p className=\"font-semibold\">{MonthLabels[dataPoints!.name]}</p>\n          </div>\n          <div\n            key=\"this-year\"\n            className=\"flex flex-row flex-grow justify-between items-center space-x-10\"\n          >\n            <div className=\"flex flex-row items-center space-x-1\">\n              <p>Current</p>\n            </div>\n            <p className=\"text-right font-semibold\">\n              {decimalLogic(dataPoints?.currentYearTotal ?? 0, DecimalType.SummedNumbers, '$')}\n            </p>\n          </div>\n          <div\n            key=\"last-year\"\n            className=\"flex flex-row flex-grow justify-between items-center space-x-10\"\n          >\n            <div className=\"flex flex-row items-center space-x-1\">\n              <p>Last Year</p>\n            </div>\n            <p className=\"text-right font-semibold\">\n              {decimalLogic(dataPoints?.previousYearTotal ?? 0, DecimalType.SummedNumbers, '$')}\n            </p>\n          </div>\n\n          <div className=\"mt-1\">\n            {payload.slice(1).map(\n              (data) =>\n                !!data.value && (\n                  <div key={data.name} className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-1\">\n                      <div\n                        className=\"w-1 h-1 rounded-full flex-shrink-0\"\n                        style={{ background: data.color }}\n                      ></div>\n                      <span className=\"break-words\">\n                        {\n                          data.payload.items.find(\n                            (item: any) => item.id.toString() === data.dataKey,\n                          )?.name\n                        }\n                      </span>\n                    </div>\n                    <div className=\"flex-shrink-0\">\n                      <span className=\"font-semibold\">\n                        {decimalLogic((data.value as number) ?? 0, DecimalType.SummedNumbers, '$')}\n                      </span>\n                      <span>\n                        {' '}\n                        ({Math.round((+data.value * 100) / dataPoints.currentYearTotal)})%\n                      </span>\n                    </div>\n                  </div>\n                ),\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n","export * from './types';\nexport * from './SpendingChartV2';\n","import { LabelListProps } from 'recharts';\n\nexport type BaseChartInfo = {\n  dataKey: string;\n  title?: string;\n  color: string;\n  legendIcon?: React.ReactNode;\n  width?: number;\n  formatter?: (v: any) => string;\n  labelProps?: Omit<LabelListProps<any>, 'dataKey'>;\n};\n\nexport type BarChartInfo = Omit<BaseChartInfo, 'dataKey'> & {\n  id?: string;\n  type: 'BAR';\n  stackedBars?: Omit<BaseChartInfo, 'width'>[];\n  color?: string;\n  dataKey?: string;\n  stackId?: string;\n};\n\nexport type ChartInfo = BarChartInfo;\n"],"names":["React","SpendingChartV2","getChartDataByDateRange","getSortedTotalSpendings","OTHER_COLOR","GroupedSpendingChart","data","highlightedItemId","dateRange","target","top10TotalSpendings","slice","chartData","useMemo","map","id","includes","type","color","dataKey","stackedBars","toString","flat","stroke","fill","filter","Boolean","Button","useDisclosure","getDisplayUsdAmount","useRestrictedItems","ChevronDownIcon","ChevronUpIcon","clsx","isEqual","useHistory","LabelsByGroupBy","DEPARTMENT","CATEGORY","VENDOR","GroupedSpendingChartLegends","spendings","groupBy","className","onItemMouseEnter","onItemMouseLeave","sortedTotalSpendings","showOthersDisclosure","restrictedItems","history","isRestricted","find","item","handleRedirectUrl","push","firstTen","remaining","name","total","background","length","toggle","isOpen","getChartLevels","dayjs","Bar","ComposedChart","ResponsiveContainer","Tooltip","YAxis","TooltipContent","XAxis","MIN_Y_VALUE","SpendingBarChart","thisYearData","lastYearData","maxValue","Math","max","maxValueWithSurplus","ceil","maxValueForChart","chartLevels","Array","_","idx","set","format","month","thisYear","toFixed","lastYear","level","textColor","isTarget","title","top","right","left","bottom","y","props","Cell","getChartTimelineUnit","CustomizedTick","x","payload","hoveredIndex","value","index","split","line1","line2","charts","highlightedDataKey","useState","setHoveredIndex","timelineUnit","getCellOpacity","currentYearTotal","previousYearTotal","isSlimBar","defaultBarSize","renderBar","chartInfo","width","stackId","isNaN","Number","undefined","renderCharts","chart","getInterval","renderXAxis","fontSize","fontWeight","whiteSpace","barGap","activeTooltipIndex","decimalLogic","DecimalType","MonthLabels","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","active","dataPoints","SummedNumbers","items","round"],"sourceRoot":""}