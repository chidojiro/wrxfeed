{"version":3,"file":"src_main_pages_Feed_index_tsx.bundle.js","mappings":"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","sources":["webpack://gravity-web/./src/feed/constants.ts","webpack://gravity-web/./src/main/pages/Feed/index.tsx","webpack://gravity-web/./src/target/constants.ts"],"sourcesContent":["import { Category } from '@/main/entity/transaction.entity';\nimport { FeedItem, TranStatus } from '@/main/entity';\nimport { fallbackDepartment } from '@/team/constants';\nimport { fallbackTarget } from '@/target/constants';\n\nexport const fallbackCategory: Category = {\n  id: 1,\n  name: '',\n};\n\nexport const fallbackFeed: FeedItem = {\n  id: 1,\n  type: 'target',\n  department: fallbackDepartment,\n  category: fallbackCategory,\n  transactions: [],\n  lastInteraction: '',\n  target: fallbackTarget,\n  hidden: false,\n  isFallback: true,\n  comments: [],\n  lineItem: {\n    id: 0,\n    company: {\n      id: 0,\n      name: '',\n    },\n    transId: 0,\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    externalId: '',\n    item: '',\n    departmentName: '',\n    departmentId: 0,\n    transStatus: TranStatus.Cancelled,\n  },\n};\n","import { ListLoader } from '@/common/components';\nimport { useFetcher, useHandler, useNavUtils } from '@/common/hooks';\nimport { FeedApis } from '@/feed/apis';\nimport { fallbackFeed } from '@/feed/constants';\nimport { FeedCard } from '@/feed/FeedCard';\nimport { LineItemDrawer, useLineItemDrawer } from '@/feed/LineItemDrawer';\nimport { MainLayout } from '@/layout/MainLayout';\nimport { Routes } from '@/routing/routes';\nimport { TargetApis } from '@/target/apis';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\n\nexport const FeedPage: React.FC = () => {\n  const { redirect } = useNavUtils();\n  const params = useParams<{ id: string }>();\n\n  const feedId = +params.id;\n\n  const {\n    isLineItemDrawerOpen,\n    selectedLineItem,\n    closeLineItemDrawer,\n    feedId: feedIdDetailView,\n  } = useLineItemDrawer();\n\n  const {\n    data: feedItem,\n    mutate,\n    isValidating,\n    error,\n  } = useFetcher(!!feedId && ['feed', feedId], () => FeedApis.get(feedId));\n\n  const goBackToDashboard = () => {\n    redirect(Routes.Dashboard.path as string);\n  };\n\n  const { handle: updateTarget } = useHandler(TargetApis.update, {\n    onSuccess: () => mutate(),\n  });\n  const { handle: deleteTarget } = useHandler(TargetApis.delete, { onSuccess: goBackToDashboard });\n\n  const renderFeed = () => {\n    if (error) {\n      return (\n        <div className=\"flex flex-1 w-full h-[300px] justify-center items-center px-16\">\n          <span className=\"flex text-2xl text-Gray-1 font-semibold text-center\">\n            An error occurred loading this item ðŸ˜ž\n            <br />\n            please try again later!\n          </span>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"w-full h-full hide-scrollbar invisible-scrollbar\">\n        <ListLoader loading={isValidating}>\n          <FeedCard\n            feed={feedItem ?? fallbackFeed}\n            defaultExpand\n            categoryRedirectHref={(category) => `/categories/${category?.id.toString()}`}\n            onDeleteTarget={deleteTarget}\n            onUpdateTarget={updateTarget}\n          />\n        </ListLoader>\n        <LineItemDrawer\n          open={isLineItemDrawerOpen}\n          onClose={closeLineItemDrawer}\n          lineItem={selectedLineItem!}\n          feedId={feedIdDetailView}\n        />\n      </div>\n    );\n  };\n\n  return (\n    <MainLayout>\n      <h1 className=\"sr-only\">Rollups</h1>\n      {renderFeed()}\n    </MainLayout>\n  );\n};\n","import { Target, TargetStatusType } from './types';\n\nexport const fallbackTarget: Target = {\n  id: 0,\n  name: '',\n  creator: {},\n  updater: {},\n  trackingStatus: TargetStatusType.OnTrack,\n  props: [],\n  periods: [],\n  spendings: [],\n  department: {\n    id: 0,\n    name: '',\n  },\n  isPrimary: false,\n};\n"],"names":["TranStatus","fallbackDepartment","fallbackTarget","fallbackCategory","id","name","fallbackFeed","type","department","category","transactions","lastInteraction","target","hidden","isFallback","comments","lineItem","company","transId","createdAt","Date","updatedAt","externalId","item","departmentName","departmentId","transStatus","Cancelled","ListLoader","useFetcher","useHandler","useNavUtils","FeedApis","FeedCard","LineItemDrawer","useLineItemDrawer","MainLayout","Routes","TargetApis","React","useParams","FeedPage","redirect","params","feedId","isLineItemDrawerOpen","selectedLineItem","closeLineItemDrawer","feedIdDetailView","get","feedItem","data","mutate","isValidating","error","goBackToDashboard","Dashboard","path","update","onSuccess","updateTarget","handle","delete","deleteTarget","renderFeed","toString","TargetStatusType","creator","updater","trackingStatus","OnTrack","props","periods","spendings","isPrimary"],"sourceRoot":""}