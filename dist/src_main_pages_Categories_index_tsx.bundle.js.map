{"version":3,"file":"src_main_pages_Categories_index_tsx.bundle.js","mappings":"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","sources":["webpack://gravity-web/./src/assets/icons/solid/tick-small.svg","webpack://gravity-web/./src/common/atoms/InfiniteScroller/index.tsx","webpack://gravity-web/./src/main/hooks/category.hook.ts","webpack://gravity-web/./src/main/molecules/DirectoryItem/index.tsx","webpack://gravity-web/./src/main/organisms/CategoryList/index.tsx","webpack://gravity-web/./src/main/pages/Categories/index.tsx","webpack://gravity-web/./src/subscription/ToggleFollowButton.tsx"],"sourcesContent":["var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgTickSmall = function SvgTickSmall(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 15,\n    height: 15,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4 7.5 7 10l4-5\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.5\n  })));\n};\nexport default SvgTickSmall;","import React, { ReactNode, useCallback, useEffect, useRef, useState } from 'react';\nimport { useDebounce, useEventListener, useIntersection } from '@/common/hooks';\nimport { ScrollToTopButton } from '@/main/molecules';\nimport { Children } from '@/common/types';\n\nconst DEFAULT_THRESHOLD = 150;\n\ninterface InfiniteScrollerProps extends Children {\n  style?: React.CSSProperties;\n  className?: string;\n  threshold?: number;\n  onLoadMore?: () => void;\n  isLoading?: boolean;\n  LoadingComponent?: ReactNode;\n}\n\nconst InfiniteScroller: React.FC<InfiniteScrollerProps> = ({\n  children,\n  style,\n  className,\n  threshold,\n  onLoadMore,\n  isLoading,\n  LoadingComponent,\n}) => {\n  const scrollerRef = useRef<HTMLDivElement>(null);\n  const endAnchorRef = useRef<HTMLDivElement>(null);\n  const [showScrollTop, setShowScrollTop] = useState<boolean>(false);\n  const isEndReached = useIntersection(endAnchorRef.current || undefined, `${threshold}px`); // Trigger if 200px is visible from the element\n  const loadMoreFunc = onLoadMore || (() => undefined);\n  const handleLoadMoreTrigger = useDebounce(loadMoreFunc);\n  const handleScroll = useCallback(() => {\n    const winScroll = scrollerRef.current?.scrollTop ?? 0;\n    const scrollDistance =\n      (scrollerRef.current?.scrollHeight ?? 0) - (scrollerRef.current?.clientHeight ?? 0);\n    if (scrollDistance - winScroll < (threshold ?? DEFAULT_THRESHOLD)) {\n      handleLoadMoreTrigger();\n    }\n    if (winScroll > window.innerHeight) {\n      setShowScrollTop(true);\n    } else {\n      setShowScrollTop(false);\n    }\n  }, [threshold, handleLoadMoreTrigger]);\n\n  useEventListener('scroll', handleScroll, scrollerRef.current || window);\n  const scrollToTop = () => {\n    scrollerRef.current?.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    // In case list doesn't trigger scroller at the first load\n    if (isEndReached) {\n      handleLoadMoreTrigger();\n    }\n  }, [handleLoadMoreTrigger, isEndReached]);\n\n  return (\n    <>\n      <div ref={scrollerRef} className={className} style={style}>\n        {children}\n        {isLoading && LoadingComponent}\n      </div>\n      <ScrollToTopButton onClick={scrollToTop} visible={showScrollTop} />\n      <div ref={endAnchorRef} id=\"end-anchor\" className=\"sr-only\" />\n    </>\n  );\n};\n\nInfiniteScroller.defaultProps = {\n  threshold: DEFAULT_THRESHOLD,\n  style: undefined,\n  className: '',\n  isLoading: false,\n  LoadingComponent: null,\n  onLoadMore: () => undefined,\n};\n\nexport default InfiniteScroller;\n","import { GetCategoriesParams } from '@/category/types';\nimport { useFetcher } from '@/common/hooks';\nimport { Category } from '@/main/entity';\nimport React from 'react';\nimport { CategoryApis } from './../../category/apis';\n\nexport interface UseCategoryParams {\n  params?: GetCategoriesParams;\n  concatNewData?: boolean;\n}\n\ninterface CategoryHookValues {\n  categories: Category[];\n  hasMore: boolean;\n  isLoading: boolean;\n  cleanData: () => void;\n}\n\nexport function useCategory({\n  params,\n  concatNewData = true,\n}: UseCategoryParams): CategoryHookValues {\n  const [categories, setCategories] = React.useState<Category[]>([]);\n  const [hasMore, setHasMore] = React.useState<boolean>(false);\n\n  const cleanData = () => setCategories([]);\n\n  const { isInitializing: isLoading } = useFetcher(['category.hook', params], async () => {\n    const res = await CategoryApis.getList(params);\n    if (concatNewData && params?.limit) {\n      setCategories((prevTrans) => [...prevTrans, ...res]);\n    } else {\n      setCategories(res);\n    }\n    setHasMore(!!res.length);\n  });\n\n  return { categories, hasMore, isLoading, cleanData };\n}\n","import { Avatar } from '@/common/components';\nimport { Category, Department } from '@/main/entity';\nimport { getColorByText, getNameAbbreviation } from '@/main/utils';\nimport { ToggleFollowButton } from '@/subscription/ToggleFollowButton';\nimport { Vendor } from '@/vendor/types';\nimport React, { MouseEventHandler } from 'react';\n\ninterface DirectoryItem {\n  item: Department | Category | Vendor;\n  disableFollow?: boolean;\n  onClick?: MouseEventHandler<HTMLDivElement>;\n  itemType: 'categories' | 'vendors' | 'departments';\n}\n\nconst DirectoryItem: React.FC<DirectoryItem> = ({\n  item,\n  disableFollow = false,\n  onClick,\n  itemType = 'categories',\n}) => {\n  const avatarBgColor = React.useMemo(\n    () => getColorByText(item?.name ?? '', item.id, true),\n    [item],\n  );\n\n  const renderAvatarOrShortName = () => {\n    const shortName = getNameAbbreviation(item?.name);\n    const isHaveAvatar = item?.avatar;\n    return (\n      <div\n        className=\"w-8 h-8 flex justify-center items-center rounded-full\"\n        style={{ background: avatarBgColor }}\n      >\n        {isHaveAvatar && <Avatar size=\"md\" fullName={item.name} src={isHaveAvatar} />}\n        {!isHaveAvatar && <p className=\"text-xs font-semibold text-white\">{shortName}</p>}\n      </div>\n    );\n  };\n\n  const renderIcon = () => {\n    if (disableFollow) return null;\n\n    return <ToggleFollowButton type={itemType} item={item} />;\n  };\n\n  return (\n    <div\n      aria-hidden=\"true\"\n      className=\"flex items-center space-x-2 cursor-pointer px-4 py-3 min-h-16 sm:px-6 bg-white border border-Gray-11 w-full text-sm text-Gray-3 shadow overflow-hidden sm:rounded-card\"\n      onClick={onClick}\n    >\n      {renderAvatarOrShortName()}\n      <div className=\"flex flex-1\">\n        <p className=\"text-sm font-medium text-Gray-1\">{item?.name}</p>\n      </div>\n      {renderIcon()}\n    </div>\n  );\n};\n\nexport default DirectoryItem;\n","import InfiniteScroller from '@/common/atoms/InfiniteScroller';\nimport { useMountEffect } from '@/common/hooks';\nimport ListLoading from '@/main/atoms/ListLoading';\nimport { Category } from '@/main/entity';\nimport DirectoryItem from '@/main/molecules/DirectoryItem';\nimport { identifyMixPanelUserProfile } from '@/mixpanel/useMixPanel';\nimport { useProfile } from '@/profile/useProfile';\nimport mixpanel from 'mixpanel-browser';\nimport React from 'react';\n\ninterface CategoryListProps {\n  categories: Category[];\n  isLoading: boolean;\n  onLoadMore: () => void;\n  hasMore: boolean;\n  onSelect?: (cat: Category) => void;\n}\n\nconst CategoryList: React.FC<CategoryListProps> = ({\n  categories,\n  isLoading,\n  onLoadMore,\n  onSelect,\n}) => {\n  const { profile } = useProfile();\n\n  useMountEffect(() => {\n    mixpanel.track('Category Directory View', {\n      user_id: profile?.id,\n      email: profile?.email,\n      company_id: profile?.company?.id,\n    });\n    identifyMixPanelUserProfile(profile);\n  });\n\n  return (\n    <InfiniteScroller\n      className=\"pb-14 mr-0.5 space-y-10 overflow-hidden\"\n      onLoadMore={onLoadMore}\n      isLoading={isLoading}\n      LoadingComponent={<ListLoading />}\n    >\n      <ul className=\"flex flex-col space-y-6 px-0.5\">\n        {categories.map((category) => (\n          <li key={category.id} className=\"\">\n            <DirectoryItem\n              item={category}\n              onClick={() => onSelect && onSelect(category)}\n              itemType=\"categories\"\n            />\n          </li>\n        ))}\n      </ul>\n    </InfiniteScroller>\n  );\n};\n\nexport default CategoryList;\n","import { ChevronLeftIcon } from '@/assets';\nimport { CategoryApis } from '@/category/apis';\nimport { GetCategoriesParams } from '@/category/types';\nimport { useFetcher } from '@/common/hooks';\nimport { Feeds } from '@/feed/Feeds';\nimport { MainLayout } from '@/layout/MainLayout';\nimport { Category } from '@/main/entity';\nimport { useCategory } from '@/main/hooks/category.hook';\nimport CategoryList from '@/main/organisms/CategoryList';\nimport React from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nconst LIMIT = 10;\nconst INIT_PAGINATION = Object.freeze({\n  offset: 0,\n  limit: LIMIT,\n});\n\nexport const CategoriesPage = () => {\n  const history = useHistory();\n  const { id: catId } = useParams<{ id?: string }>();\n  const [filter, setFilter] = React.useState<GetCategoriesParams>(INIT_PAGINATION);\n  const { categories, hasMore, isLoading } = useCategory({ params: filter });\n  const [category, setCategory] = React.useState<Category | null>();\n\n  const handleLoadMoreCategories = React.useCallback(() => {\n    if (!hasMore || isLoading) return;\n    setFilter((prevFilter) => ({\n      ...prevFilter,\n      offset: (prevFilter?.offset ?? 0) + (prevFilter?.limit ?? 0),\n    }));\n  }, [hasMore, isLoading]);\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  useFetcher(catId && !isNaN(+catId) && ['category', catId], () => CategoryApis.get(+catId!), {\n    onSuccess: setCategory,\n  });\n\n  const handleCategorySelect = (value?: Category): void => {\n    setCategory(value);\n    history.push({\n      pathname: `/categories/${value?.id.toString()}`,\n    });\n  };\n\n  return (\n    <MainLayout>\n      <h1 className=\"sr-only\">Category list</h1>\n      {catId && (\n        <div className=\"flex items-center justify-between space-x-4 pb-8\">\n          <div className=\"flex flex-1 items-center  space-x-4\">\n            <ChevronLeftIcon onClick={history.goBack} />\n            <h1 className=\"text-Gray-1 text-xl font-bold\">{category?.name}</h1>\n          </div>\n        </div>\n      )}\n      {!catId && (\n        <CategoryList\n          categories={categories}\n          isLoading={isLoading}\n          hasMore={hasMore}\n          onLoadMore={handleLoadMoreCategories}\n          onSelect={handleCategorySelect}\n        />\n      )}\n      {catId && !isNaN(+catId) && <Feeds categoryId={parseInt(catId, 10)} />}\n    </MainLayout>\n  );\n};\n","import { ReactComponent as AddIcon } from '@/assets/icons/solid/add-small.svg';\nimport { ReactComponent as TickIcon } from '@/assets/icons/solid/tick-small.svg';\nimport { Button } from '@/common/components';\nimport { Subscription } from '@/main/entity';\nimport React from 'react';\nimport { useSubscribe } from './useSubscribe';\nimport { useSubscription } from './useSubscription';\nimport { useUnsubscribe } from './useUnsubscribe';\n\nexport type ToggleFollowButtonProps<T> = {\n  colorScheme?: 'white' | 'primary';\n  loading?: boolean;\n  item: T | T[];\n  type: keyof Subscription;\n};\n\nexport const ToggleFollowButton = <T extends { id: number; name: string }>({\n  colorScheme = 'primary',\n  loading,\n  item,\n  type,\n}: ToggleFollowButtonProps<T>) => {\n  const baseProps = {\n    pill: true,\n    variant: 'outline' as any,\n    colorScheme,\n    loading,\n  };\n\n  const { isSubscribed } = useSubscription();\n  const { subscribe } = useSubscribe();\n  const { unsubscribe } = useUnsubscribe();\n\n  const subscribed = [item].flat().some(({ id }) => isSubscribed(type, id));\n\n  return subscribed ? (\n    <Button\n      {...baseProps}\n      onClick={(e) => {\n        e.stopPropagation();\n        unsubscribe(type, item);\n      }}\n      iconLeft={\n        <TickIcon\n          width={16}\n          height={16}\n          viewBox=\"0 0 15 15\"\n          className=\"stroke-current path-no-stroke\"\n        />\n      }\n    >\n      Following\n    </Button>\n  ) : (\n    <Button\n      {...baseProps}\n      onClick={(e) => {\n        e.stopPropagation();\n        subscribe(type, item);\n      }}\n      iconLeft={\n        <AddIcon\n          width={16}\n          height={16}\n          viewBox=\"0 0 15 15\"\n          className=\"stroke-current stroke-1 path-no-stroke\"\n        />\n      }\n    >\n      Follow\n    </Button>\n  );\n};\n"],"names":["React","useCallback","useEffect","useRef","useState","useDebounce","useEventListener","useIntersection","ScrollToTopButton","DEFAULT_THRESHOLD","InfiniteScroller","children","style","className","threshold","onLoadMore","isLoading","LoadingComponent","scrollerRef","endAnchorRef","showScrollTop","setShowScrollTop","isEndReached","current","undefined","loadMoreFunc","handleLoadMoreTrigger","handleScroll","winScroll","scrollTop","scrollDistance","scrollHeight","clientHeight","window","innerHeight","scrollToTop","scrollTo","top","behavior","defaultProps","useFetcher","CategoryApis","useCategory","params","concatNewData","categories","setCategories","hasMore","setHasMore","cleanData","getList","res","limit","prevTrans","length","isInitializing","Avatar","getColorByText","getNameAbbreviation","ToggleFollowButton","DirectoryItem","item","disableFollow","onClick","itemType","avatarBgColor","useMemo","name","id","renderAvatarOrShortName","shortName","isHaveAvatar","avatar","background","renderIcon","useMountEffect","ListLoading","identifyMixPanelUserProfile","useProfile","mixpanel","CategoryList","onSelect","profile","track","user_id","email","company_id","company","map","category","ChevronLeftIcon","Feeds","MainLayout","useHistory","useParams","LIMIT","INIT_PAGINATION","Object","freeze","offset","CategoriesPage","history","catId","filter","setFilter","setCategory","handleLoadMoreCategories","prevFilter","isNaN","get","onSuccess","handleCategorySelect","value","push","pathname","toString","goBack","parseInt","ReactComponent","AddIcon","TickIcon","Button","useSubscribe","useSubscription","useUnsubscribe","colorScheme","loading","type","baseProps","pill","variant","isSubscribed","subscribe","unsubscribe","subscribed","flat","some","e","stopPropagation"],"sourceRoot":""}