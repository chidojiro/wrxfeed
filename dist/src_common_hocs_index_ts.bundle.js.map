{"version":3,"file":"src_common_hocs_index_ts.bundle.js","mappings":"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","sources":["webpack://gravity-web/./src/common/hocs/index.ts","webpack://gravity-web/./src/common/hocs/withMountAfter/index.ts","webpack://gravity-web/./src/common/hocs/withMountAfter/withMountAfter.tsx","webpack://gravity-web/./src/common/hocs/withMountOnOpen/index.ts","webpack://gravity-web/./src/common/hocs/withMountOnOpen/withMountOnOpen.tsx","webpack://gravity-web/./src/common/hocs/withOnRemountRequest/index.ts","webpack://gravity-web/./src/common/hocs/withOnRemountRequest/withOnRemountRequest.tsx","webpack://gravity-web/./src/common/hocs/withUmountAfter/index.ts","webpack://gravity-web/./src/common/hocs/withUmountAfter/withUmountAfter.tsx"],"sourcesContent":["export * from './withMountOnOpen';\nexport * from './withOnRemountRequest';\nexport * from './withUmountAfter';\nexport * from './withMountAfter';\n","export { withMountAfter } from './withMountAfter';\n","import React from 'react';\n\nexport const withMountAfter =\n  (mountAfter: number) =>\n  <TProps,>(Component: (props: TProps) => JSX.Element | null) =>\n  // eslint-disable-next-line react/display-name\n  (props: TProps) => {\n    const [shouldMount, setShouldMount] = React.useState(false);\n\n    React.useEffect(() => {\n      if (mountAfter) {\n        setTimeout(() => {\n          setShouldMount(true);\n        }, mountAfter);\n      }\n    }, []);\n\n    if (shouldMount) return <Component {...(props as any)} />;\n\n    return null;\n  };\n","export { withMountOnOpen } from './withMountOnOpen';\n","import React from 'react';\nimport { useDelayableState } from '../../hooks';\nimport { OpenClose } from '../../types';\n\ntype OpenProps = OpenClose;\n\nexport const withMountOnOpen =\n  (delayCloseBy = 0) =>\n  <T extends OpenProps>(Component: (props: T) => JSX.Element | null) =>\n  // eslint-disable-next-line react/display-name\n  (props: T) => {\n    const [cachedProps, setCachedProps] = React.useState<T>(props);\n    const [delayabeOpen, setDelayableOpen] = useDelayableState({\n      delayBy: delayCloseBy,\n      defaultState: props.open,\n    });\n\n    React.useEffect(() => {\n      setDelayableOpen({ state: !!props.open, shouldDelay: !!delayCloseBy && !props.open });\n    }, [props.open, setDelayableOpen]);\n\n    React.useEffect(() => {\n      if (props.open) {\n        setCachedProps(props);\n      }\n    }, [props]);\n\n    if (!delayabeOpen) {\n      return null;\n    }\n\n    // Use cachedProps while closing to retain the data\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { open, onClose, ...restProps } = props.open ? props : cachedProps;\n\n    return <Component {...(restProps as any)} onClose={props.onClose} open={props.open} />;\n  };\n","export { withOnRemountRequest } from './withOnRemountRequest';\nexport type { WithOnRemountRequestProps } from './withOnRemountRequest';\n","import React from 'react';\n\nexport type WithOnRemountRequestProps = {\n  onRemountRequest: () => void;\n};\n\nexport const withOnRemountRequest =\n  <T extends WithOnRemountRequestProps>(Component: (props: T) => JSX.Element | null) =>\n  // eslint-disable-next-line react/display-name\n  (props: Omit<T, keyof WithOnRemountRequestProps>) => {\n    const [key, setKey] = React.useState(Math.random());\n\n    const remount = React.useCallback(() => {\n      setKey(Math.random());\n    }, []);\n\n    return <Component key={key} {...(props as any)} onRemountRequest={remount} />;\n  };\n","export { withUmountAfter } from './withUmountAfter';\n","import React from 'react';\n\nexport const withUmountAfter =\n  (unmountAfter: number) =>\n  <TProps,>(Component: (props: TProps) => JSX.Element | null) =>\n  // eslint-disable-next-line react/display-name\n  (props: TProps) => {\n    const timeoutRef = React.useRef<NodeJS.Timeout>();\n    const [shouldMount, setShouldMount] = React.useState(true);\n\n    React.useEffect(() => {\n      if (unmountAfter) {\n        timeoutRef.current = setTimeout(() => {\n          setShouldMount(false);\n        }, unmountAfter);\n      }\n\n      return () => {\n        clearTimeout(timeoutRef.current);\n      };\n    }, []);\n\n    if (shouldMount) return <Component {...(props as any)} />;\n\n    return null;\n  };\n"],"names":["withMountAfter","React","mountAfter","Component","props","useState","shouldMount","setShouldMount","useEffect","setTimeout","withMountOnOpen","useDelayableState","delayCloseBy","cachedProps","setCachedProps","delayBy","defaultState","open","delayabeOpen","setDelayableOpen","state","shouldDelay","onClose","restProps","withOnRemountRequest","Math","random","key","setKey","remount","useCallback","withUmountAfter","unmountAfter","timeoutRef","useRef","current","clearTimeout"],"sourceRoot":""}