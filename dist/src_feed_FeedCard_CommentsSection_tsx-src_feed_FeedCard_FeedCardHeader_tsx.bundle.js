'use strict';
(self['webpackChunkgravity_web'] = self['webpackChunkgravity_web'] || []).push([
  ['src_feed_FeedCard_CommentsSection_tsx-src_feed_FeedCard_FeedCardHeader_tsx'],
  {
    /***/ './src/assets/icons/outline/attach.svg':
      /*!*********************************************!*\
  !*** ./src/assets/icons/outline/attach.svg ***!
  \*********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        var _path;
        function _extends() {
          _extends = Object.assign
            ? Object.assign.bind()
            : function (target) {
                for (var i = 1; i < arguments.length; i++) {
                  var source = arguments[i];
                  for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                      target[key] = source[key];
                    }
                  }
                }
                return target;
              };
          return _extends.apply(this, arguments);
        }

        var SvgAttach = function SvgAttach(props) {
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            'svg',
            _extends(
              {
                width: 16,
                height: 17,
                fill: 'none',
                xmlns: 'http://www.w3.org/2000/svg',
              },
              props,
            ),
            _path ||
              (_path = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('path', {
                d: 'm14.5 8.5-5.757 5.757a4.243 4.243 0 0 1-6-6l5.929-5.929a2.828 2.828 0 0 1 4 4l-5.758 5.758a1.414 1.414 0 0 1-2-2L10.5 4.5',
                stroke: '#273240',
                strokeWidth: 1.5,
              })),
          );
        };
        /* harmony default export */ __webpack_exports__['default'] = SvgAttach;

        /***/
      },

    /***/ './src/assets/icons/outline/avatar.svg':
      /*!*********************************************!*\
  !*** ./src/assets/icons/outline/avatar.svg ***!
  \*********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        var _path, _path2;
        function _extends() {
          _extends = Object.assign
            ? Object.assign.bind()
            : function (target) {
                for (var i = 1; i < arguments.length; i++) {
                  var source = arguments[i];
                  for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                      target[key] = source[key];
                    }
                  }
                }
                return target;
              };
          return _extends.apply(this, arguments);
        }

        var SvgAvatar = function SvgAvatar(props) {
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            'svg',
            _extends(
              {
                width: 20,
                height: 20,
                fill: 'none',
                xmlns: 'http://www.w3.org/2000/svg',
              },
              props,
            ),
            _path ||
              (_path = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('path', {
                d: 'M7 8.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0Z',
                fill: '#9EA0AA',
              })),
            _path2 ||
              (_path2 = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('path', {
                fillRule: 'evenodd',
                clipRule: 'evenodd',
                d: 'M9.5 3a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15ZM3 10.5a6.5 6.5 0 1 1 10.988 4.702A3.5 3.5 0 0 0 10.5 12h-2a3.5 3.5 0 0 0-3.488 3.202A6.481 6.481 0 0 1 3 10.5Z',
                fill: '#9EA0AA',
              })),
          );
        };
        /* harmony default export */ __webpack_exports__['default'] = SvgAvatar;

        /***/
      },

    /***/ './src/assets/icons/outline/mood-smile.svg':
      /*!*************************************************!*\
  !*** ./src/assets/icons/outline/mood-smile.svg ***!
  \*************************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        var _path;
        function _extends() {
          _extends = Object.assign
            ? Object.assign.bind()
            : function (target) {
                for (var i = 1; i < arguments.length; i++) {
                  var source = arguments[i];
                  for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                      target[key] = source[key];
                    }
                  }
                }
                return target;
              };
          return _extends.apply(this, arguments);
        }

        var SvgMoodSmile = function SvgMoodSmile(props) {
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            'svg',
            _extends(
              {
                width: 17,
                height: 17,
                fill: 'none',
                xmlns: 'http://www.w3.org/2000/svg',
              },
              props,
            ),
            _path ||
              (_path = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('path', {
                d: 'm6.1 9.55-.45-.6-1.2.9.45.6 1.2-.9Zm6 .9.45-.6-1.2-.9-.45.6 1.2.9Zm-3.6 4.3A6.25 6.25 0 0 1 2.25 8.5H.75a7.75 7.75 0 0 0 7.75 7.75v-1.5Zm6.25-6.25a6.25 6.25 0 0 1-6.25 6.25v1.5a7.75 7.75 0 0 0 7.75-7.75h-1.5ZM8.5 2.25a6.25 6.25 0 0 1 6.25 6.25h1.5A7.75 7.75 0 0 0 8.5.75v1.5Zm0-1.5A7.75 7.75 0 0 0 .75 8.5h1.5A6.25 6.25 0 0 1 8.5 2.25V.75ZM5 7.25h1v-1.5H5v1.5Zm6 0h1v-1.5h-1v1.5Zm-.1 2.3a3 3 0 0 1-4.8 0l-1.2.9c1.8 2.4 5.4 2.4 7.2 0l-1.2-.9Z',
                fill: '#273240',
              })),
          );
        };
        /* harmony default export */ __webpack_exports__['default'] = SvgMoodSmile;

        /***/
      },

    /***/ './src/common/atoms/LinearProgress/index.tsx':
      /*!***************************************************!*\
  !*** ./src/common/atoms/LinearProgress/index.tsx ***!
  \***************************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );

        var LinearProgress = function LinearProgress() {
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            'span',
            {
              className: 'linear-progress',
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('span', {
              className: 'linear-progress__bar1',
            }),
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('span', {
              className: 'linear-progress__bar2',
            }),
          );
        };
        /* harmony default export */ __webpack_exports__['default'] =
          /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.memo(LinearProgress);

        /***/
      },

    /***/ './src/feed/CommentBox/CommentBox.tsx':
      /*!********************************************!*\
  !*** ./src/feed/CommentBox/CommentBox.tsx ***!
  \********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ CommentBox: function () {
            return /* binding */ CommentBox;
          },
          /* harmony export */
        });
        /* harmony import */ var _assets_icons_outline_attach_svg__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @/assets/icons/outline/attach.svg */ './src/assets/icons/outline/attach.svg',
          );
        /* harmony import */ var _assets_icons_outline_mood_smile_svg__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @/assets/icons/outline/mood-smile.svg */ './src/assets/icons/outline/mood-smile.svg',
          );
        /* harmony import */ var _common_atoms_UploadButton__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @/common/atoms/UploadButton */ './src/common/atoms/UploadButton/index.tsx',
          );
        /* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(/*! @/common/components */ './src/common/components/index.ts');
        /* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
          /*! @/config */ './src/config.ts',
        );
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );
        /* harmony import */ var draft_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
          /*! draft-js */ './node_modules/draft-js/lib/Draft.js',
        );
        /* harmony import */ var draft_js__WEBPACK_IMPORTED_MODULE_6___default =
          /*#__PURE__*/ __webpack_require__.n(draft_js__WEBPACK_IMPORTED_MODULE_6__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _CommentInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
          /*! ./CommentInput */ './src/feed/CommentBox/CommentInput.tsx',
        );
        /* harmony import */ var _SendButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
          /*! ./SendButton */ './src/feed/CommentBox/SendButton.tsx',
        );
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _unsupportedIterableToArray(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
          );
        }
        function _unsupportedIterableToArray(o, minLen) {
          if (!o) return;
          if (typeof o === 'string') return _arrayLikeToArray(o, minLen);
          var n = Object.prototype.toString.call(o).slice(8, -1);
          if (n === 'Object' && o.constructor) n = o.constructor.name;
          if (n === 'Map' || n === 'Set') return Array.from(o);
          if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
            return _arrayLikeToArray(o, minLen);
        }
        function _arrayLikeToArray(arr, len) {
          if (len == null || len > arr.length) len = arr.length;
          for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
          return arr2;
        }
        function _iterableToArrayLimit(arr, i) {
          var _i =
            null == arr
              ? null
              : ('undefined' != typeof Symbol && arr[Symbol.iterator]) || arr['@@iterator'];
          if (null != _i) {
            var _s,
              _e,
              _x,
              _r,
              _arr = [],
              _n = !0,
              _d = !1;
            try {
              if (((_x = (_i = _i.call(arr)).next), 0 === i)) {
                if (Object(_i) !== _i) return;
                _n = !1;
              } else
                for (
                  ;
                  !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i);
                  _n = !0
                );
            } catch (err) {
              (_d = !0), (_e = err);
            } finally {
              try {
                if (!_n && null != _i.return && ((_r = _i.return()), Object(_r) !== _r)) return;
              } finally {
                if (_d) throw _e;
              }
            }
            return _arr;
          }
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        }

        var CommentBox = function CommentBox(_ref) {
          var id = _ref.id,
            className = _ref.className,
            defaultContent = _ref.defaultContent,
            onSubmit = _ref.onSubmit,
            _ref$showAttach = _ref.showAttach,
            showAttach = _ref$showAttach === void 0 ? true : _ref$showAttach,
            _ref$showSend = _ref.showSend,
            showSend = _ref$showSend === void 0 ? true : _ref$showSend,
            _ref$showEmoji = _ref.showEmoji,
            showEmoji = _ref$showEmoji === void 0 ? true : _ref$showEmoji,
            _ref$placeholder = _ref.placeholder,
            placeholder = _ref$placeholder === void 0 ? 'ðŸ’¬ Add a comment' : _ref$placeholder,
            _ref$alwaysFocus = _ref.alwaysFocus,
            alwaysFocus = _ref$alwaysFocus === void 0 ? false : _ref$alwaysFocus,
            onAttachFile = _ref.onAttachFile,
            onChange = _ref.onChange,
            mentionData = _ref.mentionData,
            renderSubmitButtonProp = _ref.renderSubmitButton,
            alwaysShowTools = _ref.alwaysShowTools,
            allowEmpty = _ref.allowEmpty;
          var _React$useState = react__WEBPACK_IMPORTED_MODULE_7__.useState(
              defaultContent !== null && defaultContent !== void 0
                ? defaultContent
                : draft_js__WEBPACK_IMPORTED_MODULE_6__.EditorState.createEmpty(),
            ),
            _React$useState2 = _slicedToArray(_React$useState, 2),
            editorState = _React$useState2[0],
            setEditorState = _React$useState2[1];
          var handleEditorStateChange = function handleEditorStateChange(editorState) {
            setEditorState(editorState);
            onChange === null || onChange === void 0 ? void 0 : onChange(editorState);
          };
          var emojiRef = (0, react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);
          var inputRef = (0, react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);
          var reset = function reset() {
            setEditorState(function (prev) {
              var emptyEditorState = draft_js__WEBPACK_IMPORTED_MODULE_6__.EditorState.push(
                prev,
                draft_js__WEBPACK_IMPORTED_MODULE_6__.ContentState.createFromText(''),
                'insert-characters',
              );
              return draft_js__WEBPACK_IMPORTED_MODULE_6__.EditorState.moveFocusToEnd(
                emptyEditorState,
              );
            });
          };
          var handleSubmit = function handleSubmit() {
            onSubmit === null || onSubmit === void 0
              ? void 0
              : onSubmit({
                  content: editorState,
                });
            reset();
          };
          var _useState = (0, react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),
            _useState2 = _slicedToArray(_useState, 2),
            focused = _useState2[0],
            setFocused = _useState2[1];
          var _useState3 = (0, react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),
            _useState4 = _slicedToArray(_useState3, 2),
            hovered = _useState4[0],
            setHovered = _useState4[1];
          var _useState5 = (0, react__WEBPACK_IMPORTED_MODULE_7__.useState)(false),
            _useState6 = _slicedToArray(_useState5, 2),
            isEmojiHovering = _useState6[0],
            setEmojiHovering = _useState6[1];
          // useCallback functions
          var onSelectEmoji = (0, react__WEBPACK_IMPORTED_MODULE_7__.useCallback)(function (emoji) {
            if ('native' in emoji) {
              inputRef.current.insertText(emoji.native);
            }
            // Turn off emoji picker after picked
            _common_components__WEBPACK_IMPORTED_MODULE_3__.EmojiPickerDispatcher.close();
          }, []);
          (0, react__WEBPACK_IMPORTED_MODULE_7__.useEffect)(
            function () {
              if (!(focused || hovered || isEmojiHovering)) {
                _common_components__WEBPACK_IMPORTED_MODULE_3__.EmojiPickerDispatcher.close();
              }
            },
            [focused, hovered, isEmojiHovering],
          );
          var onFocusCommentInput = function onFocusCommentInput(event) {
            setFocused(true);
            // Move the cursor to end of text
            if (typeof event.target.selectionStart === 'number') {
              // eslint-disable-next-line no-param-reassign
              event.target.selectionStart = event.target.value.length;
              // eslint-disable-next-line no-param-reassign
              event.target.selectionEnd = event.target.value.length;
            }
          };
          var openEmojiPickerDispatcher = function openEmojiPickerDispatcher() {
            _common_components__WEBPACK_IMPORTED_MODULE_3__.EmojiPickerDispatcher.open({
              anchorEl: emojiRef.current,
              onSelectEmoji: onSelectEmoji,
              onHover: setEmojiHovering,
            });
          };
          var onFileSelected = function onFileSelected(file) {
            if (file && onAttachFile) {
              onAttachFile(file);
            }
          };
          var isDisabled = allowEmpty ? false : !editorState.getCurrentContent().hasText();
          var renderSubmitButton = function renderSubmitButton() {
            if (!showSend) return null;
            if (renderSubmitButtonProp) {
              return renderSubmitButtonProp({
                disabled: isDisabled,
                onClick: handleSubmit,
              });
            }
            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
              react__WEBPACK_IMPORTED_MODULE_7__.Fragment,
              null,
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement('hr', {
                className: 'divider divider-vertical h-5',
              }),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                _SendButton__WEBPACK_IMPORTED_MODULE_9__.SendButton,
                {
                  className: 'w-5 h-5',
                  disabled: !editorState.getCurrentContent().hasText(),
                  onClick: handleSubmit,
                },
              ),
            );
          };
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
            'div',
            null,
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
              'div',
              {
                className: (0, clsx__WEBPACK_IMPORTED_MODULE_5__['default'])(
                  focused || alwaysFocus ? 'border-purple-5 bg-white' : ' border-Gray-11',
                  'relative group min-w-[70%] border transition-all rounded-[1px] py-1.5 pl-2 pr-1.5',
                  'flex items-center flex-grow',
                  className,
                ),
                onMouseEnter: function onMouseEnter() {
                  return setHovered(true);
                },
                onMouseLeave: function onMouseLeave() {
                  return setHovered(false);
                },
              },
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                _CommentInput__WEBPACK_IMPORTED_MODULE_8__.CommentInput,
                {
                  ref: inputRef,
                  autoFocus: alwaysFocus,
                  value: editorState,
                  onChange: handleEditorStateChange,
                  onFocus: onFocusCommentInput,
                  onBlur: function onBlur() {
                    return setFocused(false);
                  },
                  placeholder: placeholder,
                  mentions: mentionData,
                  onSubmit: handleSubmit,
                },
              ),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                'div',
                {
                  style: {
                    transform:
                      alwaysShowTools || focused || hovered || isEmojiHovering
                        ? 'scaleX(1)'
                        : 'scaleX(0)',
                  },
                  className:
                    'flex items-center h-full transform space-x-2 scale-x-0 group-hover:scale-x-100 origin-right transition-all',
                },
                showEmoji &&
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                    react__WEBPACK_IMPORTED_MODULE_7__.Fragment,
                    null,
                    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                      _common_components__WEBPACK_IMPORTED_MODULE_3__.Button,
                      {
                        ref: emojiRef,
                        className:
                          'flex justify-center items-center w-5 h-5 rounded-sm hover:bg-purple-8 transition-all',
                        onClick: openEmojiPickerDispatcher,
                      },
                      /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                        'span',
                        {
                          className: 'sr-only',
                        },
                        'Emoji picker',
                      ),
                      /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                        _assets_icons_outline_mood_smile_svg__WEBPACK_IMPORTED_MODULE_1__.ReactComponent,
                        {
                          className:
                            'fill-current text-gray-6 opacity-50 hover:opacity-100 hover:text-purple-5 path-no-filled',
                          width: 14,
                          height: 14,
                          viewBox: '0 0 17 17',
                        },
                      ),
                    ),
                  ),
                !!showAttach &&
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                    _common_atoms_UploadButton__WEBPACK_IMPORTED_MODULE_2__['default'],
                    {
                      className:
                        'flex justify-center items-center w-5 h-5 rounded-sm hover:bg-purple-8',
                      id: 'button-file-'.concat(id),
                      accept: _config__WEBPACK_IMPORTED_MODULE_4__.UPLOAD_FILE_ACCEPT,
                      onFileSelected: onFileSelected,
                    },
                    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                      _assets_icons_outline_attach_svg__WEBPACK_IMPORTED_MODULE_0__.ReactComponent,
                      {
                        className:
                          'stroke-current text-gray-6 opacity-50 hover:opacity-100 hover:text-purple-5 path-no-stroke',
                        width: 14,
                        height: 14,
                        viewBox: '0 0 17 17',
                      },
                    ),
                  ),
                renderSubmitButton(),
              ),
            ),
          );
        };

        /***/
      },

    /***/ './src/feed/CommentBox/CommentInput.tsx':
      /*!**********************************************!*\
  !*** ./src/feed/CommentBox/CommentInput.tsx ***!
  \**********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ CommentInput: function () {
            return /* binding */ CommentInput;
          },
          /* harmony export */ findEntityRanges: function () {
            return /* binding */ findEntityRanges;
          },
          /* harmony export */ getCurrentBlock: function () {
            return /* binding */ getCurrentBlock;
          },
          /* harmony export */ replaceText: function () {
            return /* binding */ replaceText;
          },
          /* harmony export */
        });
        /* harmony import */ var _main_atoms_MentionEntry__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @/main/atoms/MentionEntry */ './src/main/atoms/MentionEntry/index.tsx',
          );
        /* harmony import */ var _draft_js_plugins_editor__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @draft-js-plugins/editor */ './node_modules/@draft-js-plugins/editor/lib/index.esm.js',
          );
        /* harmony import */ var _draft_js_plugins_linkify__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @draft-js-plugins/linkify */ './node_modules/@draft-js-plugins/linkify/lib/index.esm.js',
          );
        /* harmony import */ var _draft_js_plugins_mention__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @draft-js-plugins/mention */ './node_modules/@draft-js-plugins/mention/lib/index.esm.js',
          );
        /* harmony import */ var draft_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! draft-js */ './node_modules/draft-js/lib/Draft.js',
        );
        /* harmony import */ var draft_js__WEBPACK_IMPORTED_MODULE_1___default =
          /*#__PURE__*/ __webpack_require__.n(draft_js__WEBPACK_IMPORTED_MODULE_1__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        function _typeof(obj) {
          '@babel/helpers - typeof';
          return (
            (_typeof =
              'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                ? function (obj) {
                    return typeof obj;
                  }
                : function (obj) {
                    return obj &&
                      'function' == typeof Symbol &&
                      obj.constructor === Symbol &&
                      obj !== Symbol.prototype
                      ? 'symbol'
                      : typeof obj;
                  }),
            _typeof(obj)
          );
        }
        var _excluded = ['onSubmit', 'mentions', 'onChange', 'autoFocus', 'value'];
        function ownKeys(object, enumerableOnly) {
          var keys = Object.keys(object);
          if (Object.getOwnPropertySymbols) {
            var symbols = Object.getOwnPropertySymbols(object);
            enumerableOnly &&
              (symbols = symbols.filter(function (sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
              })),
              keys.push.apply(keys, symbols);
          }
          return keys;
        }
        function _objectSpread(target) {
          for (var i = 1; i < arguments.length; i++) {
            var source = null != arguments[i] ? arguments[i] : {};
            i % 2
              ? ownKeys(Object(source), !0).forEach(function (key) {
                  _defineProperty(target, key, source[key]);
                })
              : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))
              : ownKeys(Object(source)).forEach(function (key) {
                  Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
                });
          }
          return target;
        }
        function _defineProperty(obj, key, value) {
          key = _toPropertyKey(key);
          if (key in obj) {
            Object.defineProperty(obj, key, {
              value: value,
              enumerable: true,
              configurable: true,
              writable: true,
            });
          } else {
            obj[key] = value;
          }
          return obj;
        }
        function _toPropertyKey(arg) {
          var key = _toPrimitive(arg, 'string');
          return _typeof(key) === 'symbol' ? key : String(key);
        }
        function _toPrimitive(input, hint) {
          if (_typeof(input) !== 'object' || input === null) return input;
          var prim = input[Symbol.toPrimitive];
          if (prim !== undefined) {
            var res = prim.call(input, hint || 'default');
            if (_typeof(res) !== 'object') return res;
            throw new TypeError('@@toPrimitive must return a primitive value.');
          }
          return (hint === 'string' ? String : Number)(input);
        }
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _unsupportedIterableToArray(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
          );
        }
        function _unsupportedIterableToArray(o, minLen) {
          if (!o) return;
          if (typeof o === 'string') return _arrayLikeToArray(o, minLen);
          var n = Object.prototype.toString.call(o).slice(8, -1);
          if (n === 'Object' && o.constructor) n = o.constructor.name;
          if (n === 'Map' || n === 'Set') return Array.from(o);
          if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
            return _arrayLikeToArray(o, minLen);
        }
        function _arrayLikeToArray(arr, len) {
          if (len == null || len > arr.length) len = arr.length;
          for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
          return arr2;
        }
        function _iterableToArrayLimit(arr, i) {
          var _i =
            null == arr
              ? null
              : ('undefined' != typeof Symbol && arr[Symbol.iterator]) || arr['@@iterator'];
          if (null != _i) {
            var _s,
              _e,
              _x,
              _r,
              _arr = [],
              _n = !0,
              _d = !1;
            try {
              if (((_x = (_i = _i.call(arr)).next), 0 === i)) {
                if (Object(_i) !== _i) return;
                _n = !1;
              } else
                for (
                  ;
                  !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i);
                  _n = !0
                );
            } catch (err) {
              (_d = !0), (_e = err);
            } finally {
              try {
                if (!_n && null != _i.return && ((_r = _i.return()), Object(_r) !== _r)) return;
              } finally {
                if (_d) throw _e;
              }
            }
            return _arr;
          }
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        }
        function _objectWithoutProperties(source, excluded) {
          if (source == null) return {};
          var target = _objectWithoutPropertiesLoose(source, excluded);
          var key, i;
          if (Object.getOwnPropertySymbols) {
            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
            for (i = 0; i < sourceSymbolKeys.length; i++) {
              key = sourceSymbolKeys[i];
              if (excluded.indexOf(key) >= 0) continue;
              if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
              target[key] = source[key];
            }
          }
          return target;
        }
        function _objectWithoutPropertiesLoose(source, excluded) {
          if (source == null) return {};
          var target = {};
          var sourceKeys = Object.keys(source);
          var key, i;
          for (i = 0; i < sourceKeys.length; i++) {
            key = sourceKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            target[key] = source[key];
          }
          return target;
        }
        function _extends() {
          _extends = Object.assign
            ? Object.assign.bind()
            : function (target) {
                for (var i = 1; i < arguments.length; i++) {
                  var source = arguments[i];
                  for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                      target[key] = source[key];
                    }
                  }
                }
                return target;
              };
          return _extends.apply(this, arguments);
        }

        var isSoftNewlineEvent =
          draft_js__WEBPACK_IMPORTED_MODULE_1__.KeyBindingUtil.isSoftNewlineEvent;
        var linkifyPlugin = (0, _draft_js_plugins_linkify__WEBPACK_IMPORTED_MODULE_3__['default'])({
          target: '_blank',
          rel: 'noopener noreferrer',
          component: function component(props) {
            // eslint-disable-next-line jsx-a11y/anchor-has-content
            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
              'a',
              _extends({}, props, {
                'aria-hidden': 'true',
                onClick: function onClick() {
                  return window.open(props.href, '_blank');
                },
              }),
            );
          },
        });
        var getCurrentBlock = function getCurrentBlock(editorState) {
          if (editorState.getSelection) {
            var selectionState = editorState.getSelection();
            var contentState = editorState.getCurrentContent();
            var block = contentState.getBlockForKey(selectionState.getStartKey());
            return block;
          }
        };
        var findEntityRanges = function findEntityRanges(type, contentBlock, contentState) {
          var ranges = [];
          contentBlock.findEntityRanges(
            function (character) {
              var entityKey = character.getEntity();
              return entityKey !== null && contentState.getEntity(entityKey).getType() === type;
            },
            function (start, end) {
              return ranges.push([start, end]);
            },
          );
          return ranges;
        };
        var replaceText = function replaceText(params) {
          var editorState = params.editorState,
            _params$entityType = params.entityType,
            entityType = _params$entityType === void 0 ? '' : _params$entityType,
            startParam = params.start,
            endParam = params.end,
            newText = params.newText,
            _params$mutability = params.mutability,
            mutability = _params$mutability === void 0 ? 'IMMUTABLE' : _params$mutability,
            data = params.data;
          var start =
            startParam !== null && startParam !== void 0
              ? startParam
              : editorState.getSelection().getStartOffset();
          var end =
            endParam !== null && endParam !== void 0
              ? endParam
              : editorState.getSelection().getEndOffset();
          var currentBlock = getCurrentBlock(editorState);
          if (!currentBlock) {
            return editorState;
          }
          var blockKey = currentBlock.getKey();
          var isWithEntity = entityType && mutability;
          var contentState = editorState.getCurrentContent();
          var modifiedContentState = isWithEntity
            ? contentState.createEntity(entityType, mutability, data)
            : contentState;
          var entityKey = isWithEntity ? modifiedContentState.getLastCreatedEntityKey() : undefined;
          var contentStateWithReplacedText =
            draft_js__WEBPACK_IMPORTED_MODULE_1__.Modifier.replaceText(
              modifiedContentState,
              new draft_js__WEBPACK_IMPORTED_MODULE_1__.SelectionState({
                anchorKey: blockKey,
                anchorOffset: start,
                focusKey: blockKey,
                focusOffset: end,
                isBackward: false,
                hasFocus: true,
              }),
              newText,
              undefined,
              entityKey,
            );
          var newEditorState = draft_js__WEBPACK_IMPORTED_MODULE_1__.EditorState.set(editorState, {
            currentContent: contentStateWithReplacedText,
            selection: new draft_js__WEBPACK_IMPORTED_MODULE_1__.SelectionState({
              anchorKey: blockKey,
              anchorOffset: start + newText.length,
              focusKey: blockKey,
              focusOffset: start + newText.length,
              isBackward: false,
              hasFocus: true,
            }),
          });
          return newEditorState;
        };
        var CommentInput = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function (
          _ref,
          ref,
        ) {
          var onSubmit = _ref.onSubmit,
            mentions = _ref.mentions,
            onChange = _ref.onChange,
            autoFocus = _ref.autoFocus,
            value = _ref.value,
            rest = _objectWithoutProperties(_ref, _excluded);
          var editorRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);
          var containerRef = react__WEBPACK_IMPORTED_MODULE_2__.useRef(null);
          var _React$useState = react__WEBPACK_IMPORTED_MODULE_2__.useState(false),
            _React$useState2 = _slicedToArray(_React$useState, 2),
            openMention = _React$useState2[0],
            setOpenMention = _React$useState2[1];
          var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_2__.useState(mentions || []),
            _React$useState4 = _slicedToArray(_React$useState3, 2),
            suggestions = _React$useState4[0],
            setSuggestions = _React$useState4[1];
          var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_2__.useState([]),
            _React$useState6 = _slicedToArray(_React$useState5, 2),
            mentioned = _React$useState6[0],
            setMentioned = _React$useState6[1];
          var _React$useMemo = react__WEBPACK_IMPORTED_MODULE_2__.useMemo(function () {
              var mentionPlugin = (0,
              _draft_js_plugins_mention__WEBPACK_IMPORTED_MODULE_4__['default'])({
                entityMutability: 'IMMUTABLE',
                supportWhitespace: true,
                popperOptions: {
                  placement: 'top-start',
                  modifiers: [
                    {
                      name: 'offset',
                      options: {
                        offset: [0, 5],
                      },
                    },
                  ],
                },
                theme: _objectSpread(
                  _objectSpread(
                    {},
                    _draft_js_plugins_mention__WEBPACK_IMPORTED_MODULE_4__.defaultTheme,
                  ),
                  {},
                  {
                    mentionSuggestionsEntry: 'mention-suggestion-entry',
                    mentionSuggestionsEntryFocused: 'mention-suggestion-entry--focused',
                    mentionSuggestionsEntryText: 'mention-suggestion-text',
                    mentionSuggestionsEntryTextFocused: 'mention-suggestion-text--focused',
                    mentionSuggestions: 'mention-suggestion-container',
                    mention: 'mention',
                  },
                ),
              });
              return {
                plugins: [mentionPlugin, linkifyPlugin],
                MentionSuggestions: mentionPlugin.MentionSuggestions,
              };
            }, []),
            MentionSuggestions = _React$useMemo.MentionSuggestions,
            plugins = _React$useMemo.plugins;
          var insertText = react__WEBPACK_IMPORTED_MODULE_2__.useCallback(
            function (text) {
              var newEditorState = replaceText({
                editorState: value,
                newText: text,
              });
              onChange(newEditorState);
            },
            [value, onChange],
          );
          react__WEBPACK_IMPORTED_MODULE_2__.useImperativeHandle(ref, function () {
            return _objectSpread(
              _objectSpread({}, editorRef.current),
              {},
              {
                insertText: insertText,
              },
            );
          });
          react__WEBPACK_IMPORTED_MODULE_2__.useEffect(
            function () {
              if (editorRef !== null && editorRef !== void 0 && editorRef.current && autoFocus) {
                // Waiting for initializing mentions
                setTimeout(function () {
                  var _editorRef$current;
                  return (_editorRef$current = editorRef.current) === null ||
                    _editorRef$current === void 0
                    ? void 0
                    : _editorRef$current.focus();
                }, 200);
              }
            },
            [autoFocus, editorRef],
          );
          var handleReturn = function handleReturn(event) {
            if (event.key === 'Enter' && !isSoftNewlineEvent(event)) {
              var isMentionOpen = openMention && suggestions.length > 0;
              if (onSubmit && !isMentionOpen) {
                onSubmit();
                return 'handled';
              }
            }
            return 'not-handled';
          };
          var handleKeyCommand = function handleKeyCommand(command, editorState) {
            var newState = draft_js__WEBPACK_IMPORTED_MODULE_1__.RichUtils.handleKeyCommand(
              editorState,
              command,
            );
            if (newState) {
              onChange === null || onChange === void 0 ? void 0 : onChange(newState);
              return 'handled';
            }
            return 'not-handled';
          };
          var onOpenChange = react__WEBPACK_IMPORTED_MODULE_2__.useCallback(function (_open) {
            setOpenMention(_open);
          }, []);
          var onSearchChange = react__WEBPACK_IMPORTED_MODULE_2__.useCallback(
            function (_ref2) {
              var value = _ref2.value;
              // exclude mentioned items
              var availableMentions =
                mentions === null || mentions === void 0
                  ? void 0
                  : mentions.filter(function (mention) {
                      return !mentioned.some(function (item) {
                        return item.id === mention.id;
                      });
                    });
              setSuggestions(
                (0,
                _draft_js_plugins_mention__WEBPACK_IMPORTED_MODULE_4__.defaultSuggestionsFilter)(
                  value,
                  availableMentions || [],
                ),
              );
            },
            [mentions, mentioned],
          );
          var handleEditorChange = function handleEditorChange(state) {
            var _Object$values$map;
            var _convertToRaw = (0, draft_js__WEBPACK_IMPORTED_MODULE_1__.convertToRaw)(
                state.getCurrentContent(),
              ),
              entityMap = _convertToRaw.entityMap;
            var mentionedData =
              (_Object$values$map = Object.values(entityMap).map(function (entity) {
                return entity.data[entity.type];
              })) !== null && _Object$values$map !== void 0
                ? _Object$values$map
                : [];
            setMentioned(mentionedData);
            onChange === null || onChange === void 0 ? void 0 : onChange(state);
          };

          // TODO: please remove theses when you find a way to resolve type errors
          var MentionSuggestionsAsAny = MentionSuggestions;
          var EditorAsAny = _draft_js_plugins_editor__WEBPACK_IMPORTED_MODULE_5__['default'];
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
            'div',
            {
              ref: containerRef,
              className: 'editor hide-scrollbar',
              onClick: function onClick() {
                var _editorRef$current2;
                return (_editorRef$current2 = editorRef.current) === null ||
                  _editorRef$current2 === void 0
                  ? void 0
                  : _editorRef$current2.focus();
              },
              'aria-hidden': 'true',
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
              EditorAsAny,
              _extends(
                {
                  ref: editorRef,
                  handleReturn: handleReturn,
                  handleKeyCommand: handleKeyCommand,
                  editorKey: 'editor',
                  plugins: plugins,
                  editorState: value,
                  onChange: handleEditorChange,
                },
                rest,
              ),
            ),
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
              MentionSuggestionsAsAny,
              {
                open: openMention,
                onOpenChange: onOpenChange,
                suggestions: suggestions,
                onSearchChange: onSearchChange,
                entryComponent: _main_atoms_MentionEntry__WEBPACK_IMPORTED_MODULE_0__['default'],
              },
            ),
          );
        });
        CommentInput.displayName = 'CommentInput';

        /***/
      },

    /***/ './src/feed/CommentBox/SendButton.tsx':
      /*!********************************************!*\
  !*** ./src/feed/CommentBox/SendButton.tsx ***!
  \********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ SendButton: function () {
            return /* binding */ SendButton;
          },
          /* harmony export */
        });
        /* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! @/assets */ './src/assets/index.ts',
        );
        /* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! @/common/components */ './src/common/components/index.ts');
        var _excluded = ['disabled', 'ref'];
        function _extends() {
          _extends = Object.assign
            ? Object.assign.bind()
            : function (target) {
                for (var i = 1; i < arguments.length; i++) {
                  var source = arguments[i];
                  for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                      target[key] = source[key];
                    }
                  }
                }
                return target;
              };
          return _extends.apply(this, arguments);
        }
        function _objectWithoutProperties(source, excluded) {
          if (source == null) return {};
          var target = _objectWithoutPropertiesLoose(source, excluded);
          var key, i;
          if (Object.getOwnPropertySymbols) {
            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
            for (i = 0; i < sourceSymbolKeys.length; i++) {
              key = sourceSymbolKeys[i];
              if (excluded.indexOf(key) >= 0) continue;
              if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
              target[key] = source[key];
            }
          }
          return target;
        }
        function _objectWithoutPropertiesLoose(source, excluded) {
          if (source == null) return {};
          var target = {};
          var sourceKeys = Object.keys(source);
          var key, i;
          for (i = 0; i < sourceKeys.length; i++) {
            key = sourceKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            target[key] = source[key];
          }
          return target;
        }

        var SendButton = function SendButton(_ref) {
          var disabled = _ref.disabled,
            ref = _ref.ref,
            rest = _objectWithoutProperties(_ref, _excluded);
          var SendIcon = disabled
            ? /*#__PURE__*/ React.createElement(
                _assets__WEBPACK_IMPORTED_MODULE_0__.EssentialsSendIcon,
                {
                  className: 'fill-current text-gray-6 opacity-50 path-no-filled',
                  width: 16,
                  height: 16,
                  viewBox: '0 0 17 17',
                },
              )
            : /*#__PURE__*/ React.createElement(
                _assets__WEBPACK_IMPORTED_MODULE_0__.EssentialsSendEnableIcon,
                {
                  className: 'fill-current text-purple-5 path-no-filled',
                  width: 16,
                  height: 16,
                  viewBox: '0 0 17 17',
                },
              );
          return /*#__PURE__*/ React.createElement(
            _common_components__WEBPACK_IMPORTED_MODULE_1__.Button,
            _extends(
              {
                className:
                  'flex bg-transparent rounded-none border-0 items-center outline-none pr-[5px] pl-0.5',
                type: 'submit',
                ref: ref,
              },
              rest,
            ),
            SendIcon,
          );
        };

        /***/
      },

    /***/ './src/feed/CommentBox/index.ts':
      /*!**************************************!*\
  !*** ./src/feed/CommentBox/index.ts ***!
  \**************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ CommentBox: function () {
            return /* reexport safe */ _CommentBox__WEBPACK_IMPORTED_MODULE_0__.CommentBox;
          },
          /* harmony export */
        });
        /* harmony import */ var _CommentBox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! ./CommentBox */ './src/feed/CommentBox/CommentBox.tsx',
        );

        /***/
      },

    /***/ './src/feed/FeedCard/CommentAttachmentModal.tsx':
      /*!******************************************************!*\
  !*** ./src/feed/FeedCard/CommentAttachmentModal.tsx ***!
  \******************************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ CommentAttachmentModal: function () {
            return /* binding */ CommentAttachmentModal;
          },
          /* harmony export */
        });
        /* harmony import */ var _common_atoms_LinearProgress__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @/common/atoms/LinearProgress */ './src/common/atoms/LinearProgress/index.tsx',
          );
        /* harmony import */ var _common_atoms_Modal__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! @/common/atoms/Modal */ './src/common/atoms/Modal/index.tsx');
        /* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(/*! @/common/components */ './src/common/components/index.ts');
        /* harmony import */ var _common_hooks_useFileUploader__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @/common/hooks/useFileUploader */ './src/common/hooks/useFileUploader.tsx',
          );
        /* harmony import */ var _main_atoms_CircleAvatar__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @/main/atoms/CircleAvatar */ './src/main/atoms/CircleAvatar/index.tsx',
          );
        /* harmony import */ var _main_atoms_ImageFilePreview__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @/main/atoms/ImageFilePreview */ './src/main/atoms/ImageFilePreview/index.tsx',
          );
        /* harmony import */ var draft_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
          /*! draft-js */ './node_modules/draft-js/lib/Draft.js',
        );
        /* harmony import */ var draft_js__WEBPACK_IMPORTED_MODULE_6___default =
          /*#__PURE__*/ __webpack_require__.n(draft_js__WEBPACK_IMPORTED_MODULE_6__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _CommentBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
          /*! ../CommentBox */ './src/feed/CommentBox/index.ts',
        );

        var CommentAttachmentModal = function CommentAttachmentModal(_ref) {
          var depName = _ref.depName,
            catName = _ref.catName,
            open = _ref.open,
            file = _ref.file,
            mentionData = _ref.mentionData,
            uploadOptions = _ref.uploadOptions,
            onFileUploaded = _ref.onFileUploaded,
            onClose = _ref.onClose;
          var cancelButtonRef = (0, react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);
          var commentContent = (0, react__WEBPACK_IMPORTED_MODULE_7__.useRef)();
          var isImage =
            (file === null || file === void 0 ? void 0 : file.type.split('/')[0]) === 'image';
          var onUploadSuccess = function onUploadSuccess(url) {
            onFileUploaded({
              attachment: url,
              content:
                commentContent.current ||
                draft_js__WEBPACK_IMPORTED_MODULE_6__.EditorState.createEmpty(),
            });
            onClose === null || onClose === void 0 ? void 0 : onClose();
          };
          var _useFileUploader = (0,
            _common_hooks_useFileUploader__WEBPACK_IMPORTED_MODULE_3__.useFileUploader)({
              onSuccess: onUploadSuccess,
            }),
            isUploading = _useFileUploader.isUploading,
            uploadFile = _useFileUploader.uploadFile;
          var handleFileUpload = function handleFileUpload() {
            if (file) {
              uploadFile(file, uploadOptions);
            }
          };
          var onChangeComment = function onChangeComment(content) {
            commentContent.current = content;
          };
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
            _common_atoms_Modal__WEBPACK_IMPORTED_MODULE_1__['default'],
            {
              initialFocus: cancelButtonRef,
              open: open,
              onClose: onClose,
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
              'div',
              {
                className: 'sm:min-w-[30rem] lg:max-w-[60vw] min-w-[90vw] max-w-full',
              },
              isImage &&
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  _main_atoms_ImageFilePreview__WEBPACK_IMPORTED_MODULE_5__['default'],
                  {
                    className: 'mt-6 ml-6',
                    file: file,
                    width: 144,
                    height: 90,
                  },
                ),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                'div',
                {
                  className: 'px-6 mt-3.5',
                },
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  'p',
                  {
                    className: 'text-lg text-left font-bold text-Gray-1',
                  },
                  (file === null || file === void 0 ? void 0 : file.name) || '<unknown filename>',
                ),
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  'div',
                  {
                    className: 'text-sm text-left text-Gray-2 mt-2',
                  },
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                    'div',
                    {
                      className: 'flex',
                    },
                    'Upload to',
                    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                      _main_atoms_CircleAvatar__WEBPACK_IMPORTED_MODULE_4__['default'],
                      {
                        size: 20,
                        className: 'mx-1',
                        name: depName,
                        initialLength: 1,
                      },
                    ),
                    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                      'span',
                      {
                        style: {
                          fontWeight: 600,
                        },
                      },
                      catName !== null && catName !== void 0 ? catName : '',
                    ),
                  ),
                ),
              ),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                'div',
                {
                  className: 'flex flex-col p-6',
                },
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  'p',
                  {
                    className: 'text-sm text-left text-Gray-1 font-bold mb-2',
                  },
                  'Add a comment',
                ),
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  _CommentBox__WEBPACK_IMPORTED_MODULE_8__.CommentBox,
                  {
                    id: 'attachment-'.concat(depName),
                    showAttach: false,
                    showSend: false,
                    showEmoji: false,
                    mentionData: mentionData,
                    onChange: onChangeComment,
                  },
                ),
              ),
              isUploading &&
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  _common_atoms_LinearProgress__WEBPACK_IMPORTED_MODULE_0__['default'],
                  null,
                ),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement('hr', {
                className: 'divider divider-horizontal',
              }),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                'div',
                {
                  className: 'flex justify-end h-[66px] px-6 py-4 gap-3',
                },
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  _common_components__WEBPACK_IMPORTED_MODULE_2__.Button,
                  {
                    colorScheme: 'gray',
                    variant: 'ghost',
                    ref: cancelButtonRef,
                    disabled: isUploading,
                    onClick: onClose,
                  },
                  'Cancel',
                ),
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  _common_components__WEBPACK_IMPORTED_MODULE_2__.Button,
                  {
                    colorScheme: 'purple',
                    variant: 'solid',
                    disabled: isUploading,
                    onClick: handleFileUpload,
                  },
                  'Upload',
                ),
              ),
            ),
          );
        };

        /***/
      },

    /***/ './src/feed/FeedCard/CommentImage.tsx':
      /*!********************************************!*\
  !*** ./src/feed/FeedCard/CommentImage.tsx ***!
  \********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _common_atoms_Loading__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! @/common/atoms/Loading */ './src/common/atoms/Loading/index.tsx');
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _unsupportedIterableToArray(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
          );
        }
        function _unsupportedIterableToArray(o, minLen) {
          if (!o) return;
          if (typeof o === 'string') return _arrayLikeToArray(o, minLen);
          var n = Object.prototype.toString.call(o).slice(8, -1);
          if (n === 'Object' && o.constructor) n = o.constructor.name;
          if (n === 'Map' || n === 'Set') return Array.from(o);
          if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
            return _arrayLikeToArray(o, minLen);
        }
        function _arrayLikeToArray(arr, len) {
          if (len == null || len > arr.length) len = arr.length;
          for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
          return arr2;
        }
        function _iterableToArrayLimit(arr, i) {
          var _i =
            null == arr
              ? null
              : ('undefined' != typeof Symbol && arr[Symbol.iterator]) || arr['@@iterator'];
          if (null != _i) {
            var _s,
              _e,
              _x,
              _r,
              _arr = [],
              _n = !0,
              _d = !1;
            try {
              if (((_x = (_i = _i.call(arr)).next), 0 === i)) {
                if (Object(_i) !== _i) return;
                _n = !1;
              } else
                for (
                  ;
                  !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i);
                  _n = !0
                );
            } catch (err) {
              (_d = !0), (_e = err);
            } finally {
              try {
                if (!_n && null != _i.return && ((_r = _i.return()), Object(_r) !== _r)) return;
              } finally {
                if (_d) throw _e;
              }
            }
            return _arr;
          }
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        }

        var PORTION_HEIGHT = 140;
        var CommentImage = function CommentImage(_ref) {
          var _dimentions$height;
          var src = _ref.src;
          var _useState = (0, react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
            _useState2 = _slicedToArray(_useState, 2),
            imgLoaded = _useState2[0],
            setImgLoaded = _useState2[1];
          var _useState3 = (0, react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),
            _useState4 = _slicedToArray(_useState3, 2),
            isPortionView = _useState4[0],
            setPortionView = _useState4[1];
          var _useState5 = (0, react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),
            _useState6 = _slicedToArray(_useState5, 2),
            dimentions = _useState6[0],
            setDimentions = _useState6[1];
          var hasPortionView =
            ((_dimentions$height =
              dimentions === null || dimentions === void 0 ? void 0 : dimentions.height) !== null &&
            _dimentions$height !== void 0
              ? _dimentions$height
              : 0) > PORTION_HEIGHT;
          var togglePortionView = function togglePortionView() {
            return (
              hasPortionView &&
              setPortionView(function (prev) {
                return !prev;
              })
            );
          };
          var onLoad = function onLoad(_ref2) {
            var img = _ref2.target;
            setDimentions({
              height: img.offsetHeight,
              width: img.offsetWidth,
            });
            setImgLoaded(true);
          };
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            'div',
            {
              'aria-hidden': 'true',
              style: {
                minHeight: hasPortionView || !imgLoaded ? PORTION_HEIGHT : 'unset',
              },
              className: 'block relative max-w-full my-2',
              onClick: togglePortionView,
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('img', {
              className: isPortionView && hasPortionView ? 'absolute image-clip' : '',
              alt: 'attachment',
              loading: 'lazy',
              style: {
                maxWidth: '100%',
              },
              src: src,
              onLoad: onLoad,
            }),
            !imgLoaded &&
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
                _common_atoms_Loading__WEBPACK_IMPORTED_MODULE_1__['default'],
                {
                  className: 'absolute top-1/2 left-1/2',
                },
              ),
            hasPortionView &&
              isPortionView &&
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('div', {
                className: 'absolute inset-0 bg-gradient-to-b from-transparent to-LightBG',
              }),
          );
        };
        /* harmony default export */ __webpack_exports__['default'] =
          /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.memo(CommentImage);

        /***/
      },

    /***/ './src/feed/FeedCard/CommentItem.tsx':
      /*!*******************************************!*\
  !*** ./src/feed/FeedCard/CommentItem.tsx ***!
  \*******************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ CommentItem: function () {
            return /* binding */ CommentItem;
          },
          /* harmony export */
        });
        /* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! @/assets */ './src/assets/index.ts',
        );
        /* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! @/config */ './src/config.ts',
        );
        /* harmony import */ var _main_atoms_ConfirmModal__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @/main/atoms/ConfirmModal */ './src/main/atoms/ConfirmModal/index.tsx',
          );
        /* harmony import */ var _main_atoms_PopoverMenu__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @/main/atoms/PopoverMenu */ './src/main/atoms/PopoverMenu/index.tsx',
          );
        /* harmony import */ var _main_atoms_PopoverMenuItem__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @/main/atoms/PopoverMenuItem */ './src/main/atoms/PopoverMenuItem/index.tsx',
          );
        /* harmony import */ var _main_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
          /*! @/main/utils */ './src/main/utils.ts',
        );
        /* harmony import */ var _headlessui_react__WEBPACK_IMPORTED_MODULE_15__ =
          __webpack_require__(
            /*! @headlessui/react */ './node_modules/@headlessui/react/dist/components/menu/menu.js',
          );
        /* harmony import */ var _heroicons_react_outline__WEBPACK_IMPORTED_MODULE_14__ =
          __webpack_require__(
            /*! @heroicons/react/outline */ './node_modules/@heroicons/react/outline/esm/DocumentDownloadIcon.js',
          );
        /* harmony import */ var _microlink_react__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! @microlink/react */ './node_modules/@microlink/react/dist/microlink.mjs',
          );
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );
        /* harmony import */ var draft_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
          /*! draft-js */ './node_modules/draft-js/lib/Draft.js',
        );
        /* harmony import */ var draft_js__WEBPACK_IMPORTED_MODULE_8___default =
          /*#__PURE__*/ __webpack_require__.n(draft_js__WEBPACK_IMPORTED_MODULE_8__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _CommentBox__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
          /*! ../CommentBox */ './src/feed/CommentBox/index.ts',
        );
        /* harmony import */ var _CommentText__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(
          /*! ../CommentText */ './src/feed/CommentText.tsx',
        );
        /* harmony import */ var _CommentImage__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(
          /*! ./CommentImage */ './src/feed/FeedCard/CommentImage.tsx',
        );
        /* harmony import */ var _CommentOwner__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(
          /*! ./CommentOwner */ './src/feed/FeedCard/CommentOwner.tsx',
        );
        function _typeof(obj) {
          '@babel/helpers - typeof';
          return (
            (_typeof =
              'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                ? function (obj) {
                    return typeof obj;
                  }
                : function (obj) {
                    return obj &&
                      'function' == typeof Symbol &&
                      obj.constructor === Symbol &&
                      obj !== Symbol.prototype
                      ? 'symbol'
                      : typeof obj;
                  }),
            _typeof(obj)
          );
        }
        var _excluded = [
          'className',
          'comment',
          'mentionData',
          'editable',
          'onEdit',
          'onDelete',
          'isShowUserAva',
        ];
        function _extends() {
          _extends = Object.assign
            ? Object.assign.bind()
            : function (target) {
                for (var i = 1; i < arguments.length; i++) {
                  var source = arguments[i];
                  for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                      target[key] = source[key];
                    }
                  }
                }
                return target;
              };
          return _extends.apply(this, arguments);
        }
        function ownKeys(object, enumerableOnly) {
          var keys = Object.keys(object);
          if (Object.getOwnPropertySymbols) {
            var symbols = Object.getOwnPropertySymbols(object);
            enumerableOnly &&
              (symbols = symbols.filter(function (sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
              })),
              keys.push.apply(keys, symbols);
          }
          return keys;
        }
        function _objectSpread(target) {
          for (var i = 1; i < arguments.length; i++) {
            var source = null != arguments[i] ? arguments[i] : {};
            i % 2
              ? ownKeys(Object(source), !0).forEach(function (key) {
                  _defineProperty(target, key, source[key]);
                })
              : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))
              : ownKeys(Object(source)).forEach(function (key) {
                  Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
                });
          }
          return target;
        }
        function _defineProperty(obj, key, value) {
          key = _toPropertyKey(key);
          if (key in obj) {
            Object.defineProperty(obj, key, {
              value: value,
              enumerable: true,
              configurable: true,
              writable: true,
            });
          } else {
            obj[key] = value;
          }
          return obj;
        }
        function _toPropertyKey(arg) {
          var key = _toPrimitive(arg, 'string');
          return _typeof(key) === 'symbol' ? key : String(key);
        }
        function _toPrimitive(input, hint) {
          if (_typeof(input) !== 'object' || input === null) return input;
          var prim = input[Symbol.toPrimitive];
          if (prim !== undefined) {
            var res = prim.call(input, hint || 'default');
            if (_typeof(res) !== 'object') return res;
            throw new TypeError('@@toPrimitive must return a primitive value.');
          }
          return (hint === 'string' ? String : Number)(input);
        }
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _unsupportedIterableToArray(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
          );
        }
        function _unsupportedIterableToArray(o, minLen) {
          if (!o) return;
          if (typeof o === 'string') return _arrayLikeToArray(o, minLen);
          var n = Object.prototype.toString.call(o).slice(8, -1);
          if (n === 'Object' && o.constructor) n = o.constructor.name;
          if (n === 'Map' || n === 'Set') return Array.from(o);
          if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
            return _arrayLikeToArray(o, minLen);
        }
        function _arrayLikeToArray(arr, len) {
          if (len == null || len > arr.length) len = arr.length;
          for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
          return arr2;
        }
        function _iterableToArrayLimit(arr, i) {
          var _i =
            null == arr
              ? null
              : ('undefined' != typeof Symbol && arr[Symbol.iterator]) || arr['@@iterator'];
          if (null != _i) {
            var _s,
              _e,
              _x,
              _r,
              _arr = [],
              _n = !0,
              _d = !1;
            try {
              if (((_x = (_i = _i.call(arr)).next), 0 === i)) {
                if (Object(_i) !== _i) return;
                _n = !1;
              } else
                for (
                  ;
                  !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i);
                  _n = !0
                );
            } catch (err) {
              (_d = !0), (_e = err);
            } finally {
              try {
                if (!_n && null != _i.return && ((_r = _i.return()), Object(_r) !== _r)) return;
              } finally {
                if (_d) throw _e;
              }
            }
            return _arr;
          }
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        }
        function _objectWithoutProperties(source, excluded) {
          if (source == null) return {};
          var target = _objectWithoutPropertiesLoose(source, excluded);
          var key, i;
          if (Object.getOwnPropertySymbols) {
            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
            for (i = 0; i < sourceSymbolKeys.length; i++) {
              key = sourceSymbolKeys[i];
              if (excluded.indexOf(key) >= 0) continue;
              if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
              target[key] = source[key];
            }
          }
          return target;
        }
        function _objectWithoutPropertiesLoose(source, excluded) {
          if (source == null) return {};
          var target = {};
          var sourceKeys = Object.keys(source);
          var key, i;
          for (i = 0; i < sourceKeys.length; i++) {
            key = sourceKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            target[key] = source[key];
          }
          return target;
        }

        var IMAGE_EXT = 'jpg,png,jpeg,gif';
        var CommentItem = function CommentItem(_ref) {
          var _comment$attachment$s,
            _comment$attachment,
            _comment$attachment$s2,
            _comment$attachment2;
          var className = _ref.className,
            comment = _ref.comment,
            mentionData = _ref.mentionData,
            editable = _ref.editable,
            onEdit = _ref.onEdit,
            onDelete = _ref.onDelete,
            _ref$isShowUserAva = _ref.isShowUserAva,
            isShowUserAva = _ref$isShowUserAva === void 0 ? false : _ref$isShowUserAva,
            rest = _objectWithoutProperties(_ref, _excluded);
          // Local states
          var _React$useState = react__WEBPACK_IMPORTED_MODULE_9__.useState(false),
            _React$useState2 = _slicedToArray(_React$useState, 2),
            isHover = _React$useState2[0],
            setHover = _React$useState2[1];
          var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_9__.useState(false),
            _React$useState4 = _slicedToArray(_React$useState3, 2),
            isEditing = _React$useState4[0],
            setEditing = _React$useState4[1];
          var _React$useState5 = react__WEBPACK_IMPORTED_MODULE_9__.useState(),
            _React$useState6 = _slicedToArray(_React$useState5, 2),
            confirmModal = _React$useState6[0],
            setConfirmModal = _React$useState6[1];
          // Variables
          var attachmentType =
            (_comment$attachment$s =
              (_comment$attachment = comment.attachment) === null || _comment$attachment === void 0
                ? void 0
                : _comment$attachment.split('.').slice(-1)[0]) !== null &&
            _comment$attachment$s !== void 0
              ? _comment$attachment$s
              : '';
          var attachmentName =
            (_comment$attachment$s2 =
              (_comment$attachment2 = comment.attachment) === null ||
              _comment$attachment2 === void 0
                ? void 0
                : _comment$attachment2.split('/').slice(-1)[0]) !== null &&
            _comment$attachment$s2 !== void 0
              ? _comment$attachment$s2
              : '';
          // Remove prefix to get original name (format: <time>-<id>-<time>-<originalName>.ext)
          var originalName = attachmentName
            .split('-')
            .slice(3, attachmentName.split('-').length)
            .join('-');
          var hyperlinks = (0, _main_utils__WEBPACK_IMPORTED_MODULE_5__.extractHyperlinks)(
            comment.content,
          );
          var contentState = react__WEBPACK_IMPORTED_MODULE_9__.useMemo(
            function () {
              return (0, _main_utils__WEBPACK_IMPORTED_MODULE_5__.commentHtmlToContentState)(
                comment.content,
              );
            },
            [comment.content],
          );
          var escFunction = react__WEBPACK_IMPORTED_MODULE_9__.useCallback(function (event) {
            if (event.keyCode === 27) {
              // Do whatever when esc is pressed
              setEditing(false);
            }
          }, []);
          react__WEBPACK_IMPORTED_MODULE_9__.useEffect(
            function () {
              document.addEventListener('keydown', escFunction, false);
              return function () {
                document.removeEventListener('keydown', escFunction, false);
              };
            },
            [escFunction],
          );
          var onDeleteComment = function onDeleteComment() {
            setConfirmModal({
              title: 'Delete this comment?',
              description: 'Are you sure you want to delete this comment?',
              confirmAction: function confirmAction() {
                return onDelete && onDelete(comment);
              },
              confirmLabel: 'Delete',
            });
          };
          var onSubmitEdit = function onSubmitEdit(values) {
            if (!onEdit) {
              setEditing(false);
              return;
            }
            var newContentState = values === null || values === void 0 ? void 0 : values.content;
            var isDirty =
              newContentState.getCurrentContent().hasText() ||
              !!(values !== null && values !== void 0 && values.attachment);
            if (!isDirty) {
              // Trigger delete comment
              onDeleteComment();
              setEditing(false);
              return;
            }
            var parsedContent = (0,
            _main_utils__WEBPACK_IMPORTED_MODULE_5__.commentEditorHtmlParser)(
              newContentState.getCurrentContent(),
            );
            onEdit(
              _objectSpread(
                _objectSpread({}, comment),
                {},
                {
                  content: parsedContent,
                },
              ),
            );
            setEditing(false);
          };
          var renderAttachment = function renderAttachment() {
            var _comment$attachment3;
            return IMAGE_EXT.includes(attachmentType.toLowerCase())
              ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                  _CommentImage__WEBPACK_IMPORTED_MODULE_12__['default'],
                  {
                    src:
                      (_comment$attachment3 = comment.attachment) !== null &&
                      _comment$attachment3 !== void 0
                        ? _comment$attachment3
                        : '',
                  },
                )
              : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                  'div',
                  {
                    className: 'flex flex-row items-center space-x-1',
                  },
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                    _heroicons_react_outline__WEBPACK_IMPORTED_MODULE_14__['default'],
                    {
                      width: 14,
                      height: 14,
                      className: 'stroke-current text-Gray-3',
                    },
                  ),
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                    'a',
                    {
                      className: 'text-sm text-Gray-3 hover:underline',
                      href: comment.attachment,
                      download: true,
                    },
                    originalName,
                  ),
                );
          };
          var renderLinkPreview = function renderLinkPreview() {
            return (
              hyperlinks &&
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                _microlink_react__WEBPACK_IMPORTED_MODULE_6__['default'],
                {
                  apiKey: _config__WEBPACK_IMPORTED_MODULE_1__.MICRO_LINK_API_KEY,
                  style: {
                    margin: '8px 0 6px',
                  },
                  url: hyperlinks[0].url,
                },
              )
            );
          };
          return !isEditing
            ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                react__WEBPACK_IMPORTED_MODULE_9__.Fragment,
                null,
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                  'div',
                  _extends(
                    {
                      className: (0, clsx__WEBPACK_IMPORTED_MODULE_7__['default'])(
                        'group bg-purple-10 py-2 px-3.5 space-y-1 hover:bg-purple-11',
                        className !== null && className !== void 0 ? className : '',
                      ),
                      onMouseEnter: function onMouseEnter() {
                        return setHover(true);
                      },
                      onMouseLeave: function onMouseLeave() {
                        return setHover(false);
                      },
                    },
                    rest,
                  ),
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                    'div',
                    {
                      className: 'flex flex-row justify-between items-center',
                    },
                    /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                      _CommentOwner__WEBPACK_IMPORTED_MODULE_13__.CommentOwner,
                      {
                        owner: comment.user,
                        commentDate: comment.createdAt,
                        showAva: isShowUserAva,
                      },
                    ),
                    editable &&
                      isHover &&
                      /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                        _headlessui_react__WEBPACK_IMPORTED_MODULE_15__.Menu,
                        {
                          as: 'div',
                          className:
                            'relative inline-block z-50 text-left invisible group-hover:visible',
                        },
                        /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                          'div',
                          null,
                          /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                            _headlessui_react__WEBPACK_IMPORTED_MODULE_15__.Menu.Button,
                            {
                              className:
                                '-mr-3 px-2 py-[2.5px] rounded-full flex items-center text-gray-400 hover:text-gray-600',
                            },
                            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                              'span',
                              {
                                className: 'sr-only',
                              },
                              'comment options',
                            ),
                            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                              _assets__WEBPACK_IMPORTED_MODULE_0__.MoreVerticalIcon,
                              {
                                'aria-hidden': 'true',
                                viewBox: '0 0 15 15',
                              },
                            ),
                          ),
                        ),
                        /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                          _main_atoms_PopoverMenu__WEBPACK_IMPORTED_MODULE_3__['default'],
                          null,
                          /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                            _main_atoms_PopoverMenuItem__WEBPACK_IMPORTED_MODULE_4__['default'],
                            {
                              key: 'edit-comment',
                              value: 'edit-comment',
                              label: 'Edit',
                              onClick: function onClick() {
                                return setEditing(true);
                              },
                            },
                          ),
                          /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                            _main_atoms_PopoverMenuItem__WEBPACK_IMPORTED_MODULE_4__['default'],
                            {
                              key: 'delete-comment',
                              className: 'text-system-alert',
                              value: 'delete-comment',
                              label: 'Delete',
                              onClick: onDeleteComment,
                            },
                          ),
                        ),
                      ),
                  ),
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                    _CommentText__WEBPACK_IMPORTED_MODULE_11__.CommentText,
                    {
                      className: (0, clsx__WEBPACK_IMPORTED_MODULE_7__['default'])(
                        isShowUserAva && 'ml-8',
                      ),
                      content: comment.content,
                    },
                  ),
                  !!comment.attachment && renderAttachment(),
                  !!(hyperlinks !== null && hyperlinks !== void 0 && hyperlinks.length) &&
                    renderLinkPreview(),
                ),
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                  _main_atoms_ConfirmModal__WEBPACK_IMPORTED_MODULE_2__['default'],
                  {
                    open: !!confirmModal,
                    icon: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                      _assets__WEBPACK_IMPORTED_MODULE_0__.ExclamationCircle,
                      null,
                    ),
                    title:
                      (confirmModal === null || confirmModal === void 0
                        ? void 0
                        : confirmModal.title) || '',
                    okLabel:
                      confirmModal === null || confirmModal === void 0
                        ? void 0
                        : confirmModal.confirmLabel,
                    onClose: function onClose() {
                      return setConfirmModal(undefined);
                    },
                    onOk:
                      confirmModal === null || confirmModal === void 0
                        ? void 0
                        : confirmModal.confirmAction,
                  },
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                    'p',
                    {
                      id: 'modal-modal-description',
                      className: 'text-Gray-6 text-sm',
                    },
                    confirmModal === null || confirmModal === void 0
                      ? void 0
                      : confirmModal.description,
                  ),
                ),
              )
            : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                'div',
                {
                  className: 'py-2 space-y-2',
                },
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                  _CommentBox__WEBPACK_IMPORTED_MODULE_10__.CommentBox,
                  {
                    alwaysFocus: true,
                    mentionData: mentionData,
                    defaultContent:
                      draft_js__WEBPACK_IMPORTED_MODULE_8__.EditorState.createWithContent(
                        contentState,
                      ),
                    onSubmit: onSubmitEdit,
                  },
                ),
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                  'div',
                  {
                    className: 'flex justify-end items-center w-full space-x-1',
                  },
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                    _assets__WEBPACK_IMPORTED_MODULE_0__.XCircleIcon,
                    {
                      width: 13,
                      height: 13,
                      viewBox: '0 0 17 17',
                      className: 'stroke-current path-no-stroke text-Gray-6',
                    },
                  ),
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_9__.createElement(
                    'span',
                    {
                      className: 'text-xs text-Gray-6 align-middle',
                    },
                    'Esc to Cancel',
                  ),
                ),
              );
        };

        /***/
      },

    /***/ './src/feed/FeedCard/CommentOwner.tsx':
      /*!********************************************!*\
  !*** ./src/feed/FeedCard/CommentOwner.tsx ***!
  \********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ CommentOwner: function () {
            return /* binding */ CommentOwner;
          },
          /* harmony export */
        });
        /* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! @/common/components */ './src/common/components/index.ts');
        /* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! @/common/utils */ './src/common/utils/index.ts',
        );
        /* harmony import */ var _main_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
          /*! @/main/utils */ './src/main/utils.ts',
        );
        /* harmony import */ var _profile_useProfile__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(/*! @/profile/useProfile */ './src/profile/useProfile.ts');
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );

        var CommentOwner = function CommentOwner(_ref) {
          var owner = _ref.owner,
            commentDate = _ref.commentDate,
            className = _ref.className,
            _ref$showAva = _ref.showAva,
            showAva = _ref$showAva === void 0 ? false : _ref$showAva;
          var _useProfile = (0, _profile_useProfile__WEBPACK_IMPORTED_MODULE_3__.useProfile)(),
            profile = _useProfile.profile;
          var avatarBgColor = react__WEBPACK_IMPORTED_MODULE_5__.useMemo(
            function () {
              var _owner$fullName;
              return (0, _main_utils__WEBPACK_IMPORTED_MODULE_2__.getColorByText)(
                (_owner$fullName = owner === null || owner === void 0 ? void 0 : owner.fullName) !==
                  null && _owner$fullName !== void 0
                  ? _owner$fullName
                  : '',
              );
            },
            [owner === null || owner === void 0 ? void 0 : owner.fullName],
          );
          var renderAvaOrShortName = function renderAvaOrShortName() {
            var isMyComment =
              (owner === null || owner === void 0 ? void 0 : owner.id) ===
              (profile === null || profile === void 0 ? void 0 : profile.id);
            if (isMyComment) {
              return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
                _common_components__WEBPACK_IMPORTED_MODULE_0__.Avatar,
                {
                  size: 'sm',
                  src: profile === null || profile === void 0 ? void 0 : profile.avatar,
                  fullName: profile === null || profile === void 0 ? void 0 : profile.fullName,
                },
              );
            }
            if (owner !== null && owner !== void 0 && owner.avatar) {
              return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
                _common_components__WEBPACK_IMPORTED_MODULE_0__.Avatar,
                {
                  size: 'sm',
                  src: owner === null || owner === void 0 ? void 0 : owner.avatar,
                  fullName: owner === null || owner === void 0 ? void 0 : owner.fullName,
                },
              );
            }
            var shortName = (0, _main_utils__WEBPACK_IMPORTED_MODULE_2__.getNameAbbreviation)(
              owner === null || owner === void 0 ? void 0 : owner.fullName,
            );
            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
              'div',
              {
                className: 'flex w-6 h-6 rounded-full justify-center items-center',
                style: {
                  backgroundColor: avatarBgColor,
                },
              },
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
                'p',
                {
                  className: 'text-white text-xs font-semibold',
                },
                shortName,
              ),
            );
          };
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
            'div',
            {
              className: (0, clsx__WEBPACK_IMPORTED_MODULE_4__['default'])(
                'flex space-x-1 items-center',
                className !== null && className !== void 0 ? className : '',
              ),
            },
            showAva && renderAvaOrShortName(),
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
              'p',
              {
                className: 'text-Gray-1 text-sm font-semibold',
              },
              owner.fullName,
            ),
            !!commentDate &&
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
                react__WEBPACK_IMPORTED_MODULE_5__.Fragment,
                null,
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
                  'p',
                  {
                    className: 'text-Gray-6 text-xs',
                  },
                  '\u2022',
                ),
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_5__.createElement(
                  'p',
                  {
                    className: 'text-Gray-6 text-xs',
                  },
                  (0, _common_utils__WEBPACK_IMPORTED_MODULE_1__.formatDate)(commentDate),
                ),
              ),
          );
        };

        /***/
      },

    /***/ './src/feed/FeedCard/CommentsSection.tsx':
      /*!***********************************************!*\
  !*** ./src/feed/FeedCard/CommentsSection.tsx ***!
  \***********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ CommentsSection: function () {
            return /* binding */ CommentsSection;
          },
          /* harmony export */
        });
        /* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! @/common/components */ './src/common/components/index.ts');
        /* harmony import */ var _common_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! @/common/hooks */ './src/common/hooks/index.ts',
        );
        /* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
          /*! @/error */ './src/error/index.ts',
        );
        /* harmony import */ var _main_entity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
          /*! @/main/entity */ './src/main/entity/index.ts',
        );
        /* harmony import */ var _main_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
          /*! @/main/utils */ './src/main/utils.ts',
        );
        /* harmony import */ var _misc_useMentions__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(/*! @/misc/useMentions */ './src/misc/useMentions.ts');
        /* harmony import */ var _profile_useProfile__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(/*! @/profile/useProfile */ './src/profile/useProfile.ts');
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
          /*! react-toastify */ './node_modules/react-toastify/dist/react-toastify.esm.js',
        );
        /* harmony import */ var _apis__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
          /*! ../apis */ './src/feed/apis.ts',
        );
        /* harmony import */ var _CommentBox__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
          /*! ../CommentBox */ './src/feed/CommentBox/index.ts',
        );
        /* harmony import */ var _CommentAttachmentModal__WEBPACK_IMPORTED_MODULE_11__ =
          __webpack_require__(
            /*! ./CommentAttachmentModal */ './src/feed/FeedCard/CommentAttachmentModal.tsx',
          );
        /* harmony import */ var _CommentItem__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(
          /*! ./CommentItem */ './src/feed/FeedCard/CommentItem.tsx',
        );
        /* harmony import */ var _ViewAllCommentsButton__WEBPACK_IMPORTED_MODULE_13__ =
          __webpack_require__(
            /*! ./ViewAllCommentsButton */ './src/feed/FeedCard/ViewAllCommentsButton.tsx',
          );
        function _typeof(obj) {
          '@babel/helpers - typeof';
          return (
            (_typeof =
              'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                ? function (obj) {
                    return typeof obj;
                  }
                : function (obj) {
                    return obj &&
                      'function' == typeof Symbol &&
                      obj.constructor === Symbol &&
                      obj !== Symbol.prototype
                      ? 'symbol'
                      : typeof obj;
                  }),
            _typeof(obj)
          );
        }
        function _regeneratorRuntime() {
          'use strict';
          /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime =
            function _regeneratorRuntime() {
              return exports;
            };
          var exports = {},
            Op = Object.prototype,
            hasOwn = Op.hasOwnProperty,
            defineProperty =
              Object.defineProperty ||
              function (obj, key, desc) {
                obj[key] = desc.value;
              },
            $Symbol = 'function' == typeof Symbol ? Symbol : {},
            iteratorSymbol = $Symbol.iterator || '@@iterator',
            asyncIteratorSymbol = $Symbol.asyncIterator || '@@asyncIterator',
            toStringTagSymbol = $Symbol.toStringTag || '@@toStringTag';
          function define(obj, key, value) {
            return (
              Object.defineProperty(obj, key, {
                value: value,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              }),
              obj[key]
            );
          }
          try {
            define({}, '');
          } catch (err) {
            define = function define(obj, key, value) {
              return (obj[key] = value);
            };
          }
          function wrap(innerFn, outerFn, self, tryLocsList) {
            var protoGenerator =
                outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,
              generator = Object.create(protoGenerator.prototype),
              context = new Context(tryLocsList || []);
            return (
              defineProperty(generator, '_invoke', {
                value: makeInvokeMethod(innerFn, self, context),
              }),
              generator
            );
          }
          function tryCatch(fn, obj, arg) {
            try {
              return { type: 'normal', arg: fn.call(obj, arg) };
            } catch (err) {
              return { type: 'throw', arg: err };
            }
          }
          exports.wrap = wrap;
          var ContinueSentinel = {};
          function Generator() {}
          function GeneratorFunction() {}
          function GeneratorFunctionPrototype() {}
          var IteratorPrototype = {};
          define(IteratorPrototype, iteratorSymbol, function () {
            return this;
          });
          var getProto = Object.getPrototypeOf,
            NativeIteratorPrototype = getProto && getProto(getProto(values([])));
          NativeIteratorPrototype &&
            NativeIteratorPrototype !== Op &&
            hasOwn.call(NativeIteratorPrototype, iteratorSymbol) &&
            (IteratorPrototype = NativeIteratorPrototype);
          var Gp =
            (GeneratorFunctionPrototype.prototype =
            Generator.prototype =
              Object.create(IteratorPrototype));
          function defineIteratorMethods(prototype) {
            ['next', 'throw', 'return'].forEach(function (method) {
              define(prototype, method, function (arg) {
                return this._invoke(method, arg);
              });
            });
          }
          function AsyncIterator(generator, PromiseImpl) {
            function invoke(method, arg, resolve, reject) {
              var record = tryCatch(generator[method], generator, arg);
              if ('throw' !== record.type) {
                var result = record.arg,
                  value = result.value;
                return value && 'object' == _typeof(value) && hasOwn.call(value, '__await')
                  ? PromiseImpl.resolve(value.__await).then(
                      function (value) {
                        invoke('next', value, resolve, reject);
                      },
                      function (err) {
                        invoke('throw', err, resolve, reject);
                      },
                    )
                  : PromiseImpl.resolve(value).then(
                      function (unwrapped) {
                        (result.value = unwrapped), resolve(result);
                      },
                      function (error) {
                        return invoke('throw', error, resolve, reject);
                      },
                    );
              }
              reject(record.arg);
            }
            var previousPromise;
            defineProperty(this, '_invoke', {
              value: function value(method, arg) {
                function callInvokeWithMethodAndArg() {
                  return new PromiseImpl(function (resolve, reject) {
                    invoke(method, arg, resolve, reject);
                  });
                }
                return (previousPromise = previousPromise
                  ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg)
                  : callInvokeWithMethodAndArg());
              },
            });
          }
          function makeInvokeMethod(innerFn, self, context) {
            var state = 'suspendedStart';
            return function (method, arg) {
              if ('executing' === state) throw new Error('Generator is already running');
              if ('completed' === state) {
                if ('throw' === method) throw arg;
                return doneResult();
              }
              for (context.method = method, context.arg = arg; ; ) {
                var delegate = context.delegate;
                if (delegate) {
                  var delegateResult = maybeInvokeDelegate(delegate, context);
                  if (delegateResult) {
                    if (delegateResult === ContinueSentinel) continue;
                    return delegateResult;
                  }
                }
                if ('next' === context.method) context.sent = context._sent = context.arg;
                else if ('throw' === context.method) {
                  if ('suspendedStart' === state) throw ((state = 'completed'), context.arg);
                  context.dispatchException(context.arg);
                } else 'return' === context.method && context.abrupt('return', context.arg);
                state = 'executing';
                var record = tryCatch(innerFn, self, context);
                if ('normal' === record.type) {
                  if (
                    ((state = context.done ? 'completed' : 'suspendedYield'),
                    record.arg === ContinueSentinel)
                  )
                    continue;
                  return { value: record.arg, done: context.done };
                }
                'throw' === record.type &&
                  ((state = 'completed'), (context.method = 'throw'), (context.arg = record.arg));
              }
            };
          }
          function maybeInvokeDelegate(delegate, context) {
            var methodName = context.method,
              method = delegate.iterator[methodName];
            if (undefined === method)
              return (
                (context.delegate = null),
                ('throw' === methodName &&
                  delegate.iterator.return &&
                  ((context.method = 'return'),
                  (context.arg = undefined),
                  maybeInvokeDelegate(delegate, context),
                  'throw' === context.method)) ||
                  ('return' !== methodName &&
                    ((context.method = 'throw'),
                    (context.arg = new TypeError(
                      "The iterator does not provide a '" + methodName + "' method",
                    )))),
                ContinueSentinel
              );
            var record = tryCatch(method, delegate.iterator, context.arg);
            if ('throw' === record.type)
              return (
                (context.method = 'throw'),
                (context.arg = record.arg),
                (context.delegate = null),
                ContinueSentinel
              );
            var info = record.arg;
            return info
              ? info.done
                ? ((context[delegate.resultName] = info.value),
                  (context.next = delegate.nextLoc),
                  'return' !== context.method &&
                    ((context.method = 'next'), (context.arg = undefined)),
                  (context.delegate = null),
                  ContinueSentinel)
                : info
              : ((context.method = 'throw'),
                (context.arg = new TypeError('iterator result is not an object')),
                (context.delegate = null),
                ContinueSentinel);
          }
          function pushTryEntry(locs) {
            var entry = { tryLoc: locs[0] };
            1 in locs && (entry.catchLoc = locs[1]),
              2 in locs && ((entry.finallyLoc = locs[2]), (entry.afterLoc = locs[3])),
              this.tryEntries.push(entry);
          }
          function resetTryEntry(entry) {
            var record = entry.completion || {};
            (record.type = 'normal'), delete record.arg, (entry.completion = record);
          }
          function Context(tryLocsList) {
            (this.tryEntries = [{ tryLoc: 'root' }]),
              tryLocsList.forEach(pushTryEntry, this),
              this.reset(!0);
          }
          function values(iterable) {
            if (iterable) {
              var iteratorMethod = iterable[iteratorSymbol];
              if (iteratorMethod) return iteratorMethod.call(iterable);
              if ('function' == typeof iterable.next) return iterable;
              if (!isNaN(iterable.length)) {
                var i = -1,
                  next = function next() {
                    for (; ++i < iterable.length; )
                      if (hasOwn.call(iterable, i))
                        return (next.value = iterable[i]), (next.done = !1), next;
                    return (next.value = undefined), (next.done = !0), next;
                  };
                return (next.next = next);
              }
            }
            return { next: doneResult };
          }
          function doneResult() {
            return { value: undefined, done: !0 };
          }
          return (
            (GeneratorFunction.prototype = GeneratorFunctionPrototype),
            defineProperty(Gp, 'constructor', {
              value: GeneratorFunctionPrototype,
              configurable: !0,
            }),
            defineProperty(GeneratorFunctionPrototype, 'constructor', {
              value: GeneratorFunction,
              configurable: !0,
            }),
            (GeneratorFunction.displayName = define(
              GeneratorFunctionPrototype,
              toStringTagSymbol,
              'GeneratorFunction',
            )),
            (exports.isGeneratorFunction = function (genFun) {
              var ctor = 'function' == typeof genFun && genFun.constructor;
              return (
                !!ctor &&
                (ctor === GeneratorFunction ||
                  'GeneratorFunction' === (ctor.displayName || ctor.name))
              );
            }),
            (exports.mark = function (genFun) {
              return (
                Object.setPrototypeOf
                  ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype)
                  : ((genFun.__proto__ = GeneratorFunctionPrototype),
                    define(genFun, toStringTagSymbol, 'GeneratorFunction')),
                (genFun.prototype = Object.create(Gp)),
                genFun
              );
            }),
            (exports.awrap = function (arg) {
              return { __await: arg };
            }),
            defineIteratorMethods(AsyncIterator.prototype),
            define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
              return this;
            }),
            (exports.AsyncIterator = AsyncIterator),
            (exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {
              void 0 === PromiseImpl && (PromiseImpl = Promise);
              var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);
              return exports.isGeneratorFunction(outerFn)
                ? iter
                : iter.next().then(function (result) {
                    return result.done ? result.value : iter.next();
                  });
            }),
            defineIteratorMethods(Gp),
            define(Gp, toStringTagSymbol, 'Generator'),
            define(Gp, iteratorSymbol, function () {
              return this;
            }),
            define(Gp, 'toString', function () {
              return '[object Generator]';
            }),
            (exports.keys = function (val) {
              var object = Object(val),
                keys = [];
              for (var key in object) keys.push(key);
              return (
                keys.reverse(),
                function next() {
                  for (; keys.length; ) {
                    var key = keys.pop();
                    if (key in object) return (next.value = key), (next.done = !1), next;
                  }
                  return (next.done = !0), next;
                }
              );
            }),
            (exports.values = values),
            (Context.prototype = {
              constructor: Context,
              reset: function reset(skipTempReset) {
                if (
                  ((this.prev = 0),
                  (this.next = 0),
                  (this.sent = this._sent = undefined),
                  (this.done = !1),
                  (this.delegate = null),
                  (this.method = 'next'),
                  (this.arg = undefined),
                  this.tryEntries.forEach(resetTryEntry),
                  !skipTempReset)
                )
                  for (var name in this)
                    't' === name.charAt(0) &&
                      hasOwn.call(this, name) &&
                      !isNaN(+name.slice(1)) &&
                      (this[name] = undefined);
              },
              stop: function stop() {
                this.done = !0;
                var rootRecord = this.tryEntries[0].completion;
                if ('throw' === rootRecord.type) throw rootRecord.arg;
                return this.rval;
              },
              dispatchException: function dispatchException(exception) {
                if (this.done) throw exception;
                var context = this;
                function handle(loc, caught) {
                  return (
                    (record.type = 'throw'),
                    (record.arg = exception),
                    (context.next = loc),
                    caught && ((context.method = 'next'), (context.arg = undefined)),
                    !!caught
                  );
                }
                for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                  var entry = this.tryEntries[i],
                    record = entry.completion;
                  if ('root' === entry.tryLoc) return handle('end');
                  if (entry.tryLoc <= this.prev) {
                    var hasCatch = hasOwn.call(entry, 'catchLoc'),
                      hasFinally = hasOwn.call(entry, 'finallyLoc');
                    if (hasCatch && hasFinally) {
                      if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                      if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
                    } else if (hasCatch) {
                      if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);
                    } else {
                      if (!hasFinally) throw new Error('try statement without catch or finally');
                      if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);
                    }
                  }
                }
              },
              abrupt: function abrupt(type, arg) {
                for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                  var entry = this.tryEntries[i];
                  if (
                    entry.tryLoc <= this.prev &&
                    hasOwn.call(entry, 'finallyLoc') &&
                    this.prev < entry.finallyLoc
                  ) {
                    var finallyEntry = entry;
                    break;
                  }
                }
                finallyEntry &&
                  ('break' === type || 'continue' === type) &&
                  finallyEntry.tryLoc <= arg &&
                  arg <= finallyEntry.finallyLoc &&
                  (finallyEntry = null);
                var record = finallyEntry ? finallyEntry.completion : {};
                return (
                  (record.type = type),
                  (record.arg = arg),
                  finallyEntry
                    ? ((this.method = 'next'),
                      (this.next = finallyEntry.finallyLoc),
                      ContinueSentinel)
                    : this.complete(record)
                );
              },
              complete: function complete(record, afterLoc) {
                if ('throw' === record.type) throw record.arg;
                return (
                  'break' === record.type || 'continue' === record.type
                    ? (this.next = record.arg)
                    : 'return' === record.type
                    ? ((this.rval = this.arg = record.arg),
                      (this.method = 'return'),
                      (this.next = 'end'))
                    : 'normal' === record.type && afterLoc && (this.next = afterLoc),
                  ContinueSentinel
                );
              },
              finish: function finish(finallyLoc) {
                for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                  var entry = this.tryEntries[i];
                  if (entry.finallyLoc === finallyLoc)
                    return (
                      this.complete(entry.completion, entry.afterLoc),
                      resetTryEntry(entry),
                      ContinueSentinel
                    );
                }
              },
              catch: function _catch(tryLoc) {
                for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                  var entry = this.tryEntries[i];
                  if (entry.tryLoc === tryLoc) {
                    var record = entry.completion;
                    if ('throw' === record.type) {
                      var thrown = record.arg;
                      resetTryEntry(entry);
                    }
                    return thrown;
                  }
                }
                throw new Error('illegal catch attempt');
              },
              delegateYield: function delegateYield(iterable, resultName, nextLoc) {
                return (
                  (this.delegate = {
                    iterator: values(iterable),
                    resultName: resultName,
                    nextLoc: nextLoc,
                  }),
                  'next' === this.method && (this.arg = undefined),
                  ContinueSentinel
                );
              },
            }),
            exports
          );
        }
        function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
          try {
            var info = gen[key](arg);
            var value = info.value;
          } catch (error) {
            reject(error);
            return;
          }
          if (info.done) {
            resolve(value);
          } else {
            Promise.resolve(value).then(_next, _throw);
          }
        }
        function _asyncToGenerator(fn) {
          return function () {
            var self = this,
              args = arguments;
            return new Promise(function (resolve, reject) {
              var gen = fn.apply(self, args);
              function _next(value) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);
              }
              function _throw(err) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);
              }
              _next(undefined);
            });
          };
        }
        function ownKeys(object, enumerableOnly) {
          var keys = Object.keys(object);
          if (Object.getOwnPropertySymbols) {
            var symbols = Object.getOwnPropertySymbols(object);
            enumerableOnly &&
              (symbols = symbols.filter(function (sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
              })),
              keys.push.apply(keys, symbols);
          }
          return keys;
        }
        function _objectSpread(target) {
          for (var i = 1; i < arguments.length; i++) {
            var source = null != arguments[i] ? arguments[i] : {};
            i % 2
              ? ownKeys(Object(source), !0).forEach(function (key) {
                  _defineProperty(target, key, source[key]);
                })
              : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))
              : ownKeys(Object(source)).forEach(function (key) {
                  Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
                });
          }
          return target;
        }
        function _defineProperty(obj, key, value) {
          key = _toPropertyKey(key);
          if (key in obj) {
            Object.defineProperty(obj, key, {
              value: value,
              enumerable: true,
              configurable: true,
              writable: true,
            });
          } else {
            obj[key] = value;
          }
          return obj;
        }
        function _toPropertyKey(arg) {
          var key = _toPrimitive(arg, 'string');
          return _typeof(key) === 'symbol' ? key : String(key);
        }
        function _toPrimitive(input, hint) {
          if (_typeof(input) !== 'object' || input === null) return input;
          var prim = input[Symbol.toPrimitive];
          if (prim !== undefined) {
            var res = prim.call(input, hint || 'default');
            if (_typeof(res) !== 'object') return res;
            throw new TypeError('@@toPrimitive must return a primitive value.');
          }
          return (hint === 'string' ? String : Number)(input);
        }
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _unsupportedIterableToArray(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
          );
        }
        function _unsupportedIterableToArray(o, minLen) {
          if (!o) return;
          if (typeof o === 'string') return _arrayLikeToArray(o, minLen);
          var n = Object.prototype.toString.call(o).slice(8, -1);
          if (n === 'Object' && o.constructor) n = o.constructor.name;
          if (n === 'Map' || n === 'Set') return Array.from(o);
          if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
            return _arrayLikeToArray(o, minLen);
        }
        function _arrayLikeToArray(arr, len) {
          if (len == null || len > arr.length) len = arr.length;
          for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
          return arr2;
        }
        function _iterableToArrayLimit(arr, i) {
          var _i =
            null == arr
              ? null
              : ('undefined' != typeof Symbol && arr[Symbol.iterator]) || arr['@@iterator'];
          if (null != _i) {
            var _s,
              _e,
              _x,
              _r,
              _arr = [],
              _n = !0,
              _d = !1;
            try {
              if (((_x = (_i = _i.call(arr)).next), 0 === i)) {
                if (Object(_i) !== _i) return;
                _n = !1;
              } else
                for (
                  ;
                  !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i);
                  _n = !0
                );
            } catch (err) {
              (_d = !0), (_e = err);
            } finally {
              try {
                if (!_n && null != _i.return && ((_r = _i.return()), Object(_r) !== _r)) return;
              } finally {
                if (_d) throw _e;
              }
            }
            return _arr;
          }
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        }

        var INITIAL_COMMENTS = 2;
        var COMMENTS_PER_INFINITE_LOAD = 20;
        var CommentsSection = function CommentsSection(_ref) {
          var _category, _department, _category2;
          var feed = _ref.feed;
          var _React$useState = react__WEBPACK_IMPORTED_MODULE_7__.useState(null),
            _React$useState2 = _slicedToArray(_React$useState, 2),
            attachFileComment = _React$useState2[0],
            setAttachFileComment = _React$useState2[1];
          var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_7__.useState(),
            _React$useState4 = _slicedToArray(_React$useState3, 2),
            uploadFileOptions = _React$useState4[0],
            setUploadFileOptions = _React$useState4[1];
          var _useProfile = (0, _profile_useProfile__WEBPACK_IMPORTED_MODULE_6__.useProfile)(),
            profile = _useProfile.profile;
          var _useMentions = (0, _misc_useMentions__WEBPACK_IMPORTED_MODULE_5__.useMentions)(),
            mentions = _useMentions.mentions;
          var _useInfiniteData = (0, _common_hooks__WEBPACK_IMPORTED_MODULE_1__.useInfiniteData)(
              function (paginationParams) {
                return _apis__WEBPACK_IMPORTED_MODULE_9__.FeedApis.getComments(
                  feed.id,
                  _objectSpread(
                    _objectSpread(
                      {
                        order: 'DESC',
                      },
                      paginationParams,
                    ),
                    {},
                    {
                      offset: INITIAL_COMMENTS + paginationParams.offset,
                    },
                  ),
                );
              },
              {
                initialFetch: function initialFetch() {
                  return _apis__WEBPACK_IMPORTED_MODULE_9__.FeedApis.getComments(feed.id, {
                    order: 'DESC',
                    offset: 0,
                    limit: INITIAL_COMMENTS,
                  });
                },
                handleCreate: function handleCreate(payload) {
                  return _apis__WEBPACK_IMPORTED_MODULE_9__.FeedApis.createComment(
                    feed.id,
                    payload,
                  );
                },
                handleDelete: _apis__WEBPACK_IMPORTED_MODULE_9__.FeedApis.deleteComment,
                reverse: true,
                onError: function onError(error) {
                  if ((0, _error__WEBPACK_IMPORTED_MODULE_2__.isBadRequest)(error)) {
                    react_toastify__WEBPACK_IMPORTED_MODULE_8__.toast.error(
                      'Failed to get any comments!',
                    );
                    return false;
                  }
                },
              },
            ),
            initialComments = _useInfiniteData.initialData,
            comments = _useInfiniteData.data,
            loadMoreComments = _useInfiniteData.loadMore,
            createComment = _useInfiniteData.create,
            updateComment = _useInfiniteData.update,
            deleteComment = _useInfiniteData.delete;
          var handleUpdateComment = /*#__PURE__*/ (function () {
            var _ref2 = _asyncToGenerator(
              /*#__PURE__*/ _regeneratorRuntime().mark(function _callee(id, payload) {
                return _regeneratorRuntime().wrap(function _callee$(_context) {
                  while (1)
                    switch ((_context.prev = _context.next)) {
                      case 0:
                        _context.next = 2;
                        return _apis__WEBPACK_IMPORTED_MODULE_9__.FeedApis.updateComment(
                          id,
                          payload,
                        );
                      case 2:
                        updateComment(id, payload);
                      case 3:
                      case 'end':
                        return _context.stop();
                    }
                }, _callee);
              }),
            );
            return function handleUpdateComment(_x2, _x3) {
              return _ref2.apply(this, arguments);
            };
          })();
          var onSubmitComment = function onSubmitComment(values) {
            var contentState = values === null || values === void 0 ? void 0 : values.content;
            var isDirty =
              contentState.getCurrentContent().hasText() ||
              !!(values !== null && values !== void 0 && values.attachment);
            if (!isDirty) return;
            var parsedContent = (0,
            _main_utils__WEBPACK_IMPORTED_MODULE_4__.commentEditorHtmlParser)(
              contentState.getCurrentContent(),
            );
            return createComment({
              content: parsedContent,
              attachment: values.attachment,
            });
          };
          var handleAttachFile = function handleAttachFile(file) {
            setUploadFileOptions({
              filename: ''.concat(feed.id, '-').concat(Date.now(), '-').concat(file.name),
              contentType: file.type,
              uploadType: 'attachments',
            });
            setAttachFileComment(file);
          };
          var isHidden =
            feed.category !== null &&
            ((_category = feed.category) === null || _category === void 0
              ? void 0
              : _category.visibility) ===
              _main_entity__WEBPACK_IMPORTED_MODULE_3__.Visibility.HIDDEN;
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
            'div',
            null,
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
              'div',
              {
                className: 'space-y-4 px-4 sm:px-12 mt-1.5',
              },
              initialComments.length >= 2 &&
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                  _common_components__WEBPACK_IMPORTED_MODULE_0__.InfiniteLoader,
                  {
                    onLoad: loadMoreComments,
                    itemsPerLoad: COMMENTS_PER_INFINITE_LOAD,
                    mode: 'ON_DEMAND',
                  },
                  function (_ref3) {
                    var isExhausted = _ref3.isExhausted,
                      loadMore = _ref3.loadMore,
                      isLoading = _ref3.isLoading;
                    return isExhausted
                      ? null
                      : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                          _ViewAllCommentsButton__WEBPACK_IMPORTED_MODULE_13__.ViewAllCommentsButton,
                          {
                            onClick: loadMore,
                            className: 'mt-2.5',
                            loading: isLoading,
                          },
                        );
                  },
                ),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                'ul',
                {
                  className: 'flex flex-col mt-1.5',
                },
                comments === null || comments === void 0
                  ? void 0
                  : comments.map(function (comment) {
                      return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                        'li',
                        {
                          key: comment.id,
                        },
                        /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                          _CommentItem__WEBPACK_IMPORTED_MODULE_12__.CommentItem,
                          {
                            className: isHidden ? 'bg-purple-11' : 'bg-Gray-24',
                            comment: comment,
                            mentionData: mentions,
                            editable:
                              (profile === null || profile === void 0 ? void 0 : profile.id) ===
                              comment.user.id,
                            onEdit: function onEdit(data) {
                              return handleUpdateComment(
                                data.id,
                                _objectSpread(_objectSpread({}, comment), data),
                              );
                            },
                            onDelete: function onDelete(_ref4) {
                              var id = _ref4.id;
                              return deleteComment(id);
                            },
                            isShowUserAva: true,
                          },
                        ),
                      );
                    }),
              ),
            ),
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
              'div',
              {
                className: 'px-4 sm:px-6 lg:px-12 py-1.5 mb-2 sm:mb-4',
              },
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
                _CommentBox__WEBPACK_IMPORTED_MODULE_10__.CommentBox,
                {
                  id: feed.id.toString(),
                  className: 'bg-white',
                  onAttachFile: handleAttachFile,
                  mentionData: mentions,
                  onSubmit: onSubmitComment,
                },
              ),
            ),
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_7__.createElement(
              _CommentAttachmentModal__WEBPACK_IMPORTED_MODULE_11__.CommentAttachmentModal,
              {
                depName:
                  (_department = feed.department) === null || _department === void 0
                    ? void 0
                    : _department.name,
                catName:
                  (_category2 = feed.category) === null || _category2 === void 0
                    ? void 0
                    : _category2.name,
                open: !!attachFileComment,
                file: attachFileComment,
                mentionData: mentions,
                uploadOptions: uploadFileOptions,
                onClose: function onClose() {
                  return setAttachFileComment(null);
                },
                onFileUploaded: onSubmitComment,
              },
            ),
          );
        };

        /***/
      },

    /***/ './src/feed/FeedCard/FeedCardBadge.tsx':
      /*!*********************************************!*\
  !*** ./src/feed/FeedCard/FeedCardBadge.tsx ***!
  \*********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ FeedCardBadge: function () {
            return /* binding */ FeedCardBadge;
          },
          /* harmony export */
        });
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );

        var FeedCardBadge = function FeedCardBadge(_ref) {
          var children = _ref.children,
            style = _ref.style;
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(
            'div',
            {
              className: (0, clsx__WEBPACK_IMPORTED_MODULE_0__['default'])(
                'w-11 h-11 rounded-lg',
                'p-[1px]',
                'flex items-center justify-center',
                'absolute left-7 top-1/2 transform -translate-y-1/2',
              ),
              style: style,
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(
              'div',
              {
                className: 'bg-white rounded-lg w-full h-full flex items-center justify-center',
              },
              children,
            ),
          );
        };

        /***/
      },

    /***/ './src/feed/FeedCard/FeedCardHeader.tsx':
      /*!**********************************************!*\
  !*** ./src/feed/FeedCard/FeedCardHeader.tsx ***!
  \**********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ FeedCardHeader: function () {
            return /* binding */ FeedCardHeader;
          },
          /* harmony export */
        });
        /* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! @/assets */ './src/assets/index.ts',
        );
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _FeedCardBadge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
          /*! ./FeedCardBadge */ './src/feed/FeedCard/FeedCardBadge.tsx',
        );

        var FeedCardHeader = function FeedCardHeader(_ref) {
          var type = _ref.type;
          var backgroundGradient = (function () {
            switch (type) {
              case 'TRANSACTION':
                return 'linear-gradient(90.53deg, #7BD1D1 9.6%, #59A5DE 31.55%, #2B72F2 60.12%, #2065F6 76.85%, #2065F6 97.24%, #2065F6 105.51%)';
              case 'TARGET':
                return 'linear-gradient(270.78deg, #4E3FAA -29.55%, #8A6FEC 19.81%, #9279ED 44.54%, #EBA947 132.22%)';
              case 'CATEGORY':
                return 'linear-gradient(116.55deg, #CA77B3 12.8%, #514EE7 79.48%)';
              case 'INSIGHT':
                return 'linear-gradient(90.64deg, #D98551 0.34%, #D27449 20.62%, #D7834C 40.08%, #E9AE57 65.42%, #F0C35D 80.26%, #F6D160 98.34%, #F8D85F 105.67%)';
              default:
                return '';
            }
          })();
          var badge = (function () {
            switch (type) {
              case 'TRANSACTION':
                return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
                  _assets__WEBPACK_IMPORTED_MODULE_0__.TransactionFeedBadgeIcon,
                  null,
                );
              case 'TARGET':
                return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
                  _assets__WEBPACK_IMPORTED_MODULE_0__.TargetFeedBadgeIcon,
                  null,
                );
              case 'CATEGORY':
                return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
                  _assets__WEBPACK_IMPORTED_MODULE_0__.CategoryFeedBadgeIcon,
                  null,
                );
              case 'INSIGHT':
                return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
                  _assets__WEBPACK_IMPORTED_MODULE_0__.InsightFeedBadgeIcon,
                  null,
                );
              default:
                return null;
            }
          })();
          var label = (function () {
            switch (type) {
              case 'TRANSACTION':
                return 'TRANSACTION';
              case 'TARGET':
                return 'TARGET';
              case 'CATEGORY':
                return 'CATEGORY ROLLUP';
              case 'INSIGHT':
                return 'INSIGHT';
              default:
                return null;
            }
          })();
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
            'div',
            {
              className: (0, clsx__WEBPACK_IMPORTED_MODULE_1__['default'])(
                'pl-[88px] w-full h-[30px] rounded-t-card',
                'flex items-center',
                'text-white font-bold text-2xs',
                'relative',
              ),
              style: {
                background: backgroundGradient,
              },
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2__.createElement(
              _FeedCardBadge__WEBPACK_IMPORTED_MODULE_3__.FeedCardBadge,
              {
                style: {
                  background: backgroundGradient,
                },
              },
              badge,
            ),
            label,
          );
        };

        /***/
      },

    /***/ './src/feed/FeedCard/ViewAllCommentsButton.tsx':
      /*!*****************************************************!*\
  !*** ./src/feed/FeedCard/ViewAllCommentsButton.tsx ***!
  \*****************************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ ViewAllCommentsButton: function () {
            return /* binding */ ViewAllCommentsButton;
          },
          /* harmony export */
        });
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _assets_icons_solid_message_text_alt_svg__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @/assets/icons/solid/message-text-alt.svg */ './src/assets/icons/solid/message-text-alt.svg',
          );
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );
        /* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(/*! @/common/components */ './src/common/components/index.ts');

        var ViewAllCommentsButton = function ViewAllCommentsButton(_ref) {
          var className = _ref.className,
            loading = _ref.loading,
            _ref$title = _ref.title,
            title = _ref$title === void 0 ? 'View all comments' : _ref$title,
            onClick = _ref.onClick;
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            _common_components__WEBPACK_IMPORTED_MODULE_3__.Button,
            {
              role: 'none',
              className: (0, clsx__WEBPACK_IMPORTED_MODULE_2__['default'])(
                'flex space-x-1 cursor-pointer items-center text-Accent-2',
                className,
              ),
              onClick: onClick,
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
              _assets_icons_solid_message_text_alt_svg__WEBPACK_IMPORTED_MODULE_1__.ReactComponent,
              {
                className: 'fill-current path-no-filled',
                width: 17,
                height: 17,
                viewBox: '0 -2 16 18',
              },
            ),
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
              'p',
              {
                className: 'text-sm font-semibold',
              },
              title,
            ),
            loading &&
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
                _common_components__WEBPACK_IMPORTED_MODULE_3__.Spinner,
                {
                  className: '!w-4 !h-4',
                },
              ),
          );
        };

        /***/
      },

    /***/ './src/main/atoms/CircleAvatar/index.tsx':
      /*!***********************************************!*\
  !*** ./src/main/atoms/CircleAvatar/index.tsx ***!
  \***********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _common_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! @/common/utils */ './src/common/utils/index.ts',
        );
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );

        var DEFAULT_SIZE = 32;
        var CircleAvatar = function CircleAvatar(_ref) {
          var _name$slice;
          var size = _ref.size,
            className = _ref.className,
            name = _ref.name,
            initialLength = _ref.initialLength,
            _onClick = _ref.onClick;
          // Variables
          var initials =
            (_name$slice =
              name === null || name === void 0
                ? void 0
                : name.slice(
                    0,
                    initialLength !== null && initialLength !== void 0 ? initialLength : 3,
                  )) !== null && _name$slice !== void 0
              ? _name$slice
              : '';
          var bgColor = (0, _common_utils__WEBPACK_IMPORTED_MODULE_1__.stringToColor)(
            name !== null && name !== void 0 ? name : '',
          );
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            'div',
            {
              'aria-hidden': 'true',
              className: (0, clsx__WEBPACK_IMPORTED_MODULE_2__['default'])(
                'flex justify-center items-center',
                className !== null && className !== void 0 ? className : '',
              ),
              style: {
                width: size !== null && size !== void 0 ? size : DEFAULT_SIZE,
                height: size !== null && size !== void 0 ? size : DEFAULT_SIZE,
                borderRadius: (size !== null && size !== void 0 ? size : DEFAULT_SIZE) / 2,
                backgroundColor: bgColor,
              },
              onClick: function onClick() {
                return _onClick && _onClick(name);
              },
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
              'h5',
              {
                className: 'text-xs font-semibold text-white',
              },
              initials,
            ),
          );
        };
        /* harmony default export */ __webpack_exports__['default'] =
          /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.memo(CircleAvatar);

        /***/
      },

    /***/ './src/main/atoms/ConfirmModal/index.tsx':
      /*!***********************************************!*\
  !*** ./src/main/atoms/ConfirmModal/index.tsx ***!
  \***********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var _assets_icons_outline_close_svg__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @/assets/icons/outline/close.svg */ './src/assets/icons/outline/close.svg',
          );
        /* harmony import */ var _assets_icons_solid_exclamation_circle_svg__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @/assets/icons/solid/exclamation-circle.svg */ './src/assets/icons/solid/exclamation-circle.svg',
          );
        /* harmony import */ var _common_atoms_Modal__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(/*! @/common/atoms/Modal */ './src/common/atoms/Modal/index.tsx');
        /* harmony import */ var _common_components__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(/*! @/common/components */ './src/common/components/index.ts');
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );

        var ConfirmModal = function ConfirmModal(_ref) {
          var children = _ref.children,
            open = _ref.open,
            icon = _ref.icon,
            title = _ref.title,
            cancelLabel = _ref.cancelLabel,
            okLabel = _ref.okLabel,
            onClose = _ref.onClose,
            onOk = _ref.onOk;
          var cancelButtonRef = (0, react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null);
          var handleOk = function handleOk() {
            onOk === null || onOk === void 0 ? void 0 : onOk();
            onClose === null || onClose === void 0 ? void 0 : onClose();
          };
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
            _common_atoms_Modal__WEBPACK_IMPORTED_MODULE_2__['default'],
            {
              initialFocus: cancelButtonRef,
              open: open,
              onClose: onClose,
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
              'div',
              {
                className: 'px-4 py-5 sm:max-w-[400px] sm:w-full',
              },
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
                'div',
                {
                  className: 'flex items-center justify-between space-x-4',
                },
                icon ||
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
                    _assets_icons_solid_exclamation_circle_svg__WEBPACK_IMPORTED_MODULE_1__.ReactComponent,
                    null,
                  ),
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
                  'h3',
                  {
                    className: 'text-sm text-Gray-1 font-semibold flex-grow',
                  },
                  title,
                ),
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
                  _assets_icons_outline_close_svg__WEBPACK_IMPORTED_MODULE_0__.ReactComponent,
                  {
                    onClick: onClose,
                  },
                ),
              ),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
                'div',
                {
                  className: 'pl-10 pr-8 pt-1 space-y-3',
                },
                children,
                /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
                  'div',
                  {
                    className: 'flex items-center space-x-2',
                  },
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
                    _common_components__WEBPACK_IMPORTED_MODULE_3__.Button,
                    {
                      ref: cancelButtonRef,
                      className: 'text-sm font-semibold text-Gray-6 hover:underline',
                      onClick: onClose,
                    },
                    cancelLabel,
                  ),
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement('div', {
                    className: 'w-[3px] h-[3px] rounded-[1.5px] flex-grow-0 bg-Neutral-Light',
                  }),
                  /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.createElement(
                    _common_components__WEBPACK_IMPORTED_MODULE_3__.Button,
                    {
                      className: 'text-sm font-semibold text-purple-6 hover:underline',
                      onClick: handleOk,
                    },
                    okLabel,
                  ),
                ),
              ),
            ),
          );
        };
        ConfirmModal.defaultProps = {
          icon: undefined,
          cancelLabel: 'Cancel',
          okLabel: 'OK',
          onOk: function onOk() {
            return undefined;
          },
        };
        /* harmony default export */ __webpack_exports__['default'] =
          /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_4__.memo(ConfirmModal);

        /***/
      },

    /***/ './src/main/atoms/ImageFilePreview/index.tsx':
      /*!***************************************************!*\
  !*** ./src/main/atoms/ImageFilePreview/index.tsx ***!
  \***************************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _unsupportedIterableToArray(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
          );
        }
        function _unsupportedIterableToArray(o, minLen) {
          if (!o) return;
          if (typeof o === 'string') return _arrayLikeToArray(o, minLen);
          var n = Object.prototype.toString.call(o).slice(8, -1);
          if (n === 'Object' && o.constructor) n = o.constructor.name;
          if (n === 'Map' || n === 'Set') return Array.from(o);
          if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
            return _arrayLikeToArray(o, minLen);
        }
        function _arrayLikeToArray(arr, len) {
          if (len == null || len > arr.length) len = arr.length;
          for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
          return arr2;
        }
        function _iterableToArrayLimit(arr, i) {
          var _i =
            null == arr
              ? null
              : ('undefined' != typeof Symbol && arr[Symbol.iterator]) || arr['@@iterator'];
          if (null != _i) {
            var _s,
              _e,
              _x,
              _r,
              _arr = [],
              _n = !0,
              _d = !1;
            try {
              if (((_x = (_i = _i.call(arr)).next), 0 === i)) {
                if (Object(_i) !== _i) return;
                _n = !1;
              } else
                for (
                  ;
                  !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i);
                  _n = !0
                );
            } catch (err) {
              (_d = !0), (_e = err);
            } finally {
              try {
                if (!_n && null != _i.return && ((_r = _i.return()), Object(_r) !== _r)) return;
              } finally {
                if (_d) throw _e;
              }
            }
            return _arr;
          }
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        }

        var ImageFilePreview = function ImageFilePreview(_ref) {
          var className = _ref.className,
            width = _ref.width,
            height = _ref.height,
            file = _ref.file;
          var _useState = (0, react__WEBPACK_IMPORTED_MODULE_0__.useState)(
              'https://storage.googleapis.com/proudcity/mebanenc/uploads/2021/03/placeholder-image.png',
            ),
            _useState2 = _slicedToArray(_useState, 2),
            previewSrc = _useState2[0],
            setPreviewSrc = _useState2[1];
          (0, react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(
            function () {
              if (!file) {
                return;
              }
              setPreviewSrc(URL.createObjectURL(file));
            },
            [file],
          );
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            'div',
            {
              className: (0, clsx__WEBPACK_IMPORTED_MODULE_1__['default'])(
                'outline-none border-0',
                className !== null && className !== void 0 ? className : '',
              ),
            },
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement('img', {
              id: 'image_preview_upload',
              alt: 'alt_image_upload',
              src: previewSrc,
              width: width,
              height: height,
              style: {
                borderRadius: '4px',
                objectFit: 'cover',
              },
            }),
          );
        };
        /* harmony default export */ __webpack_exports__['default'] =
          /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.memo(ImageFilePreview);

        /***/
      },

    /***/ './src/main/atoms/MentionEntry/index.tsx':
      /*!***********************************************!*\
  !*** ./src/main/atoms/MentionEntry/index.tsx ***!
  \***********************************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _assets_icons_outline_avatar_svg__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @/assets/icons/outline/avatar.svg */ './src/assets/icons/outline/avatar.svg',
          );
        /* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
          /*! clsx */ './node_modules/clsx/dist/clsx.m.js',
        );
        /* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
          /*! @/assets */ './src/assets/index.ts',
        );
        var _excluded = ['mention', 'theme', 'isFocused'];
        function _objectWithoutProperties(source, excluded) {
          if (source == null) return {};
          var target = _objectWithoutPropertiesLoose(source, excluded);
          var key, i;
          if (Object.getOwnPropertySymbols) {
            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
            for (i = 0; i < sourceSymbolKeys.length; i++) {
              key = sourceSymbolKeys[i];
              if (excluded.indexOf(key) >= 0) continue;
              if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
              target[key] = source[key];
            }
          }
          return target;
        }
        function _objectWithoutPropertiesLoose(source, excluded) {
          if (source == null) return {};
          var target = {};
          var sourceKeys = Object.keys(source);
          var key, i;
          for (i = 0; i < sourceKeys.length; i++) {
            key = sourceKeys[i];
            if (excluded.indexOf(key) >= 0) continue;
            target[key] = source[key];
          }
          return target;
        }

        var MentionEntry = function MentionEntry(props) {
          var mention = props.mention,
            theme = props.theme,
            isFocused = props.isFocused,
            parentProps = _objectWithoutProperties(props, _excluded);
          return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
            'div',
            parentProps,
            /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
              'div',
              {
                className:
                  theme === null || theme === void 0 ? void 0 : theme.mentionSuggestionsEntry,
              },
              mention.type === 'DEPARTMENT'
                ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
                    _assets__WEBPACK_IMPORTED_MODULE_3__.TeamIcon,
                    {
                      width: 15,
                      height: 15,
                      className: (0, clsx__WEBPACK_IMPORTED_MODULE_2__['default'])(
                        isFocused ? 'text-white opacity-100' : 'text-Gray-6 opacity-50',
                        'fill-current path-no-filled',
                      ),
                    },
                  )
                : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
                    _assets_icons_outline_avatar_svg__WEBPACK_IMPORTED_MODULE_1__.ReactComponent,
                    {
                      width: 15,
                      height: 15,
                      viewBox: '2 2 16 16',
                      className: (0, clsx__WEBPACK_IMPORTED_MODULE_2__['default'])(
                        isFocused ? 'text-white opacity-100' : 'text-Gray-6 opacity-50',
                        'fill-current path-no-filled',
                      ),
                    },
                  ),
              /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(
                'p',
                {
                  className: isFocused
                    ? theme === null || theme === void 0
                      ? void 0
                      : theme.mentionSuggestionsEntryTextFocused
                    : theme === null || theme === void 0
                    ? void 0
                    : theme.mentionSuggestionsEntryText,
                },
                mention.name,
              ),
            ),
          );
        };
        /* harmony default export */ __webpack_exports__['default'] = MentionEntry;

        /***/
      },

    /***/ './src/misc/useMentions.ts':
      /*!*********************************!*\
  !*** ./src/misc/useMentions.ts ***!
  \*********************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ useMentions: function () {
            return /* binding */ useMentions;
          },
          /* harmony export */
        });
        /* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! @/common/constants */ './src/common/constants.ts');
        /* harmony import */ var _profile_useUsers__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! @/profile/useUsers */ './src/profile/useUsers.ts');
        /* harmony import */ var _team_useDepartments__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(/*! @/team/useDepartments */ './src/team/useDepartments.ts');
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );

        var useMentions = function useMentions() {
          var _useUsers = (0, _profile_useUsers__WEBPACK_IMPORTED_MODULE_1__.useUsers)(),
            _useUsers$users = _useUsers.users,
            users =
              _useUsers$users === void 0
                ? _common_constants__WEBPACK_IMPORTED_MODULE_0__.EMPTY_ARRAY
                : _useUsers$users,
            isValidatingUsers = _useUsers.isValidatingUsers;
          var _useDepartments = (0,
            _team_useDepartments__WEBPACK_IMPORTED_MODULE_2__.useDepartments)(),
            departments = _useDepartments.departments,
            isValidatingDepartments = _useDepartments.isValidatingDepartments;
          var mentions = react__WEBPACK_IMPORTED_MODULE_3__.useMemo(
            function () {
              return [
                users.map(function (_ref) {
                  var _ref2;
                  var id = _ref.id,
                    fullName = _ref.fullName,
                    email = _ref.email,
                    avatar = _ref.avatar;
                  return {
                    id: id,
                    name:
                      (_ref2 = fullName !== null && fullName !== void 0 ? fullName : email) !==
                        null && _ref2 !== void 0
                        ? _ref2
                        : 'unknown',
                    avatar: avatar,
                    type: 'USER',
                  };
                }),
                departments.map(function (_ref3) {
                  var id = _ref3.id,
                    name = _ref3.name;
                  return {
                    id: id,
                    name: name,
                    type: 'DEPARTMENT',
                  };
                }),
              ].flat();
            },
            [departments, users],
          );
          return react__WEBPACK_IMPORTED_MODULE_3__.useMemo(
            function () {
              return {
                mentions: mentions,
                isLoading: isValidatingDepartments || isValidatingUsers,
              };
            },
            [isValidatingDepartments, isValidatingUsers, mentions],
          );
        };

        /***/
      },

    /***/ './src/profile/useUsers.ts':
      /*!*********************************!*\
  !*** ./src/profile/useUsers.ts ***!
  \*********************************/
      /***/ function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ useUsers: function () {
            return /* binding */ useUsers;
          },
          /* harmony export */
        });
        /* harmony import */ var _common_constants__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! @/common/constants */ './src/common/constants.ts');
        /* harmony import */ var _common_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
          /*! @/common/hooks */ './src/common/hooks/index.ts',
        );
        /* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
          /*! react */ './node_modules/react/index.js',
        );
        /* harmony import */ var _apis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
          /*! ./apis */ './src/profile/apis.ts',
        );

        var useUsers = function useUsers(params) {
          var _useFetcher = (0, _common_hooks__WEBPACK_IMPORTED_MODULE_1__.useFetcher)(
              ['users'],
              function () {
                return _apis__WEBPACK_IMPORTED_MODULE_3__.ProfileApis.getUsers(params);
              },
            ),
            _useFetcher$data = _useFetcher.data,
            data =
              _useFetcher$data === void 0
                ? _common_constants__WEBPACK_IMPORTED_MODULE_0__.EMPTY_ARRAY
                : _useFetcher$data,
            isInitializing = _useFetcher.isInitializing,
            isLagging = _useFetcher.isLagging,
            isValidating = _useFetcher.isValidating,
            mutate = _useFetcher.mutate;
          return react__WEBPACK_IMPORTED_MODULE_2__.useMemo(
            function () {
              return {
                users: data,
                isInitializingUsers: isInitializing,
                isLaggingUsers: isLagging,
                isValidatingUsers: isValidating,
                mutateUsers: mutate,
              };
            },
            [data, isInitializing, isLagging, isValidating, mutate],
          );
        };

        /***/
      },
  },
]);
//# sourceMappingURL=src_feed_FeedCard_CommentsSection_tsx-src_feed_FeedCard_FeedCardHeader_tsx.bundle.js.map
