{"version":3,"file":"src_main_atoms_TargetStatus_index_tsx-src_target_AddTargetModal_index_ts.bundle.js","mappings":"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","sources":["webpack://gravity-web/./src/assets/icons/outline/carbon-trash-can.svg","webpack://gravity-web/./src/main/atoms/MonthTargetInput/index.tsx","webpack://gravity-web/./src/main/atoms/TargetStatus/index.tsx","webpack://gravity-web/./src/main/atoms/TargetStatusMessage/index.tsx","webpack://gravity-web/./src/spending/SpendingChart/SpendingChart.tsx","webpack://gravity-web/./src/spending/SpendingChart/index.ts","webpack://gravity-web/./src/spending/constants.ts","webpack://gravity-web/./src/target/AddTargetModal/AddTargetModal.tsx","webpack://gravity-web/./src/target/AddTargetModal/ExceptionList.tsx","webpack://gravity-web/./src/target/AddTargetModal/MultiMonthDropdown.tsx","webpack://gravity-web/./src/target/AddTargetModal/PropertiesDropdown.tsx","webpack://gravity-web/./src/target/AddTargetModal/PropsSection.tsx","webpack://gravity-web/./src/target/AddTargetModal/index.ts","webpack://gravity-web/./src/target/TargetChart.tsx"],"sourcesContent":["var _g, _defs;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgCarbonTrashCan = function SvgCarbonTrashCan(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#carbon-trash-can_svg__a)\",\n    fill: \"#FF5F68\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 6h1v7H6V6ZM9 6h1v7H9V6Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1 2v1.167h1.167v11.666A1.167 1.167 0 0 0 3.333 16h9.334a1.167 1.167 0 0 0 1.166-1.167V3.167H15V2H1Zm2.333 12.833V3.167h9.334v11.666H3.333ZM6 0h4v1H6V0Z\",\n    stroke: \"#FF5F68\",\n    strokeWidth: 0.5\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"carbon-trash-can_svg__a\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#fff\",\n    d: \"M0 0h16v16H0z\"\n  })))));\n};\nexport default SvgCarbonTrashCan;","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { ChangeEvent, useState, useRef, KeyboardEventHandler, useEffect } from 'react';\nimport { formatCurrency, replaceAll } from '@/common/utils';\nimport clsx from 'clsx';\n\ninterface MonthTargetInputProps {\n  month: number;\n  isInRange?: boolean;\n  className?: string;\n  onChange: (amount?: number) => void;\n  onSelect: () => void;\n  onUnselect: () => void;\n  defaultAmount?: number;\n}\n\nconst MonthTargetInput: React.FC<MonthTargetInputProps> = ({\n  isInRange = false,\n  className = '',\n  onChange,\n  onSelect,\n  onUnselect,\n  defaultAmount,\n}) => {\n  const amountInputRef = useRef<HTMLInputElement>(null);\n  const [amount, setAmount] = useState<string>(\n    defaultAmount !== undefined\n      ? formatCurrency({\n          value: defaultAmount,\n          format: '0,0',\n          defaultValue: '0',\n          supportNegative: false,\n        })\n      : '',\n  );\n  const [isFocus, setIsFocus] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (defaultAmount !== undefined) {\n      onSelect();\n    }\n  }, [defaultAmount]);\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const newValue = event.target.value;\n    setAmount(\n      `${formatCurrency({\n        value: newValue,\n        format: '0,0',\n        defaultValue: '',\n        supportNegative: false,\n      })}`,\n    );\n  };\n  const handleKeyDown: KeyboardEventHandler<HTMLInputElement> = (event) => {\n    if (['Enter'].includes(event.key)) {\n      event.preventDefault();\n      amountInputRef.current?.blur();\n    }\n  };\n\n  const onFocus = () => {\n    setIsFocus(true);\n    onSelect();\n  };\n\n  const onBlur = () => {\n    setIsFocus(false);\n    if (amount.length > 0) {\n      const amountInt = parseInt(replaceAll(amount, ',', ''), 10);\n      onChange(amountInt);\n    } else if (amount.length === 0) {\n      onUnselect();\n      onChange();\n    }\n  };\n\n  return (\n    <div\n      className={clsx(\n        'w-24 h-7 flex px-1 justify-center items-center border-2 border-Gray-12 hover:bg-Gray-12',\n        isInRange ? 'bg-Gray-12' : '',\n        className,\n      )}\n    >\n      <input\n        ref={amountInputRef}\n        className={clsx(\n          'flex text-xs text-right flex-1 w-5 bg-transparent outline-none text-Gray-3 placeholder-Gray-6',\n        )}\n        placeholder={isFocus ? '$0' : ''}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        value={amount.length > 0 ? `${amount}` : ''}\n        onFocus={onFocus}\n        onBlur={onBlur}\n      />\n    </div>\n  );\n};\n\nexport default MonthTargetInput;\n","import { InfoCircleIcon } from '@/assets';\nimport clsx from 'clsx';\nimport { getTargetPeriodsAmountTotal, getTrackingStatusName } from '@/main/utils';\nimport { Target, TargetStatusConfig, TargetStatusType } from '@/target/types';\nimport React from 'react';\nimport TargetStatusMessage from '../TargetStatusMessage';\nimport { Button } from '@/common/components';\nimport { RightSmallIcon } from '@/assets';\n\ninterface TargetStatusProps {\n  className?: string;\n  type: TargetStatusType;\n  target: Target;\n  onTargetSet: (event: React.MouseEvent<HTMLButtonElement, globalThis.MouseEvent>) => void;\n}\n\nconst TargetStatus: React.FC<TargetStatusProps> = ({\n  className = '',\n  type,\n  target,\n  onTargetSet,\n}) => {\n  const { label, background, dot } = TargetStatusConfig[type];\n  const { overallTarget = 0, exceeding } = getTargetPeriodsAmountTotal(target);\n\n  if (overallTarget === 0) {\n    return (\n      <Button\n        className=\"rounded-full px-2 h-5 max-h-5 bg-Accent-8 text-Accent-2 justify-center items-center space-x-1.5 hidden lg:flex\"\n        onClick={onTargetSet}\n      >\n        <span className=\"font-medium text-xs\">Set target</span>\n        <RightSmallIcon className=\"text-Accent-2 h-2 w-2 hidden lg:block\" />\n      </Button>\n    );\n  }\n  return (\n    <div\n      className={clsx(\n        'flex flex-row items-center space-x-1.5 bg-Green-8 rounded-full pl-2 pr-2.5 h-5 max-h-5 group relative',\n        className,\n      )}\n      style={{\n        backgroundColor: background,\n      }}\n    >\n      <div className=\"flex w-2 h-2 justify-center items-center\">\n        <div className=\"w-1.5 h-1.5 rounded-full bg-Green-400\" style={{ backgroundColor: dot }} />\n      </div>\n      <p className=\"text-Green-800 text-xs font-medium whitespace-nowrap\" style={{ color: label }}>\n        {getTrackingStatusName(type)}\n      </p>\n      <div className=\"invisible group-hover:visible absolute -top-10 right-0\">\n        <div className=\"bg-primary p-2 rounded-sm h-8 px-4 py-2 flex flex-row items-center space-x-2\">\n          <div className=\"flex w-4 h-4 justify-center items-center\">\n            <InfoCircleIcon\n              className=\"w-3 h-3 fill-current text-Accent-2 path-no-filled\"\n              aria-hidden=\"false\"\n              viewBox=\"0 0 12 12\"\n            />\n          </div>\n          <div className=\"text text-Gray-12 text-xs truncate font-semibold\">\n            <TargetStatusMessage type={type} riskRange={5} exceeding={exceeding} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TargetStatus;\n","import { TargetStatusConfig, TargetStatusType } from '@/target/types';\nimport React from 'react';\n\ninterface TargetStatusMessageProps {\n  type: TargetStatusType;\n  riskRange: number;\n  exceeding: number;\n}\n\nconst TargetStatusMessage: React.FC<TargetStatusMessageProps> = ({\n  type,\n  riskRange,\n  exceeding,\n}) => {\n  switch (type) {\n    case TargetStatusType.OnTrack:\n      return <p>Spend is below the target</p>;\n    case TargetStatusType.AtRisk:\n      return (\n        <p>\n          Spend is within\n          <span style={{ color: TargetStatusConfig[TargetStatusType.AtRisk].dot }}>\n            {` ${riskRange.toFixed(0)}% `}\n          </span>\n          of the target\n        </p>\n      );\n    case TargetStatusType.Exceeded:\n      return (\n        <p>\n          Spend is exceeding the target by\n          <span\n            className=\"mx-2\"\n            style={{ color: TargetStatusConfig[TargetStatusType.Exceeded].dot }}\n          >\n            {` ${exceeding.toFixed(2)}% `}\n          </span>\n        </p>\n      );\n    default:\n      return <p>Spend is below the target</p>;\n  }\n};\n\nexport default TargetStatusMessage;\n","import { ClassName } from '@/common/types';\nimport { LineChartData } from '@/main/types';\nimport { TargetChart } from '@/target/TargetChart';\nimport clsx from 'clsx';\nimport { cloneDeep } from 'lodash-es';\nimport { defaultMonths } from '../constants';\nimport { TooltipContent } from '../TooltipContent';\nimport { Period, Spending, TrackingStatus } from '../types';\nimport { getLineChartDataInMonth, getMonthsLineChartData, isEmptyPeriods } from '../utils';\nimport { XAxis } from '../XAxis';\n\nexport type SpendingChartData = {\n  periods?: Period[];\n  trackingStatus?: TrackingStatus;\n  spendings: Spending[];\n};\n\nexport type SpendingChartProps = ClassName & {\n  data: SpendingChartData;\n  prevYearColor?: string;\n};\n\nexport const SpendingChart = ({ className, data, prevYearColor }: SpendingChartProps) => {\n  const { periods = [], trackingStatus } = data;\n  const overallTarget = !trackingStatus || isEmptyPeriods(periods);\n\n  const months = (() => {\n    if (periods?.length > 0) {\n      const dataMonth = cloneDeep(defaultMonths);\n\n      periods?.forEach((period) => {\n        if (period?.amount !== undefined && dataMonth[period?.month - 1]) {\n          dataMonth[period?.month - 1].amount = period?.amount;\n        }\n      });\n\n      return dataMonth;\n    }\n\n    return defaultMonths;\n  })();\n\n  const updatedMonths = months.filter((item) => item?.amount !== undefined);\n  const startMonth = updatedMonths[0]?.month ?? 1;\n  const endMonth = updatedMonths[updatedMonths.length - 1]?.month ?? 12;\n\n  const chartData: LineChartData = (() => {\n    if (startMonth === endMonth) {\n      return getLineChartDataInMonth(data, months[startMonth - 1], trackingStatus);\n    }\n    return getMonthsLineChartData(data, months, trackingStatus);\n  })();\n\n  const showTarget = !!periods.length;\n\n  return (\n    <div className={clsx('flex flex-1 flex-col w-full h-full min-h-[185px]', className)}>\n      {chartData && (\n        <>\n          <div className=\"relative flex flex-1 flex-col justify-center items-center w-auto p-4 h-[184px] border border-Gray-12 rounded-2.5xl\">\n            <TargetChart\n              containerClass=\"flex flex-col mt-2\"\n              chartData={chartData}\n              renderXAxis={() => <XAxis startMonth={startMonth} endMonth={endMonth} />}\n              renderTooltip={(props) => (\n                <TooltipContent\n                  {...props}\n                  trackingStatus={data.trackingStatus}\n                  showTarget={showTarget}\n                  overallTarget={overallTarget}\n                />\n              )}\n              levelLabelClass=\"text-Gray-6 text-2xs font-normal\"\n              prevYearColor={prevYearColor}\n              showTarget={showTarget}\n            />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n","export { SpendingChart } from './SpendingChart';\nexport type { SpendingChartData } from './SpendingChart';\n","import { MonthData } from './types';\n\nexport const monthsInYear = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nexport const defaultMonths: MonthData[] = monthsInYear.map((month) => ({ month }));\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { AlertRed } from '@/assets';\nimport { ReactComponent as ArrowRight } from '@/assets/icons/outline/arrow-right-2.svg';\nimport { ReactComponent as CarbonTrashCan } from '@/assets/icons/outline/carbon-trash-can.svg';\nimport { useCategories } from '@/category/useCategories';\nimport Modal from '@/common/atoms/Modal';\nimport { Button, Form, OverlayLoader } from '@/common/components';\nimport { defaultTargetMonths, EMPTY_ARRAY } from '@/common/constants';\nimport { withMountOnOpen } from '@/common/hocs';\nimport { useFetcher, useHandler } from '@/common/hooks';\nimport { DateUtils, formatCurrency, round } from '@/common/utils';\nimport { genReviewSentenceFromProperties, getPeriodsFromTargetMonths } from '@/main/utils';\nimport { SpendingChart } from '@/spending/SpendingChart';\nimport { getCurrentSpendings } from '@/spending/utils';\nimport {\n  CreateTargetPayload,\n  Target,\n  TargetPeriod,\n  TargetProps,\n  TargetSpending,\n  TargetTypeProp,\n  UpdateTargetPayload,\n} from '@/target/types';\nimport { useDepartments } from '@/team/useDepartments';\nimport { useVendors } from '@/vendor/useVendors';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { TargetApis } from '../apis';\nimport { isValidPeriods } from '../utils';\nimport MultiMonthDropdown from './MultiMonthDropdown';\nimport { PropsSection } from './PropsSection';\n\ntype AddTargetModalBaseProps = {\n  open: boolean;\n  onClose: () => void;\n  onCancel: () => void;\n  target?: Target | null;\n  departmentId?: number;\n  hidePropertyDropdowns?: boolean;\n  onCreateSuccess?: (newTarget: Target) => void;\n  onUpdateSuccess?: (updatedTarget: Target) => void;\n  onDeleteSuccess?: (id: number) => void;\n  onCreateError?: () => void;\n  onUpdateError?: () => void;\n  onDeleteError?: () => void;\n};\n\nexport type AddTargetModalWithDefaultApisProps = AddTargetModalBaseProps & {\n  useDefaultApis?: true;\n};\n\nexport type AddTargetModalWithoutDefaultApisProps = AddTargetModalBaseProps & {\n  useDefaultApis: false;\n  onCreate?: (payload: CreateTargetPayload) => Promise<Target>;\n  onUpdate?: (id: number, payload: UpdateTargetPayload) => Promise<Target>;\n  onDelete?: (id: number) => Promise<unknown>;\n};\n\nexport type AddTargetModalProps =\n  | AddTargetModalWithDefaultApisProps\n  | AddTargetModalWithoutDefaultApisProps;\n\nconst THIS_YEAR = DateUtils.getThisYear();\n\nconst getPropFromTagValue = (value: string) => {\n  const [type, id, name] = value.split('-');\n\n  return { type, id: +id, name };\n};\n\nexport const AddTargetModal = withMountOnOpen()((props: AddTargetModalProps) => {\n  const {\n    open,\n    onClose,\n    onCancel,\n    departmentId,\n    target,\n    hidePropertyDropdowns: hidePropertyDropdownsProp,\n    useDefaultApis = true,\n  } = props;\n  const isEdit = !!target;\n\n  const hidePropertyDropdowns = hidePropertyDropdownsProp ?? target?.type === 'company';\n\n  const methods = useForm({ mode: 'onChange' });\n  const {\n    watch,\n    setValue,\n    reset,\n    formState: { errors, isDirty },\n    clearErrors,\n  } = methods;\n\n  const { isValidatingDepartments, departments } = useDepartments();\n\n  const { isValidatingVendors } = useVendors();\n\n  const { isValidatingCategories } = useCategories();\n\n  React.useEffect(() => {\n    const getTagValueFromProps = ({ id, name, type }: TargetProps) => `${type}-${id}-${name}`;\n\n    if (isEdit) {\n      const {\n        vendorProps = [],\n        categoryProps = [],\n        departmentProps = [],\n      } = target?.props.reduce(\n        (acc, cur) => {\n          return {\n            vendorProps:\n              cur.type === TargetTypeProp.VENDOR\n                ? [...acc.vendorProps, getTagValueFromProps(cur)]\n                : acc.vendorProps,\n            categoryProps:\n              cur.type === TargetTypeProp.CATEGORY\n                ? [...acc.categoryProps, getTagValueFromProps(cur)]\n                : acc.categoryProps,\n            departmentProps:\n              cur.type === TargetTypeProp.DEPARTMENT\n                ? [...acc.departmentProps, getTagValueFromProps(cur)]\n                : acc.departmentProps,\n          };\n        },\n        {\n          vendorProps: [] as string[],\n          categoryProps: [] as string[],\n          departmentProps: [] as string[],\n        },\n      ) ?? {};\n\n      reset({\n        name: target?.name,\n        vendors: vendorProps,\n        categories: categoryProps,\n        departments: departmentProps,\n        props: target?.props,\n        periods: target?.periods,\n      });\n    } else {\n      const foundDepartment = departments.find(({ id }) => id === departmentId);\n\n      reset({\n        name: '',\n        departments: [\n          foundDepartment &&\n            `${TargetTypeProp.DEPARTMENT}-${foundDepartment.id}-${foundDepartment.name}`,\n        ].filter(Boolean),\n        props: [departments.find(({ id }) => id === departmentId)].filter(Boolean),\n        periods: defaultTargetMonths,\n      });\n    }\n  }, [departmentId, departments, isEdit, reset, target]);\n\n  const name = watch('name');\n  const selectedVendors = (watch('vendors') ?? EMPTY_ARRAY) as string[];\n  const selectedCategories = (watch('categories') ?? EMPTY_ARRAY) as string[];\n  const selectedDepartments = (watch('departments') ?? EMPTY_ARRAY) as string[];\n  const periods = (watch('periods') ?? EMPTY_ARRAY) as TargetPeriod[];\n\n  const vendorProps = React.useMemo(\n    () =>\n      selectedVendors.map(\n        (value) => ({ ...getPropFromTagValue(value), exclude: false } as TargetProps),\n      ),\n    [selectedVendors],\n  );\n  const categoryProps = React.useMemo(\n    () =>\n      selectedCategories.map(\n        (value) => ({ ...getPropFromTagValue(value), exclude: false } as TargetProps),\n      ),\n    [selectedCategories],\n  );\n  const departmentProps = React.useMemo(\n    () =>\n      selectedDepartments.map(\n        (value) => ({ ...getPropFromTagValue(value), exclude: false } as TargetProps),\n      ),\n    [selectedDepartments],\n  );\n  const selectedExceptions = (watch('exceptions') ?? EMPTY_ARRAY) as string[];\n  const exceptionProps = React.useMemo(\n    () =>\n      selectedExceptions.map(\n        (value) => ({ ...getPropFromTagValue(value), exclude: true } as TargetProps),\n      ),\n    [selectedExceptions],\n  );\n  const targetProps = React.useMemo(\n    () => [vendorProps, categoryProps, departmentProps, exceptionProps].flat(),\n    [categoryProps, departmentProps, exceptionProps, vendorProps],\n  );\n\n  const { isValidating: isValidatingSpendings, data } = useFetcher(\n    ['targetSpending', targetProps, periods],\n    () => TargetApis.getSpending({ props: targetProps, periods }),\n  );\n  const { spendings: spendingsRaw = EMPTY_ARRAY, trackingStatus } = data ?? {};\n\n  const spendings = new Array(12)\n    .fill(null)\n    .map((_, index) => {\n      const currentMonth = index + 1;\n\n      const spendingsRawForCurrentMonth = spendingsRaw.filter(\n        ({ month }) => month === currentMonth,\n      );\n\n      if (!spendingsRawForCurrentMonth.length) return;\n\n      return {\n        year: THIS_YEAR,\n        month: currentMonth,\n        total: spendingsRawForCurrentMonth.reduce((acc, cur) => cur.total + acc, 0),\n      };\n    })\n    .filter((item): item is TargetSpending => !!item);\n\n  const {\n    onCreateSuccess,\n    onCreateError,\n    onUpdateSuccess,\n    onUpdateError,\n    onDeleteSuccess,\n    onDeleteError,\n  } = props as AddTargetModalWithDefaultApisProps;\n\n  const { onCreate, onUpdate, onDelete } = props as AddTargetModalWithoutDefaultApisProps;\n\n  const createApi = useDefaultApis ? TargetApis.create : onCreate;\n  const updateApi = useDefaultApis ? TargetApis.update : onUpdate;\n  const deleteApi = useDefaultApis ? TargetApis.delete : onDelete;\n\n  const { handle: createTarget, isLoading: isCreatingTarget } = useHandler(\n    (payload: CreateTargetPayload) => createApi!(payload),\n    {\n      onSuccess: (data) => {\n        onCreateSuccess?.(data);\n        onClose();\n      },\n      onError: onCreateError,\n    },\n  );\n\n  const { handle: updateTarget, isLoading: isUpdatingTarget } = useHandler(\n    (id: number, payload: UpdateTargetPayload) => updateApi!(id, payload),\n    {\n      onSuccess: (data) => {\n        onUpdateSuccess?.(data);\n        onClose();\n      },\n      onError: onUpdateError,\n    },\n  );\n\n  const { isLoading: isDeleting, handle: deleteTarget } = useHandler(() => deleteApi!(target!.id), {\n    onSuccess: () => {\n      onDeleteSuccess?.(target!.id);\n      onClose();\n    },\n    onError: onDeleteError,\n  });\n\n  const renderErrorName = () => {\n    return (\n      <div className=\"flex flex-row items-center px-2 space-x-1\">\n        <AlertRed width={15} height={15} className=\"w-4 h-4\" viewBox=\"0 0 15 15\" />\n        <p className=\"text-xs text-Gray-6\">Target name is required</p>\n      </div>\n    );\n  };\n\n  const totalTargetAmount = round(\n    periods.reduce((total, target) => total + (target.amount ?? 0), 0),\n  );\n  const displaySpendings = hidePropertyDropdowns && target ? target?.spendings : spendings;\n  const totalCurrentSpend = getCurrentSpendings(displaySpendings, periods);\n\n  const isReadyToCreate = isValidPeriods(periods) && !!targetProps.length && !!name?.length;\n\n  const renderNoMonthError = () => {\n    return (\n      <div className=\"flex flex-row items-center px-12 space-x-1 mb-2\">\n        <AlertRed width={15} height={15} className=\"w-4 h-4\" viewBox=\"0 0 15 15\" />\n        <p className=\"text-xs text-Gray-6\">Select at least one month</p>\n      </div>\n    );\n  };\n\n  const reviewSentence = genReviewSentenceFromProperties(\n    vendorProps,\n    categoryProps,\n    departmentProps,\n    exceptionProps,\n  );\n\n  const isValidatingOptions =\n    isValidatingDepartments || isValidatingCategories || isValidatingVendors;\n\n  const hasNameError = !!errors.name;\n  const hasPeriodsError = !!errors.periods;\n\n  const handleCreate = () => {\n    const payload = {\n      name,\n      depId: departmentId,\n      isPrimary: false,\n      props: targetProps,\n      periods,\n    };\n\n    return createTarget(payload);\n  };\n\n  const handleSave = () => {\n    const payload = {\n      name,\n      depId: departmentId,\n      props: targetProps,\n      isPrimary: false,\n      periods,\n    };\n\n    return updateTarget(target!.id, { ...target, ...payload });\n  };\n\n  const handleDelete = deleteTarget;\n\n  return (\n    <Modal open={open} onClose={onClose} center={false}>\n      <OverlayLoader loading={isValidatingOptions}>\n        <Form methods={methods} onSubmit={isEdit ? handleSave : handleCreate}>\n          <Form.Input\n            name=\"periods\"\n            rules={{\n              validate: {\n                required: isValidPeriods,\n              },\n            }}\n            readOnly\n            className=\"w-0 h-0 overflow-hidden border-none\"\n          />\n          <div className=\"flex flex-col w-[685px] outline-none\">\n            <div className=\"flex flex-col space-y-2 px-10 py-4 w-full\">\n              <p className=\"text-primary text-xs font-semibold\">Target Name*</p>\n              <Form.Input\n                name=\"name\"\n                variant=\"underline\"\n                placeholder=\"e.g Direct marketing & online advertising\"\n                rules={{ required: true }}\n                disabled={target?.isPrimary}\n              />\n              {hasNameError && renderErrorName()}\n            </div>\n            {!hidePropertyDropdowns && (\n              <div\n                className={clsx(\n                  target?.isPrimary && 'opacity-70 cursor-default pointer-events-none',\n                )}\n              >\n                <PropsSection reviewSentence={reviewSentence} exceptionProps={exceptionProps} />\n              </div>\n            )}\n            <div className=\"flex flex-row pt-2 px-10 justify-between\">\n              <div className=\"flex flex-row items-center space-x-2 py-3\">\n                <p className=\"text-primary text-xs font-semibold w-14\">Months*</p>\n                <MultiMonthDropdown\n                  props={targetProps}\n                  periods={periods}\n                  year={THIS_YEAR}\n                  lastYearData={\n                    periods.filter((item) => item.year === DateUtils.getThisYear() - 1) ?? []\n                  }\n                  onApply={(data) => {\n                    setValue('periods', getPeriodsFromTargetMonths(data, THIS_YEAR), {\n                      shouldDirty: true,\n                    });\n                    clearErrors('periods');\n                  }}\n                />\n              </div>\n            </div>\n            {!!hasPeriodsError && renderNoMonthError()}\n            <OverlayLoader\n              loading={!isValidatingOptions && isValidatingSpendings}\n              className=\"h-full relative z-[-1]\"\n            >\n              <div className=\"h-[270px] px-6\">\n                <div className=\"h-full w-full rounded-lg\">\n                  <SpendingChart\n                    data={{\n                      periods,\n                      spendings: displaySpendings,\n                      trackingStatus: trackingStatus ?? target?.trackingStatus,\n                    }}\n                  />\n                </div>\n              </div>\n            </OverlayLoader>\n            <div className=\"flex flex-row pt-4 pb-6 px-10 space-x-4 items-center justify-end text-primary text-xs font-semibold\">\n              <p className=\"\">\n                Current Spend:\n                <span className=\"text-Gray-3 font-normal ml-1\">\n                  {`$${formatCurrency({\n                    value: totalCurrentSpend,\n                    format: '0,0',\n                    defaultValue: '0',\n                  })}`}\n                </span>\n              </p>\n              <p className=\"\">\n                Total Target Amount:\n                <span className=\"text-Gray-3 font-normal ml-1\">\n                  {`$${formatCurrency({\n                    value: totalTargetAmount,\n                    format: '0,0',\n                    defaultValue: '0',\n                  })}`}\n                </span>\n              </p>\n            </div>\n            <hr className=\"divider divider-horizontal w-full\" />\n            <div className=\"flex flex-row w-full px-12 py-4\">\n              {!!isEdit && target.type !== 'company' && (\n                <Button\n                  variant=\"ghost\"\n                  loading={isDeleting}\n                  colorScheme=\"gray\"\n                  type=\"button\"\n                  iconLeft={<CarbonTrashCan width={16} height={16} className=\"w-4 h-4\" />}\n                  onClick={handleDelete}\n                >\n                  <p className=\"text-Gray-6 text-xs font-semibold\">Delete</p>\n                </Button>\n              )}\n              <div className=\"flex gap-3 ml-auto\">\n                <Button variant=\"ghost\" colorScheme=\"gray\" onClick={onCancel}>\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  loading={isCreatingTarget || isUpdatingTarget}\n                  disabled={!isDirty}\n                  variant=\"solid\"\n                  colorScheme={isReadyToCreate ? 'primary' : 'gray'}\n                  className=\"hover:bg-primary\"\n                  iconRight={\n                    <ArrowRight className=\"fill-current path-no-filled stroke-current path-no-stroke object-fill text-white\" />\n                  }\n                >\n                  {isEdit ? 'Save' : 'Create'}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </Form>\n      </OverlayLoader>\n    </Modal>\n  );\n});\n","import { Button } from '@/common/components';\nimport { getColorByPropertyType, getPropIconByType } from '@/main/utils';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { TargetProps } from '../types';\n\ntype ExceptionListProps = {\n  className?: string;\n  items: TargetProps[];\n  onTagRemoveClick?: (item: TargetProps) => void;\n};\n\nconst ExceptionList = ({ className, items = [], onTagRemoveClick }: ExceptionListProps) => {\n  if (items.length === 0) return null;\n\n  return (\n    <div className={clsx('flex flex-row py-1 space-x-2 px-2', className)}>\n      <div className=\"flex items-center justify-center w-[50px] h-[30px]\">\n        <p className=\"text-Gray-6 text-xs\">Except </p>\n      </div>\n      <div className=\"flex flex-grow flex-wrap items-center focus-within:z-10 overflow-y-scroll\">\n        {items.map((item) => {\n          const IconByType = getPropIconByType(item?.type);\n          const colorByType = getColorByPropertyType(item?.type);\n          return (\n            <Button\n              key={`ExceptionList-${item?.id}`}\n              className=\"flex flex-row h-[30px] items-center m-0.5 space-x-1 px-2 py-1 rounded-sm\"\n              style={{ backgroundColor: colorByType }}\n            >\n              <IconByType\n                className=\"w-5 h-5 fill-current path-no-filled text-white object-scale-down\"\n                width={20}\n                height={20}\n                viewBox=\"0 0 20 20\"\n              />\n              <p className=\"text-white text-left text-3xs font-semibold truncate max-w-[160px]\">\n                {item?.name}\n              </p>\n              <Button\n                className=\"text-xs text-white font-bold ml-2\"\n                onClick={() => {\n                  onTagRemoveClick?.(item);\n                }}\n              >\n                &times;\n              </Button>\n            </Button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default ExceptionList;\n","/* eslint-disable react/no-unescaped-entities */\nimport { BasicsDownSmall } from '@/assets';\nimport { ReactComponent as ArrowRight } from '@/assets/icons/outline/arrow-right-2.svg';\nimport Loading from '@/common/atoms/Loading';\nimport { Button, Popover } from '@/common/components';\nimport { defaultTargetMonths, monthsInYear } from '@/common/constants';\nimport { DateUtils, formatCurrency, round } from '@/common/utils';\nimport MonthTargetInput from '@/main/atoms/MonthTargetInput';\nimport { TargetMonth, TargetPeriod, TargetProps } from '@/target/types';\nimport { useDisclosure } from '@dwarvesf/react-hooks';\nimport clsx from 'clsx';\nimport dayjs from 'dayjs';\nimport { cloneDeep } from 'lodash-es';\nimport React, { forwardRef, ForwardRefRenderFunction, useEffect, useRef, useState } from 'react';\nimport { useWindowSize } from '@react-hook/window-size';\n\ninterface MultiMonthDropdownProps {\n  className?: string;\n  classPopover?: string;\n  props: TargetProps[];\n  periods?: TargetPeriod[];\n  onApply?: (data: TargetMonth[], year: number) => void;\n  year?: number;\n  lastYearData: TargetPeriod[];\n  isLoadingData?: boolean;\n}\n\nexport type MultiMonthData = {\n  months: TargetMonth[];\n  year: number;\n};\n\nexport interface MultiMonthDropdownHandler {\n  getData?: () => MultiMonthData;\n}\n\nexport const getButtonTitle = (min: number, max: number): string => {\n  let name = 'Select';\n  if (min !== 0) {\n    name = dayjs()\n      .year(DateUtils.getThisYear())\n      .month(min - 1)\n      .format('MMM, YYYY');\n  }\n  if (max !== 0 && max !== min) {\n    name += ` - ${dayjs()\n      .year(DateUtils.getThisYear())\n      .month(max - 1)\n      .format('MMM, YYYY')}`;\n  }\n  return name;\n};\n\nconst MultiMonthDropdown: ForwardRefRenderFunction<\n  MultiMonthDropdownHandler,\n  MultiMonthDropdownProps\n> = ({\n  className = '',\n  classPopover = '',\n  periods,\n  onApply = () => undefined,\n  lastYearData,\n  isLoadingData,\n}) => {\n  const useableViewRef = useRef(null);\n  const [selectedMonths, setSelectedMonths] = useState<number[]>([]);\n  const [targetMonthValues, setTargetMonthValues] = useState<TargetMonth[]>(defaultTargetMonths);\n  // Variables\n  const curYear = DateUtils.getThisYear();\n  const minMonth = selectedMonths.length ? Math.min(...selectedMonths) : 0;\n  const maxMonth = selectedMonths.length ? Math.max(...selectedMonths) : 0;\n  const totalAmount = round(\n    targetMonthValues.reduce((total, target) => total + (target?.amount ?? 0), 0),\n  );\n  const isValidData = selectedMonths.length > 0 && !isLoadingData;\n\n  const [, height] = useWindowSize();\n\n  const popoverDisclosure = useDisclosure();\n\n  useEffect(() => {\n    if (periods && periods.length > 0) {\n      // Find min / max months\n      let availableMonths = periods.map((period) => period.month);\n      const min = Math.min(...availableMonths);\n      const max = Math.max(...availableMonths);\n      const clonePreState = cloneDeep(targetMonthValues);\n      periods.forEach((period: TargetPeriod) => {\n        // set amount when period amount was set (!== 0) or period amount === 0 and period month is first or last month\n        // => this is to prevent zero from showing multiple times between time ranges (ex: 0, 0, 1, 0, 0, 2, 0, 0 -> 0, , 1, , , 2, , 0)\n        if (\n          (period?.amount && clonePreState[period.month - 1]) ||\n          (period?.amount === 0 && (period?.month === min || period?.month === max))\n        ) {\n          clonePreState[period?.month - 1].amount = period?.amount;\n        } else {\n          clonePreState[period?.month - 1].amount = undefined;\n          availableMonths = availableMonths.filter((month) => month !== period?.month);\n        }\n      });\n      setSelectedMonths(availableMonths);\n      setTargetMonthValues(clonePreState);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [periods]);\n\n  const onClickApply = () => {\n    popoverDisclosure.onClose();\n    onApply(targetMonthValues, curYear);\n  };\n\n  const onChangeMonthInput = (month: number, amount?: number) => {\n    const clonePreState = cloneDeep(targetMonthValues);\n    const curAmount = clonePreState[month - 1]?.amount;\n    if (amount !== curAmount && clonePreState[month - 1]) {\n      clonePreState[month - 1].amount = amount;\n      setTargetMonthValues(clonePreState);\n    }\n  };\n\n  const renderMonthName = () => {\n    return (\n      <div className=\"flex flex-1 flex-col\">\n        {monthsInYear.map((month: number, indexMonth: number) => {\n          const isInRange = month >= minMonth && month <= maxMonth;\n          let borderStyle = 'border-l border-r border-Accent-2';\n          if (month === minMonth) borderStyle = `${borderStyle} border-t`;\n          if (month === maxMonth) borderStyle = `${borderStyle} border-b`;\n\n          return (\n            <div key={`month-${month}`} className={clsx('flex flex-col ')}>\n              <div\n                className={clsx(\n                  'w-24 h-7 px-2 py-1 text-left flex flex-col justify-center items-start',\n                  isInRange ? borderStyle : '',\n                )}\n              >\n                <p className=\"text-sm text-Gray-3\">\n                  {dayjs()\n                    .month(month - 1)\n                    .format('MMMM')}\n                </p>\n              </div>\n              {indexMonth !== 11 && (\n                <div\n                  className={clsx(\n                    'h-1 w-full',\n                    isInRange && indexMonth !== maxMonth - 1\n                      ? 'border-l border-r border-Accent-2'\n                      : '',\n                  )}\n                />\n              )}\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n  const renderLastYearSpend = () => {\n    return (\n      <div className=\"flex flex-1 flex-col space-y-1\">\n        {monthsInYear.map((month: number) => {\n          const monthMatched = lastYearData.filter((item: TargetPeriod) => item.month === month);\n          const lastYearSpend =\n            monthMatched.length > 0 ? parseFloat(monthMatched[0].total?.toString() ?? '0') : 0;\n          return (\n            <div\n              key={`renderLastYearSpend-${month}`}\n              className=\"w-24 h-7 px-2 py-1 text-right flex flex-col justify-center items-end\"\n            >\n              <p className=\"text-sm text-Gray-6\">\n                {`$${formatCurrency({\n                  value: lastYearSpend,\n                })}`}\n              </p>\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const onClickOpenModal = () => {\n    popoverDisclosure.onOpen();\n  };\n\n  // Popover will be partially cropped\n  const HEIGHT_LIMIT = 950;\n  const isHeightRestricted = height < HEIGHT_LIMIT;\n\n  return (\n    <div className={clsx('flex-shrink-0 relative', className)} ref={useableViewRef}>\n      <Popover\n        open={popoverDisclosure.isOpen}\n        onClose={popoverDisclosure.onClose}\n        placement={isHeightRestricted ? 'right-start' : 'bottom-start'}\n        trigger={\n          <Button\n            size=\"sm\"\n            variant=\"outline\"\n            colorScheme=\"gray\"\n            onClick={onClickOpenModal}\n            iconRight={<BasicsDownSmall width={20} height={20} />}\n          >\n            {getButtonTitle(minMonth, maxMonth)}\n          </Button>\n        }\n      >\n        {!!popoverDisclosure.isOpen && (\n          <div\n            className={clsx(\n              'flex w-[348px] h-[528px] flex-col absolute z-50 left-0 shadow-property-dropdown border border-Gray-11 rounded-sm bg-white',\n              { 'transform -translate-y-1/4': isHeightRestricted },\n              classPopover,\n            )}\n          >\n            <div className=\"flex flex-row items-center px-4 border-b border-Gray-11 h-8\">\n              <div className=\"flex flex-1 flex-row justify-center items-center\">\n                <p className=\"text-primary text-xs font-semibold ml-4\">{curYear}</p>\n                {/* <div className=\"w-4 h-4 flex justify-center items-center\">\n                    {isLoadingData && <Loading width={8} height={8} />}\n                  </div> */}\n              </div>\n            </div>\n            <div className=\"flex flex-row items-center justify-between text-xs text-Gray-6 px-7 pt-2 h-8\">\n              <p>Month</p>\n              <p>Last Year's Spend</p>\n              <p>Target</p>\n            </div>\n            <div\n              className={clsx(\n                'flex flex-row space-x-2 py-2 px-[22px] relative',\n                isLoadingData ? 'opacity-50' : '',\n              )}\n            >\n              {renderMonthName()}\n              {renderLastYearSpend()}\n              <div className=\"flex flex-1 flex-col space-y-1\">\n                {monthsInYear.map((month: number) => {\n                  const isInRange = month >= minMonth && month <= maxMonth;\n                  const amountSaved = targetMonthValues.find(\n                    (item: TargetMonth) => item.month === month,\n                  )?.amount;\n                  return (\n                    <MonthTargetInput\n                      key={`month-amount-${month}`}\n                      month={month}\n                      defaultAmount={amountSaved}\n                      isInRange={isInRange}\n                      onChange={(amount) => onChangeMonthInput(month, amount)}\n                      onSelect={() => {\n                        const isIncluded = selectedMonths.includes(month);\n                        if (!isIncluded) {\n                          setSelectedMonths((pre) => [...pre, month]);\n                        }\n                      }}\n                      onUnselect={() => {\n                        const isIncluded = selectedMonths.includes(month);\n                        if (isIncluded) {\n                          setSelectedMonths((pre) => pre.filter((item) => item !== month));\n                        }\n                      }}\n                    />\n                  );\n                })}\n              </div>\n              <div\n                className={clsx(\n                  'absolute z-10 flex w-full h-full justify-center items-center',\n                  isLoadingData ? '' : 'pointer-events-none',\n                )}\n              >\n                {isLoadingData && <Loading width={36} height={36} className=\"mr-12\" />}\n              </div>\n            </div>\n            <div className=\"flex flex-col items-end justify-between text-xs text-primary px-6 pt-2 h-8\">\n              <p className=\"text-primary font-semibold\">\n                Total Target Amount:\n                <span className=\"font-normal text-Gray-3 ml-1\">\n                  {`$${formatCurrency({ value: totalAmount, format: '0,0' })}`}\n                </span>\n              </p>\n            </div>\n            <hr className=\"divider divider-horizontal w-full\" />\n            <div className=\"flex flex-row w-full px-4 items-center h-11 justify-end gap-3\">\n              <Button\n                variant=\"ghost\"\n                colorScheme=\"gray\"\n                size=\"sm\"\n                onClick={popoverDisclosure.onClose}\n                className=\"px-4\"\n              >\n                <p className=\"text-Gray-6 text-xs font-semibold\">Cancel</p>\n              </Button>\n              <Button\n                variant=\"solid\"\n                colorScheme={isValidData ? 'primary' : 'gray'}\n                size=\"sm\"\n                disabled={isLoadingData}\n                onClick={onClickApply}\n                iconRight={\n                  <ArrowRight className=\"w-4 h-4 ml-2 fill-current path-no-filled stroke-current path-no-stroke object-fill text-white\" />\n                }\n                className=\"px-4\"\n              >\n                Apply\n              </Button>\n            </div>\n          </div>\n        )}\n      </Popover>\n    </div>\n  );\n};\n\nexport default forwardRef(MultiMonthDropdown);\n","import { AlertRed } from '@/assets';\nimport {\n  Form,\n  TagColorScheme,\n  TagProps,\n  TagsSelectOption,\n  TagsSelectOptions,\n  TagsSelectProps,\n  TagsSelectSearch,\n} from '@/common/components';\nimport { useDebounce } from '@/common/hooks';\nimport clsx from 'clsx';\nimport React from 'react';\n\ntype PropertiesName = 'vendors' | 'categories' | 'departments' | 'exceptions';\n\nexport type PropertiesDropdownOption = Pick<TagProps, 'colorScheme'> &\n  Pick<TagsSelectOption, 'searchValue' | 'className'> & {\n    value: string;\n    icon: React.ReactNode;\n    label: React.ReactNode;\n    name: string;\n  };\n\ntype PropertiesDropdownProps = Pick<TagsSelectProps, 'placement'> & {\n  name: PropertiesName;\n  placeholder?: React.ReactNode;\n  options: PropertiesDropdownOption[];\n  searchPlaceholder: string;\n  trigger?: React.ReactNode;\n  onChange?: (value: string[]) => void;\n  showOptionsOnEmptySearch?: boolean;\n  error?: boolean;\n  description?: React.ReactNode;\n};\n\nconst ColorByColorScheme: Record<TagColorScheme, string> = {\n  accent: 'text-Accent-2',\n  cyan: 'text-cyan-1',\n  orange: 'text-orange-1',\n};\n\nexport const PropertiesDropdown = React.forwardRef(\n  (\n    {\n      name,\n      placeholder,\n      options,\n      searchPlaceholder,\n      trigger,\n      onChange,\n      placement,\n      showOptionsOnEmptySearch = true,\n      error,\n      description,\n    }: PropertiesDropdownProps,\n    ref: any,\n  ) => {\n    const internalRef = React.useRef<any>();\n    const [search, setSearch] = React.useState('');\n    const setSearchDebounced = useDebounce(setSearch, 300);\n\n    React.useImperativeHandle(ref, () => internalRef.current);\n\n    React.useEffect(() => {\n      if (error) {\n        internalRef.current?.open();\n      }\n    }, [error, internalRef]);\n\n    return (\n      <Form.TagsSelect\n        ref={internalRef}\n        className=\"max-w-[140px] h-[fit-content] flex-shrink-0\"\n        trigger={trigger}\n        name={name}\n        placeholder={placeholder}\n        onChange={onChange}\n        placement={placement}\n        onClose={() => setSearch('')}\n      >\n        {description}\n        <TagsSelectSearch\n          placeholder={searchPlaceholder}\n          onChange={(e) => setSearchDebounced(e.target.value)}\n        />\n        <div\n          className={clsx('invisible-scrollbar flex-1 overflow-auto', {\n            'min-h-[150px]': !showOptionsOnEmptySearch,\n          })}\n        >\n          <div className={clsx({ hidden: !showOptionsOnEmptySearch && !search })}>\n            <TagsSelectOptions\n              options={options.map(({ icon, label, colorScheme, name, ...restOptions }) => ({\n                tagProps: {\n                  colorScheme,\n                  icon,\n                  children: (\n                    <span className=\"whitespace-nowrap overflow-hidden overflow-ellipsis\">\n                      {name}\n                    </span>\n                  ),\n                },\n                icon: (\n                  <div className={clsx('w-5 h-5', ColorByColorScheme[colorScheme])}>{icon}</div>\n                ),\n                children: (\n                  <div className=\"whitespace-nowrap overflow-hidden overflow-ellipsis w-full\">\n                    {label}\n                  </div>\n                ),\n                ...restOptions,\n              }))}\n            />\n          </div>\n        </div>\n      </Form.TagsSelect>\n    );\n  },\n);\n\nPropertiesDropdown.displayName = 'PropertiesDropdown';\n","import { Bank, CategoryIcon, IntersectIcon, TeamIcon } from '@/assets';\nimport { useCategories } from '@/category/useCategories';\nimport { Button, Tag } from '@/common/components';\nimport { useDepartments } from '@/team/useDepartments';\nimport { useVendors } from '@/vendor/useVendors';\nimport React from 'react';\nimport { TargetProps, TargetTypeProp } from '../types';\nimport ExceptionList from './ExceptionList';\nimport { PropertiesDropdown, PropertiesDropdownOption } from './PropertiesDropdown';\n\ntype PropsSectionProps = {\n  reviewSentence: string;\n  exceptionProps?: TargetProps[];\n  error?: boolean;\n};\n\nexport const PropsSection = ({ reviewSentence, exceptionProps = [], error }: PropsSectionProps) => {\n  const exceptionsDropdownRef = React.useRef<any>();\n\n  const { departments } = useDepartments({ limit: 0 });\n\n  const { vendors } = useVendors({\n    limit: 0,\n  });\n\n  const { categories } = useCategories({\n    limit: 0,\n  });\n\n  const vendorOptions = React.useMemo<PropertiesDropdownOption[]>(\n    () =>\n      vendors.map(({ id, name }) => ({\n        value: `${TargetTypeProp.VENDOR}-${id}-${name}`,\n        name,\n        label: (\n          <div className=\"flex items center w-full\">\n            <span className=\"max-w-[220px] truncate\">{name}</span>\n            <span className=\"invisible group-hover:visible text-Gray-6\">&nbsp;- Vendor</span>\n          </div>\n        ),\n        icon: <Bank width={14} height={14} />,\n        colorScheme: 'orange',\n        searchValue: name,\n        className: 'group',\n      })),\n    [vendors],\n  );\n\n  const categoryOptions = React.useMemo<PropertiesDropdownOption[]>(\n    () =>\n      categories.map(({ id, name }) => ({\n        value: `${TargetTypeProp.CATEGORY}-${id}-${name}`,\n        name,\n        label: (\n          <div className=\"flex items center w-full\">\n            <span className=\"max-w-[220px] truncate\">{name}</span>\n            <span className=\"invisible group-hover:visible text-Gray-6\">&nbsp;- Category</span>\n          </div>\n        ),\n        icon: <CategoryIcon width={14} height={14} />,\n        colorScheme: 'accent',\n        searchValue: name,\n        className: 'group',\n      })),\n    [categories],\n  );\n\n  const departmentOptions = React.useMemo<PropertiesDropdownOption[]>(\n    () =>\n      departments.map(({ id, name }) => ({\n        value: `${TargetTypeProp.DEPARTMENT}-${id}-${name}`,\n        name,\n        label: (\n          <div className=\"flex items center w-full\">\n            <span className=\"max-w-[220px] truncate\">{name}</span>\n            <span className=\"invisible group-hover:visible text-Gray-6\">&nbsp;- Team</span>\n          </div>\n        ),\n        icon: <TeamIcon width={14} height={14} />,\n        colorScheme: 'cyan',\n        searchValue: name,\n        className: 'group',\n      })),\n    [departments],\n  );\n\n  const exceptionOptions = React.useMemo(\n    () => [...vendorOptions, ...categoryOptions, ...departmentOptions],\n    [categoryOptions, departmentOptions, vendorOptions],\n  );\n\n  return (\n    <div className=\"flex flex-col space-y-3 px-10 py-4 w-full\">\n      <p className=\"text-primary text-xs font-semibold\">\n        Properties*:\n        <span className=\"text-Gray-3 font-normal ml-1\">{reviewSentence}</span>\n      </p>\n      <div className=\"flex flex-row py-1 space-x-2 px-2\">\n        <div className=\"flex items-center justify-center w-14 min-w-[50px] h-[30px]\">\n          <p className=\"text-Gray-6 text-xs\">Target Is</p>\n        </div>\n        <PropertiesDropdown\n          name=\"vendors\"\n          placeholder={\n            <Tag colorScheme=\"orange\" icon={<Bank width={14} height={14} />}>\n              All Vendors\n            </Tag>\n          }\n          searchPlaceholder=\"Enter a vendor\"\n          options={vendorOptions}\n          error={error}\n        />\n        <div className=\"flex items-center justify-center w-6 h-[30px]\">\n          <p className=\"text-Gray-6 text-xs text-center\">in</p>\n        </div>\n        <PropertiesDropdown\n          name=\"categories\"\n          placeholder={\n            <Tag colorScheme=\"accent\" icon={<CategoryIcon width={14} height={14} />}>\n              All Categories\n            </Tag>\n          }\n          searchPlaceholder=\"Enter a category\"\n          options={categoryOptions}\n        />\n        <div className=\"flex items-center justify-center w-6 h-[30px]\">\n          <p className=\"text-Gray-6 text-xs text-center\">for</p>\n        </div>\n        <PropertiesDropdown\n          name=\"departments\"\n          placeholder={\n            <Tag colorScheme=\"cyan\" icon={<TeamIcon width={14} height={14} />}>\n              All Teams\n            </Tag>\n          }\n          searchPlaceholder=\"Enter a team\"\n          options={departmentOptions}\n          placement=\"bottom-end\"\n        />\n        <PropertiesDropdown\n          ref={exceptionsDropdownRef}\n          name=\"exceptions\"\n          searchPlaceholder=\"Enter a team, category, or vendor\"\n          options={exceptionOptions}\n          trigger={\n            <Button size=\"sm\" variant=\"outline\" square colorScheme=\"gray\">\n              <IntersectIcon className=\"w-4 h-4\" width={16} height={16} />\n            </Button>\n          }\n          placement=\"bottom-end\"\n          showOptionsOnEmptySearch={false}\n          description={\n            <div className=\"flex items-center text-xs mb-2 text-Gray-6\">\n              <p className=\"font-semibold text-Gray-1\">Except</p> - Specify any properties not to\n              include\n            </div>\n          }\n        />\n      </div>\n      <ExceptionList\n        items={exceptionProps}\n        onTagRemoveClick={({ id, name, type }) => {\n          exceptionsDropdownRef.current?.removeTag(`${type}-${id}-${name}`);\n        }}\n      />\n    </div>\n  );\n};\n","export { AddTargetModal } from './AddTargetModal';\nexport type { AddTargetModalProps } from './AddTargetModal';\n","import { INITIAL_CHART_DATA } from '@/common/constants';\nimport { getChartLevels } from '@/main/chart.utils';\nimport { ChartLineProps, LineChartData } from '@/main/types';\nimport clsx from 'clsx';\nimport React, { CSSProperties } from 'react';\nimport { Area, AreaChart, ResponsiveContainer, Tooltip, TooltipProps, YAxis } from 'recharts';\nimport { NameType, ValueType } from 'recharts/types/component/DefaultTooltipContent';\n\nconst MIN_Y_VALUE = 100;\n\ntype TargetChartProps<T> = {\n  className?: string;\n  containerStyle?: CSSProperties;\n  containerClass?: string;\n  chartData?: LineChartData<T>;\n  renderXAxis?: () => JSX.Element;\n  renderReferenceLines?: () => JSX.Element | null;\n  renderTooltip?: (props: TooltipProps<ValueType, NameType>) => JSX.Element | null;\n  levelLabelClass?: string;\n  prevYearColor?: string;\n  showTarget?: boolean;\n};\n\nexport const TargetChart: <T>(\n  p: TargetChartProps<T>,\n) => React.ReactElement<TargetChartProps<T>> = ({\n  className,\n  containerStyle,\n  containerClass,\n  chartData,\n  renderXAxis,\n  renderReferenceLines,\n  renderTooltip,\n  levelLabelClass = '',\n  prevYearColor,\n  showTarget,\n}) => {\n  const { data, lines, maxValue } = chartData || INITIAL_CHART_DATA;\n  const maxValueWithSurplus = Math.ceil(maxValue * 1.1);\n  const maxValueForChart = Math.max(maxValueWithSurplus, MIN_Y_VALUE);\n  const chartLevels = getChartLevels(maxValueForChart);\n\n  return (\n    <div\n      style={containerStyle}\n      className={clsx('flex flex-col w-full h-full', containerClass || '')}\n    >\n      <div className=\"flex relative flex-col flex-1\">\n        <div className=\"absolute top-[-3px] flex w-full h-full justify-between flex-col-reverse\">\n          {chartLevels.map((level) => {\n            const textColor = level?.isTarget ? 'text-Accent-2' : 'text-Gray-6';\n            return (\n              <div\n                key={`dataLevels-${level?.id}`}\n                className=\"flex flex-row space-x-4 items-center w-full\"\n              >\n                <p\n                  className={clsx(\n                    'text-xs font-semibold text-right w-8 flex justify-end',\n                    textColor,\n                    levelLabelClass,\n                  )}\n                >\n                  {level?.title}\n                </p>\n                <div\n                  className={clsx(\n                    'flex flex-1 w-auto h-px',\n                    level?.isTarget ? 'dashed-line' : 'bg-Gray-11',\n                  )}\n                />\n              </div>\n            );\n          })}\n        </div>\n        <ResponsiveContainer width=\"100%\" height=\"100%\" className={className}>\n          <AreaChart\n            width={500}\n            height={300}\n            data={data}\n            margin={{\n              top: 5,\n              right: 10,\n              left: 50,\n              bottom: 10,\n            }}\n          >\n            <YAxis domain={[0, maxValueForChart]} width={0} height={0} className=\"opacity-0\" />\n            {data.length && <Tooltip cursor position={{ y: 5 }} content={renderTooltip} />}\n            {renderReferenceLines && renderReferenceLines()}\n            {lines\n              .slice()\n              .reverse()\n              .map((line: ChartLineProps) => {\n                let fill = line.fill;\n                if (line.dataKey === 'lastYear' && prevYearColor) {\n                  fill = prevYearColor;\n                }\n\n                if (line.dataKey === 'target' && !showTarget) return null;\n\n                return (\n                  <Area\n                    key={line.name}\n                    name={line.name}\n                    type={line.type as any}\n                    dataKey={line.dataKey}\n                    strokeWidth={line.strokeWidth}\n                    stroke={line.stroke}\n                    strokeDasharray={line.strokeDasharray}\n                    dot={line.dot}\n                    fill={fill}\n                    opacity={line.opacity}\n                  />\n                );\n              })}\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n      {renderXAxis && renderXAxis()}\n    </div>\n  );\n};\n"],"names":["React","useState","useRef","useEffect","formatCurrency","replaceAll","clsx","MonthTargetInput","isInRange","className","onChange","onSelect","onUnselect","defaultAmount","amountInputRef","undefined","value","format","defaultValue","supportNegative","amount","setAmount","isFocus","setIsFocus","handleChange","event","newValue","target","handleKeyDown","includes","key","preventDefault","current","blur","onFocus","onBlur","length","amountInt","parseInt","InfoCircleIcon","getTargetPeriodsAmountTotal","getTrackingStatusName","TargetStatusConfig","TargetStatusMessage","Button","RightSmallIcon","TargetStatus","type","onTargetSet","label","background","dot","overallTarget","exceeding","backgroundColor","color","TargetStatusType","riskRange","OnTrack","AtRisk","toFixed","Exceeded","TargetChart","cloneDeep","defaultMonths","TooltipContent","getLineChartDataInMonth","getMonthsLineChartData","isEmptyPeriods","XAxis","SpendingChart","data","prevYearColor","periods","trackingStatus","months","dataMonth","forEach","period","month","updatedMonths","filter","item","startMonth","endMonth","chartData","showTarget","props","monthsInYear","map","AlertRed","ReactComponent","ArrowRight","CarbonTrashCan","useCategories","Modal","Form","OverlayLoader","defaultTargetMonths","EMPTY_ARRAY","withMountOnOpen","useFetcher","useHandler","DateUtils","round","genReviewSentenceFromProperties","getPeriodsFromTargetMonths","getCurrentSpendings","TargetTypeProp","useDepartments","useVendors","useForm","TargetApis","isValidPeriods","MultiMonthDropdown","PropsSection","THIS_YEAR","getThisYear","getPropFromTagValue","split","id","name","AddTargetModal","open","onClose","onCancel","departmentId","hidePropertyDropdownsProp","hidePropertyDropdowns","useDefaultApis","isEdit","methods","mode","watch","setValue","reset","formState","errors","isDirty","clearErrors","isValidatingDepartments","departments","isValidatingVendors","isValidatingCategories","getTagValueFromProps","reduce","acc","cur","vendorProps","VENDOR","categoryProps","CATEGORY","departmentProps","DEPARTMENT","vendors","categories","foundDepartment","find","Boolean","selectedVendors","selectedCategories","selectedDepartments","useMemo","exclude","selectedExceptions","exceptionProps","targetProps","flat","getSpending","isValidatingSpendings","isValidating","spendings","spendingsRaw","Array","fill","_","index","currentMonth","spendingsRawForCurrentMonth","year","total","onCreateSuccess","onCreateError","onUpdateSuccess","onUpdateError","onDeleteSuccess","onDeleteError","onCreate","onUpdate","onDelete","createApi","create","updateApi","update","deleteApi","delete","payload","onSuccess","onError","createTarget","handle","isCreatingTarget","isLoading","updateTarget","isUpdatingTarget","isDeleting","deleteTarget","renderErrorName","totalTargetAmount","displaySpendings","totalCurrentSpend","isReadyToCreate","renderNoMonthError","reviewSentence","isValidatingOptions","hasNameError","hasPeriodsError","handleCreate","depId","isPrimary","handleSave","handleDelete","validate","required","shouldDirty","getColorByPropertyType","getPropIconByType","ExceptionList","items","onTagRemoveClick","IconByType","colorByType","BasicsDownSmall","Loading","Popover","useDisclosure","dayjs","forwardRef","useWindowSize","getButtonTitle","min","max","classPopover","onApply","lastYearData","isLoadingData","useableViewRef","selectedMonths","setSelectedMonths","targetMonthValues","setTargetMonthValues","curYear","minMonth","Math","maxMonth","totalAmount","isValidData","height","popoverDisclosure","availableMonths","clonePreState","onClickApply","onChangeMonthInput","curAmount","renderMonthName","indexMonth","borderStyle","renderLastYearSpend","monthMatched","lastYearSpend","parseFloat","toString","onClickOpenModal","onOpen","HEIGHT_LIMIT","isHeightRestricted","isOpen","amountSaved","isIncluded","pre","TagsSelectOptions","TagsSelectSearch","useDebounce","ColorByColorScheme","accent","cyan","orange","PropertiesDropdown","ref","placeholder","options","searchPlaceholder","trigger","placement","showOptionsOnEmptySearch","error","description","internalRef","search","setSearch","setSearchDebounced","useImperativeHandle","e","hidden","icon","colorScheme","restOptions","tagProps","children","displayName","Bank","CategoryIcon","IntersectIcon","TeamIcon","Tag","exceptionsDropdownRef","limit","vendorOptions","searchValue","categoryOptions","departmentOptions","exceptionOptions","removeTag","INITIAL_CHART_DATA","getChartLevels","Area","AreaChart","ResponsiveContainer","Tooltip","YAxis","MIN_Y_VALUE","containerStyle","containerClass","renderXAxis","renderReferenceLines","renderTooltip","levelLabelClass","lines","maxValue","maxValueWithSurplus","ceil","maxValueForChart","chartLevels","level","textColor","isTarget","title","top","right","left","bottom","y","slice","reverse","line","dataKey","strokeWidth","stroke","strokeDasharray","opacity"],"sourceRoot":""}